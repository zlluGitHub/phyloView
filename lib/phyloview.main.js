(()=>{var e={229:()=>{function h(t){this.id=t,this.parent=void 0,this.children=[],this.height=void 0,this.length=void 0,this.name=void 0,this.annotation={},this.hybridID=void 0}function t(t){this.root=t,this.computeNodeAges()}h.prototype.toString=function(){return"node#"+this.id},h.prototype.addChild=function(t){this.children.push(t),t.parent=this},h.prototype.removeChild=function(t){t=this.children.indexOf(t);this.children.splice(t,1)},h.prototype.isRoot=function(){return void 0===this.parent},h.prototype.isLeaf=function(){return 0===this.children.length},h.prototype.isSingleton=function(){return 1===this.children.length},h.prototype.isHybrid=function(){return void 0!==this.hybridID},h.prototype.getAncestors=function(){return this.isRoot()?[this]:[this].concat(this.parent.getAncestors())},h.prototype.isLeftOf=function(t){for(var n=this.getAncestors().reverse(),e=t.getAncestors().reverse(),r=1;r<Math.min(n.length,e.length);r++)if(n[r]!=e[r]){var i=n[r-1];return i.children.indexOf(n[r])<i.children.indexOf(e[r])}},h.prototype.copy=function(){var t,n=new h(this.id);for(t in n.height=this.height,n.length=this.length,n.name=this.name,this.annotation)n.annotation[t]=this.annotation[t];n.id=this.id,n.hybridID=this.hybridID,n.collapsed=this.collapsed,n.cartoon=this.cartoon;for(var e=0;e<this.children.length;e++)n.addChild(this.children[e].copy());return n},h.prototype.applyPreOrder=function(t){var n=[],e=t(this);null!==e&&(n=n.concat(e));for(var r=0;r<this.children.length;r++)n=n.concat(this.children[r].applyPreOrder(t));return n},window.Node=h,t.prototype.computeNodeAges=function(){var t=this.root.applyPreOrder(function(t){return void 0===t.parent?t.height=0:void 0!==t.length?t.height=t.parent.height-t.length:t.height=NaN,t.height}),n=Math.min.apply(null,t);this.isTimeTree=!Number.isNaN(n)&&(1<t.length||void 0!==this.root.length);for(var e=0;e<this.getNodeList().length;e++)this.getNodeList()[e].height-=n},t.prototype.reassignNodeIDs=function(){for(var t=0,n=0;n<this.getNodeList().length;n++)this.getNodeList()[n].id=t++},t.prototype.clearCaches=function(){this.nodeList=void 0,this.nodeIDMap=void 0,this.leafList=void 0,this.recombEdgeMap=void 0},t.prototype.getNodeList=function(){return void 0===this.nodeList&&void 0!==this.root&&(this.nodeList=this.root.applyPreOrder(function(t){return t})),this.nodeList},t.prototype.getNode=function(t){if(void 0===this.nodeIDMap&&void 0!==this.root){this.nodeIDMap={};for(var n=0;n<this.getNodeList().length;n++){var e=this.getNodeList()[n];this.nodeIDMap[e]=e}}return this.nodeIDMap[t]},t.prototype.getLeafList=function(){return void 0===this.leafList&&void 0!==this.root&&(this.leafList=this.root.applyPreOrder(function(t){return t.isLeaf()?t:null})),this.leafList},t.prototype.getRecombEdgeMap=function(){if(void 0===this.recombEdgeMap){for(var t,n,e=void 0!==this.root?this.root.applyPreOrder(function(t){return t.isHybrid()?t:null}):[],r={},i={},o=0;o<e.length;o++)(t=e[o]).isLeaf()?t.hybridID in i?i[t.hybridID].push(t):i[t.hybridID]=[t]:r[t.hybridID]=t;for(n in this.recombEdgeMap={},r){if(!(n in i))throw"Extended Newick error: hybrid nodes must come in groups of 2 or more.";this.recombEdgeMap[n]=[r[n]].concat(i[n])}for(n in i)n in this.recombEdgeMap||(this.recombEdgeMap[n]=[].concat(i[n]))}return this.recombEdgeMap},t.prototype.isRecombSrcNode=function(t){return t.isHybrid()&&this.getRecombEdgeMap()[t.hybridID][0]==t},t.prototype.isRecombDestNode=function(t){return t.isHybrid()&&this.getRecombEdgeMap()[t.hybridID][0]!=t},t.prototype.isNetwork=function(){return 0<Object.keys(this.getRecombEdgeMap()).length},t.prototype.sortNodes=function(a){void 0!==this.root&&(!function t(n){for(var e=1,r={},i=0;i<n.children.length;i++){var o=t(n.children[i]);e+=o,r[n.children[i]]=o}return n.children.sort(function(t,n){return a?r[n]-r[t]:r[t]-r[n]}),e}(this.root),this.leafList=void 0)},t.prototype.shuffleNodes=function(){void 0!==this.root&&!function t(n){for(var e=0;e<n.children.length;e++)t(n.children[e]);!function(t){for(var n=t.length-1;0<n;n--){var e=Math.floor(Math.random()*(n+1)),r=[t[e],t[n]];t[n]=r[0],t[e]=r[1]}}(n.children)}(this.root)},t.prototype.minimizeHybridSeparation=function(){var t,n=this.getRecombEdgeMap();for(t in n)for(var e=n[t][0],r=1;r<n[t].length;r++){var i=n[t][r],o=i.parent;o.removeChild(i),e.isLeftOf(o)?o.children.splice(0,0,i):o.children.push(i)}},t.prototype.collapseZeroLengthEdges=function(){this.root.applyPreOrder(function(t){for(var n=t.children.slice();0<n.length;){var e=n.pop();if(e.height==t.height){t.removeChild(e),t.annotation=e.annotation,t.name=e.name;for(var r=0;r<e.children.length;r++){var i=e.children[r];t.addChild(i),n.push(i)}}}}),this.clearCaches()},t.prototype.reroot=function(t){this.recombEdgeMap=void 0;var s=this.getRecombEdgeMap(),n=this.root;this.root=new h;var e=t.parent;e.removeChild(t),this.root.addChild(t),void 0!==t.length&&(t.length/=2);var r,o=e,e=this.root,t=t.length,f={};for(r in s)f[r]=!0;for(r in!function t(n,e,r,i){if(void 0!==n){if(n in r){var o=new h;if(n.isHybrid())o.hybridID=n.hybridID;else{for(var a=0;a in f;)a+=1;n.hybridID=a,o.hybridID=a,f[a]=!0}return o.length=i,void e.addChild(o)}if(r[n]=!0,void 0!==(o=n.parent)&&o.removeChild(n),e.addChild(n),e=n.length,n.length=i,t(o,n,r,i=e),n.isHybrid()){var u=[],c=[],c=(u=s[n.hybridID].slice(1)).map(function(t){return t.parent});n.hybridID=void 0;for(var l=0;l<u.length;l++)c[l].removeChild(u[l]),t(c[l],n,r,u[l].length)}}}(o,e,{},t),1!=n.children.length||n.isHybrid()||(e=n.children[0],(t=n.parent).removeChild(n),n.removeChild(e),t.addChild(e),e.length=e.length+n.length),this.clearCaches(),this.computeNodeAges(),this.reassignNodeIDs(),this.getRecombEdgeMap()){var a=this.getRecombEdgeMap()[r][0];for(i=1;i<this.getRecombEdgeMap()[r].length;i++){var u=this.getRecombEdgeMap()[r][i];u.length+=u.height-a.height}}},t.prototype.getTraitList=function(t){if(void 0===this.root)return[];for(var n,e={},r=0;r<this.getNodeList().length;r++){var i=this.getNodeList()[r];for(n in i.annotation)void 0!==t&&!t(i,n)||(e[n]=!0)}var o=[];for(n in e)o.push(n);return o},t.prototype.copy=function(){return new t(this.root.copy())},t.prototype.translate=function(t){for(var n=this.getNodeList(),e=0;e<n.length;e++)t.hasOwnProperty(n[e].name)&&(n[e].name=t[n[e].name])},t.prototype.getLength=function(){for(var t=0,n=0;n<this.getNodeList().length;n++){var e=this.getNodeList()[n];e.isRoot()||(t+=e.parent.height-e.height)}return t},t.prototype.getCladeNodes=function(t){return function t(n,e){for(var r=[],i=!0,o=0;o<n.children.length;o++){var a=n.children[o],u=t(a,e);u.indexOf(a)<0&&(i=!1),r=r.concat(u)}return r=0<=e.indexOf(n)||0<n.children.length&&i?r.concat(n):r}(this.root,t)},t.prototype.getAncestralNodes=function(t){return function t(n,e){for(var r=[],i=0;i<n.children.length;i++)var o=n.children[i],r=r.concat(t(o,e));return r=0<=e.indexOf(n)||0<r.length?r.concat(n):r}(this.root,t)},t.prototype.getLineagesThroughTime=function(){var t=this.getNodeList().slice(0);t.sort(function(t,n){return t.height-n.height}),res={lineages:[],ages:[]};for(var n=0,e=0;e<t.length;e++){var r=t[e];n+=1-r.children.length,res.lineages.push(n),res.ages.push(r.height)}return res},window.Tree=t},145:(t,n,e)=>{"use strict";e.d(n,{Z:()=>i});var r=e(81),n=e.n(r),r=e(645),n=e.n(r)()(n());n.push([t.id,"",""]);const i=n},123:(t,n,e)=>{"use strict";e.d(n,{Z:()=>i});var r=e(81),n=e.n(r),r=e(645),n=e.n(r)()(n());n.push([t.id,"",""]);const i=n},664:(t,n,e)=>{"use strict";e.d(n,{Z:()=>i});var r=e(81),n=e.n(r),r=e(645),n=e.n(r)()(n());n.push([t.id,".phyloview {\n  position: relative;\n  font-size: 12px;\n}\n.phyloview .loading-svg {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.phyloview .loading-svg .inner {\n  width: 45px;\n  height: 45px;\n  margin: 0;\n  background: transparent;\n  border-top: 4px solid #aaa;\n  border-right: 4px solid transparent;\n  border-radius: 50%;\n  -webkit-animation: 1s spin linear infinite;\n  animation: 1s spin linear infinite;\n}\n@-webkit-keyframes spin {\n  from {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  to {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n@keyframes spin {\n  from {\n    -webkit-transform: rotate(0deg);\n    transform: rotate(0deg);\n  }\n  to {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n.phyloview .text-g text {\n  cursor: auto;\n}\n.phyloview .text-g text:hover {\n  opacity: 0.5;\n}\n.phyloview .select {\n  stroke: red !important;\n}\n.phyloview .edit-textarea {\n  outline: none;\n}\n.phyloview .edit-textarea:focus {\n  border: 1px solid #1e64fc;\n}\n.phyloview .links {\n  fill: none;\n}\n.phyloview .links .select {\n  stroke-width: 2px;\n}\n.phyloview .links path {\n  cursor: pointer;\n}\n.phyloview .links path:hover {\n  stroke-width: 2px;\n}\n.phyloview .link-extensions {\n  fill: none;\n  stroke: #000;\n  stroke-opacity: 0.25;\n}\n.phyloview .link--active {\n  stroke: #000 !important;\n  stroke-width: 1.5px;\n}\n.phyloview .link-extension--active {\n  stroke-opacity: 0.6;\n}\n.phyloview .label--active {\n  font-weight: bold;\n}\n.phyloview .leafs text {\n  cursor: pointer;\n}\n.phyloview .phy-tip-warp {\n  position: fixed;\n  max-width: 480px;\n  top: 100px;\n  right: 100px;\n  background-color: #fff;\n  box-shadow: 0 0 10px 0 #bfbdbd;\n  z-index: 99999;\n  padding: 6px 10px;\n  border-radius: 4px;\n  border: 1px solid #ccc;\n}\n.phyloview .phy-tip-warp h3 {\n  padding: 0;\n  margin: 0;\n  padding: 5px 0;\n}\n.phyloview .phy-tip-warp ul {\n  list-style: none;\n  padding: 0;\n  margin: 0;\n}\n.phyloview .phy-tip-warp ul li {\n  padding: 3px 0;\n}\n.phyloview .phy-edit {\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  z-index: 10003;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n.phyloview .phy-edit .phy-edit-inner {\n  background-color: #fff;\n  padding: 20px;\n  border: 1px solid #ddd;\n  width: 550px;\n  border-radius: 6px;\n  box-shadow: 0 0 10px 0 #eee;\n}\n.phyloview .phy-edit .phy-edit-inner .header {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 8px;\n}\n.phyloview .phy-edit .phy-edit-inner .header span {\n  cursor: pointer;\n}\n.phyloview .phy-edit .phy-edit-inner textarea {\n  display: block;\n  border: 1px solid #eee;\n  border-radius: 5px;\n  width: calc(100% - 20px);\n  padding: 10px;\n  height: 150px;\n  resize: none;\n}\n.phyloview .phy-edit .phy-edit-inner .footer {\n  display: flex;\n  justify-content: flex-end;\n  margin-top: 20px;\n}\n.phyloview .phy-edit .phy-edit-inner .footer span {\n  border: 1px solid #eee;\n  padding: 5px 20px;\n  cursor: pointer;\n  margin-left: 20px;\n  border-radius: 3px;\n}\n.phyloview .phy-menu {\n  z-index: 9999;\n}\n.phyloview .phy-menu ul {\n  position: fixed;\n  background-color: #fff;\n  border: 1px solid #eee;\n  border-radius: 6px;\n  box-shadow: 0 0 10px 0 #eee;\n  padding: 0;\n  margin: 0;\n  list-style: none;\n  padding: 10px 0;\n  z-index: 10002;\n}\n.phyloview .phy-menu ul li {\n  padding: 5px 10px;\n  cursor: pointer;\n}\n.phyloview .phy-menu ul li:hover {\n  background-color: rgba(238, 238, 238, 0.589);\n}\n.phyloview .menu-mask {\n  position: fixed;\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  z-index: 10001;\n}\n.phyloview .canvas {\n  overflow: hidden;\n}\n.phyloview .canvas .wrapper.inner > .background {\n  fill: #CCCCCC;\n  cursor: move;\n}\n.phyloview .canvas .background {\n  fill: #fff;\n}\n.phyloview .canvas .minimap .panCanvas {\n  cursor: pointer;\n}\n.phyloview .canvas .minimap .panCanvas .background {\n  stroke: #000;\n}\n.phyloview .canvas .minimap .frame .background {\n  stroke: #333;\n  stroke-width: 4px;\n  fill-opacity: 0.1;\n  fill: #333;\n  cursor: move;\n}\n",""]);const i=n},645:t=>{"use strict";t.exports=function(r){var s=[];return s.toString=function(){return this.map(function(t){var n="",e=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),e&&(n+="@layer".concat(0<t[5].length?" ".concat(t[5]):""," {")),n+=r(t),e&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n}).join("")},s.i=function(t,n,e,r,i){"string"==typeof t&&(t=[[null,t,void 0]]);var o={};if(e)for(var a=0;a<this.length;a++){var u=this[a][0];null!=u&&(o[u]=!0)}for(var c=0;c<t.length;c++){var l=[].concat(t[c]);e&&o[l[0]]||(void 0!==i&&(void 0===l[5]||(l[1]="@layer".concat(0<l[5].length?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=i),n&&(l[2]&&(l[1]="@media ".concat(l[2]," {").concat(l[1],"}")),l[2]=n),r&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=r):l[4]="".concat(r)),s.push(l))}},s}},81:t=>{"use strict";t.exports=function(t){return t[1]}},486:function(E,N,O){var L;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */E=O.nmd(E),function(){var Fo,qo="Expected a function",Ho="__lodash_hash_undefined__",Go="__lodash_placeholder__",Yo=128,Wo=9007199254740991,$o=NaN,Vo=4294967295,Xo=[["ary",Yo],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],Zo="[object Arguments]",Qo="[object Array]",Ko="[object Boolean]",Jo="[object Date]",ta="[object Error]",na="[object Function]",ea="[object GeneratorFunction]",ra="[object Map]",ia="[object Number]",oa="[object Object]",aa="[object Promise]",ua="[object RegExp]",ca="[object Set]",la="[object String]",sa="[object Symbol]",fa="[object WeakMap]",ha="[object ArrayBuffer]",pa="[object DataView]",da="[object Float32Array]",ga="[object Float64Array]",ya="[object Int8Array]",va="[object Int16Array]",ma="[object Int32Array]",wa="[object Uint8Array]",_a="[object Uint8ClampedArray]",xa="[object Uint16Array]",ba="[object Uint32Array]",ka=/\b__p \+= '';/g,Aa=/\b(__p \+=) '' \+/g,Ma=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Sa=/&(?:amp|lt|gt|quot|#39);/g,Ca=/[&<>"']/g,Ta=RegExp(Sa.source),Ea=RegExp(Ca.source),Na=/<%-([\s\S]+?)%>/g,Oa=/<%([\s\S]+?)%>/g,La=/<%=([\s\S]+?)%>/g,za=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Da=/^\w*$/,ja=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ia=/[\\^$.*+?()[\]{}|]/g,Pa=RegExp(Ia.source),Ra=/^\s+/,e=/\s/,Ua=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ba=/\{\n\/\* \[wrapped with (.+)\] \*/,Fa=/,? & /,qa=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ha=/[()=,{}\[\]\/\s]/,Ga=/\\(\\)?/g,Ya=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Wa=/\w*$/,$a=/^[-+]0x[0-9a-f]+$/i,Va=/^0b[01]+$/i,Xa=/^\[object .+?Constructor\]$/,Za=/^0o[0-7]+$/i,Qa=/^(?:0|[1-9]\d*)$/,Ka=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ja=/($^)/,tu=/['\n\r\u2028\u2029\\]/g,t="\\ud800-\\udfff",n="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",r="\\u2700-\\u27bf",i="a-z\\xdf-\\xf6\\xf8-\\xff",o="A-Z\\xc0-\\xd6\\xd8-\\xde",a="\\ufe0e\\ufe0f",u="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",c="['’]",l="["+t+"]",s="["+u+"]",f="["+n+"]",h="["+r+"]",p="["+i+"]",d="[^"+t+u+"\\d+"+r+i+o+"]",g="\\ud83c[\\udffb-\\udfff]",y="[^"+t+"]",v="(?:\\ud83c[\\udde6-\\uddff]){2}",m="[\\ud800-\\udbff][\\udc00-\\udfff]",w="["+o+"]",_="\\u200d",x="(?:"+p+"|"+d+")",u="(?:"+w+"|"+d+")",r="(?:['’](?:d|ll|m|re|s|t|ve))?",i="(?:['’](?:D|LL|M|RE|S|T|VE))?",o="(?:"+f+"|"+g+")"+"?",d="["+a+"]?",o=d+o+("(?:"+_+"(?:"+[y,v,m].join("|")+")"+d+o+")*"),h="(?:"+[h,v,m].join("|")+")"+o,l="(?:"+[y+f+"?",f,v,m,l].join("|")+")",nu=RegExp(c,"g"),eu=RegExp(f,"g"),b=RegExp(g+"(?="+g+")|"+l+o,"g"),ru=RegExp([w+"?"+p+"+"+r+"(?="+[s,w,"$"].join("|")+")",u+"+"+i+"(?="+[s,w+x,"$"].join("|")+")",w+"?"+x+"+"+r,w+"+"+i,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",h].join("|"),"g"),k=RegExp("["+_+t+n+a+"]"),iu=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ou=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],au=-1,uu={};uu[da]=uu[ga]=uu[ya]=uu[va]=uu[ma]=uu[wa]=uu[_a]=uu[xa]=uu[ba]=!0,uu[Zo]=uu[Qo]=uu[ha]=uu[Ko]=uu[pa]=uu[Jo]=uu[ta]=uu[na]=uu[ra]=uu[ia]=uu[oa]=uu[ua]=uu[ca]=uu[la]=uu[fa]=!1;var cu={};cu[Zo]=cu[Qo]=cu[ha]=cu[pa]=cu[Ko]=cu[Jo]=cu[da]=cu[ga]=cu[ya]=cu[va]=cu[ma]=cu[ra]=cu[ia]=cu[oa]=cu[ua]=cu[ca]=cu[la]=cu[sa]=cu[wa]=cu[_a]=cu[xa]=cu[ba]=!0,cu[ta]=cu[na]=cu[fa]=!1;var A={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},lu=parseFloat,su=parseInt,n="object"==typeof O.g&&O.g&&O.g.Object===Object&&O.g,a="object"==typeof self&&self&&self.Object===Object&&self,fu=n||a||Function("return this")(),a=N&&!N.nodeType&&N,M=a&&E&&!E.nodeType&&E,hu=M&&M.exports===a,S=hu&&n.process,n=function(){try{var t=M&&M.require&&M.require("util").types;return t?t:S&&S.binding&&S.binding("util")}catch(t){}}(),pu=n&&n.isArrayBuffer,du=n&&n.isDate,gu=n&&n.isMap,yu=n&&n.isRegExp,vu=n&&n.isSet,mu=n&&n.isTypedArray;function wu(t,n,e){switch(e.length){case 0:return t.call(n);case 1:return t.call(n,e[0]);case 2:return t.call(n,e[0],e[1]);case 3:return t.call(n,e[0],e[1],e[2])}return t.apply(n,e)}function _u(t,n,e,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];n(r,a,e(a),t)}return r}function xu(t,n){for(var e=-1,r=null==t?0:t.length;++e<r&&!1!==n(t[e],e,t););return t}function bu(t,n){for(var e=null==t?0:t.length;e--&&!1!==n(t[e],e,t););return t}function ku(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(!n(t[e],e,t))return!1;return!0}function Au(t,n){for(var e=-1,r=null==t?0:t.length,i=0,o=[];++e<r;){var a=t[e];n(a,e,t)&&(o[i++]=a)}return o}function Mu(t,n){return!!(null==t?0:t.length)&&-1<Du(t,n,0)}function Su(t,n,e){for(var r=-1,i=null==t?0:t.length;++r<i;)if(e(n,t[r]))return!0;return!1}function Cu(t,n){for(var e=-1,r=null==t?0:t.length,i=Array(r);++e<r;)i[e]=n(t[e],e,t);return i}function Tu(t,n){for(var e=-1,r=n.length,i=t.length;++e<r;)t[i+e]=n[e];return t}function Eu(t,n,e,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(e=t[++i]);++i<o;)e=n(e,t[i],i,t);return e}function Nu(t,n,e,r){var i=null==t?0:t.length;for(r&&i&&(e=t[--i]);i--;)e=n(e,t[i],i,t);return e}function Ou(t,n){for(var e=-1,r=null==t?0:t.length;++e<r;)if(n(t[e],e,t))return!0;return!1}var C=Ru("length");function Lu(t,r,n){var i;return n(t,function(t,n,e){if(r(t,n,e))return i=n,!1}),i}function zu(t,n,e,r){for(var i=t.length,o=e+(r?1:-1);r?o--:++o<i;)if(n(t[o],o,t))return o;return-1}function Du(t,n,e){return n==n?function(t,n,e){var r=e-1,i=t.length;for(;++r<i;)if(t[r]===n)return r;return-1}(t,n,e):zu(t,Iu,e)}function ju(t,n,e,r){for(var i=e-1,o=t.length;++i<o;)if(r(t[i],n))return i;return-1}function Iu(t){return t!=t}function Pu(t,n){var e=null==t?0:t.length;return e?Bu(t,n)/e:$o}function Ru(n){return function(t){return null==t?Fo:t[n]}}function T(n){return function(t){return null==n?Fo:n[t]}}function Uu(t,r,i,o,n){return n(t,function(t,n,e){i=o?(o=!1,t):r(i,t,n,e)}),i}function Bu(t,n){for(var e,r=-1,i=t.length;++r<i;){var o=n(t[r]);o!==Fo&&(e=e===Fo?o:e+o)}return e}function Fu(t,n){for(var e=-1,r=Array(t);++e<t;)r[e]=n(e);return r}function qu(t){return t&&t.slice(0,ic(t)+1).replace(Ra,"")}function Hu(n){return function(t){return n(t)}}function Gu(n,t){return Cu(t,function(t){return n[t]})}function Yu(t,n){return t.has(n)}function Wu(t,n){for(var e=-1,r=t.length;++e<r&&-1<Du(n,t[e],0););return e}function $u(t,n){for(var e=t.length;e--&&-1<Du(n,t[e],0););return e}var Vu=T({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Xu=T({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Zu(t){return"\\"+A[t]}function Qu(t){return k.test(t)}function Ku(t){var e=-1,r=Array(t.size);return t.forEach(function(t,n){r[++e]=[n,t]}),r}function Ju(n,e){return function(t){return n(e(t))}}function tc(t,n){for(var e=-1,r=t.length,i=0,o=[];++e<r;){var a=t[e];a!==n&&a!==Go||(t[e]=Go,o[i++]=e)}return o}function nc(t){var n=-1,e=Array(t.size);return t.forEach(function(t){e[++n]=t}),e}function ec(t){return(Qu(t)?function(t){var n=b.lastIndex=0;for(;b.test(t);)++n;return n}:C)(t)}function rc(t){return Qu(t)?t.match(b)||[]:t.split("")}function ic(t){for(var n=t.length;n--&&e.test(t.charAt(n)););return n}var oc=T({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var ac=function t(n){var k=(n=null==n?fu:ac.defaults(fu.Object(),n,ac.pick(fu,ou))).Array,e=n.Date,f=n.Error,h=n.Function,i=n.Math,g=n.Object,p=n.RegExp,s=n.String,m=n.TypeError,o=k.prototype,r=h.prototype,d=g.prototype,a=n["__core-js_shared__"],u=r.toString,w=d.hasOwnProperty,c=0,l=(No=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+No:"",y=d.toString,v=u.call(g),_=fu._,x=p("^"+u.call(w).replace(Ia,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),b=hu?n.Buffer:Fo,A=n.Symbol,M=n.Uint8Array,S=b?b.allocUnsafe:Fo,C=Ju(g.getPrototypeOf,g),T=g.create,E=d.propertyIsEnumerable,N=o.splice,O=A?A.isConcatSpreadable:Fo,L=A?A.iterator:Fo,z=A?A.toStringTag:Fo,D=function(){try{var t=qe(g,"defineProperty");return t({},"",{}),t}catch(t){}}(),j=n.clearTimeout!==fu.clearTimeout&&n.clearTimeout,I=e&&e.now!==fu.Date.now&&e.now,P=n.setTimeout!==fu.setTimeout&&n.setTimeout,R=i.ceil,U=i.floor,B=g.getOwnPropertySymbols,F=b?b.isBuffer:Fo,q=n.isFinite,H=o.join,G=Ju(g.keys,g),Y=i.max,W=i.min,$=e.now,V=n.parseInt,X=i.random,Z=o.reverse,Q=qe(n,"DataView"),K=qe(n,"Map"),J=qe(n,"Promise"),tt=qe(n,"Set"),nt=qe(n,"WeakMap"),et=qe(g,"create"),rt=nt&&new nt,it={},ot=gr(Q),at=gr(K),ut=gr(J),ct=gr(tt),lt=gr(nt),st=A?A.prototype:Fo,ft=st?st.valueOf:Fo,ht=st?st.toString:Fo;function pt(t){if(Li(t)&&!xi(t)&&!(t instanceof mt)){if(t instanceof vt)return t;if(w.call(t,"__wrapped__"))return yr(t)}return new vt(t)}var dt=function(t){if(!Oi(t))return{};if(T)return T(t);gt.prototype=t;t=new gt;return gt.prototype=Fo,t};function gt(){}function yt(){}function vt(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=Fo}function mt(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Vo,this.__views__=[]}function wt(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function _t(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function xt(t){var n=-1,e=null==t?0:t.length;for(this.clear();++n<e;){var r=t[n];this.set(r[0],r[1])}}function bt(t){var n=-1,e=null==t?0:t.length;for(this.__data__=new xt;++n<e;)this.add(t[n])}function kt(t){t=this.__data__=new _t(t);this.size=t.size}function At(t,n){var e,r=xi(t),i=!r&&_i(t),o=!r&&!i&&Mi(t),a=!r&&!i&&!o&&Bi(t),u=r||i||o||a,c=u?Fu(t.length,s):[],l=c.length;for(e in t)!n&&!w.call(t,e)||u&&("length"==e||o&&("offset"==e||"parent"==e)||a&&("buffer"==e||"byteLength"==e||"byteOffset"==e)||Xe(e,l))||c.push(e);return c}function Mt(t){var n=t.length;return n?t[kn(0,n-1)]:Fo}function St(t,n){return fr(ie(t),jt(n,0,t.length))}function Ct(t){return fr(ie(t))}function Tt(t,n,e){(e===Fo||vi(t[n],e))&&(e!==Fo||n in t)||zt(t,n,e)}function Et(t,n,e){var r=t[n];w.call(t,n)&&vi(r,e)&&(e!==Fo||n in t)||zt(t,n,e)}function Nt(t,n){for(var e=t.length;e--;)if(vi(t[e][0],n))return e;return-1}function Ot(t,r,i,o){return Bt(t,function(t,n,e){r(o,t,i(t),e)}),o}function Lt(t,n){return t&&oe(n,co(n),t)}function zt(t,n,e){"__proto__"==n&&D?D(t,n,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[n]=e}function Dt(t,n){for(var e=-1,r=n.length,i=k(r),o=null==t;++e<r;)i[e]=o?Fo:ro(t,n[e]);return i}function jt(t,n,e){return t==t&&(e!==Fo&&(t=t<=e?t:e),n!==Fo&&(t=n<=t?t:n)),t}function It(e,r,i,t,n,o){var a,u=1&r,c=2&r,l=4&r;if((a=i?n?i(e,t,n,o):i(e):a)!==Fo)return a;if(!Oi(e))return e;var s,f,h=xi(e);if(h){if(a=function(t){var n=t.length,e=new t.constructor(n);n&&"string"==typeof t[0]&&w.call(t,"index")&&(e.index=t.index,e.input=t.input);return e}(e),!u)return ie(e,a)}else{var p=Ye(e),t=p==na||p==ea;if(Mi(e))return Kn(e,u);if(p==oa||p==Zo||t&&!n){if(a=c||t?{}:$e(e),!u)return c?(t=s=e,f=(f=a)&&oe(t,lo(t),f),oe(s,Ge(s),f)):(f=Lt(a,s=e),oe(s,He(s),f))}else{if(!cu[p])return n?e:{};a=function(t,n,e){var r=t.constructor;switch(n){case ha:return Jn(t);case Ko:case Jo:return new r(+t);case pa:return function(t,n){n=n?Jn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,e);case da:case ga:case ya:case va:case ma:case wa:case _a:case xa:case ba:return te(t,e);case ra:return new r;case ia:case la:return new r(t);case ua:return function(t){var n=new t.constructor(t.source,Wa.exec(t));return n.lastIndex=t.lastIndex,n}(t);case ca:return new r;case sa:return function(t){return ft?g(ft.call(t)):{}}(t)}}(e,p,u)}}u=(o=o||new kt).get(e);if(u)return u;o.set(e,a),Pi(e)?e.forEach(function(t){a.add(It(t,r,i,t,e,o))}):zi(e)&&e.forEach(function(t,n){a.set(n,It(t,r,i,n,e,o))});var d=h?Fo:(l?c?je:De:c?lo:co)(e);return xu(d||e,function(t,n){d&&(t=e[n=t]),Et(a,n,It(t,r,i,n,e,o))}),a}function Pt(t,n,e){var r=e.length;if(null==t)return!r;for(t=g(t);r--;){var i=e[r],o=n[i],a=t[i];if(a===Fo&&!(i in t)||!o(a))return!1}return!0}function Rt(t,n,e){if("function"!=typeof t)throw new m(qo);return ur(function(){t.apply(Fo,e)},n)}function Ut(t,n,e,r){var i=-1,o=Mu,a=!0,u=t.length,c=[],l=n.length;if(!u)return c;e&&(n=Cu(n,Hu(e))),r?(o=Su,a=!1):200<=n.length&&(o=Yu,a=!1,n=new bt(n));t:for(;++i<u;){var s=t[i],f=null==e?s:e(s),s=r||0!==s?s:0;if(a&&f==f){for(var h=l;h--;)if(n[h]===f)continue t;c.push(s)}else o(n,f,r)||c.push(s)}return c}pt.templateSettings={escape:Na,evaluate:Oa,interpolate:La,variable:"",imports:{_:pt}},(pt.prototype=yt.prototype).constructor=pt,(vt.prototype=dt(yt.prototype)).constructor=vt,(mt.prototype=dt(yt.prototype)).constructor=mt,wt.prototype.clear=function(){this.__data__=et?et(null):{},this.size=0},wt.prototype.delete=function(t){return t=this.has(t)&&delete this.__data__[t],this.size-=t?1:0,t},wt.prototype.get=function(t){var n=this.__data__;if(et){var e=n[t];return e===Ho?Fo:e}return w.call(n,t)?n[t]:Fo},wt.prototype.has=function(t){var n=this.__data__;return et?n[t]!==Fo:w.call(n,t)},wt.prototype.set=function(t,n){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=et&&n===Fo?Ho:n,this},_t.prototype.clear=function(){this.__data__=[],this.size=0},_t.prototype.delete=function(t){var n=this.__data__;return!((t=Nt(n,t))<0)&&(t==n.length-1?n.pop():N.call(n,t,1),--this.size,!0)},_t.prototype.get=function(t){var n=this.__data__;return(t=Nt(n,t))<0?Fo:n[t][1]},_t.prototype.has=function(t){return-1<Nt(this.__data__,t)},_t.prototype.set=function(t,n){var e=this.__data__,r=Nt(e,t);return r<0?(++this.size,e.push([t,n])):e[r][1]=n,this},xt.prototype.clear=function(){this.size=0,this.__data__={hash:new wt,map:new(K||_t),string:new wt}},xt.prototype.delete=function(t){return t=Be(this,t).delete(t),this.size-=t?1:0,t},xt.prototype.get=function(t){return Be(this,t).get(t)},xt.prototype.has=function(t){return Be(this,t).has(t)},xt.prototype.set=function(t,n){var e=Be(this,t),r=e.size;return e.set(t,n),this.size+=e.size==r?0:1,this},bt.prototype.add=bt.prototype.push=function(t){return this.__data__.set(t,Ho),this},bt.prototype.has=function(t){return this.__data__.has(t)},kt.prototype.clear=function(){this.__data__=new _t,this.size=0},kt.prototype.delete=function(t){var n=this.__data__,t=n.delete(t);return this.size=n.size,t},kt.prototype.get=function(t){return this.__data__.get(t)},kt.prototype.has=function(t){return this.__data__.has(t)},kt.prototype.set=function(t,n){var e=this.__data__;if(e instanceof _t){var r=e.__data__;if(!K||r.length<199)return r.push([t,n]),this.size=++e.size,this;e=this.__data__=new xt(r)}return e.set(t,n),this.size=e.size,this};var Bt=ce(Vt),Ft=ce(Xt,!0);function qt(t,r){var i=!0;return Bt(t,function(t,n,e){return i=!!r(t,n,e)}),i}function Ht(t,n,e){for(var r=-1,i=t.length;++r<i;){var o,a,u=t[r],c=n(u);null!=c&&(o===Fo?c==c&&!Ui(c):e(c,o))&&(o=c,a=u)}return a}function Gt(t,r){var i=[];return Bt(t,function(t,n,e){r(t,n,e)&&i.push(t)}),i}function Yt(t,n,e,r,i){var o=-1,a=t.length;for(e=e||Ve,i=i||[];++o<a;){var u=t[o];0<n&&e(u)?1<n?Yt(u,n-1,e,r,i):Tu(i,u):r||(i[i.length]=u)}return i}var Wt=le(),$t=le(!0);function Vt(t,n){return t&&Wt(t,n,co)}function Xt(t,n){return t&&$t(t,n,co)}function Zt(n,t){return Au(t,function(t){return Ti(n[t])})}function Qt(t,n){for(var e=0,r=(n=Vn(n,t)).length;null!=t&&e<r;)t=t[dr(n[e++])];return e&&e==r?t:Fo}function Kt(t,n,e){n=n(t);return xi(t)?n:Tu(n,e(t))}function Jt(t){return null==t?t===Fo?"[object Undefined]":"[object Null]":z&&z in g(t)?function(t){var n=w.call(t,z),e=t[z];try{t[z]=Fo;var r=!0}catch(t){}var i=y.call(t);r&&(n?t[z]=e:delete t[z]);return i}(t):y.call(t)}function tn(t,n){return n<t}function nn(t,n){return null!=t&&w.call(t,n)}function en(t,n){return null!=t&&n in g(t)}function rn(t,n,e){for(var r=e?Su:Mu,i=t[0].length,o=t.length,a=o,u=k(o),c=1/0,l=[];a--;){var s=t[a];a&&n&&(s=Cu(s,Hu(n))),c=W(s.length,c),u[a]=!e&&(n||120<=i&&120<=s.length)?new bt(a&&s):Fo}var s=t[0],f=-1,h=u[0];t:for(;++f<i&&l.length<c;){var p=s[f],d=n?n(p):p,p=e||0!==p?p:0;if(!(h?Yu(h,d):r(l,d,e))){for(a=o;--a;){var g=u[a];if(!(g?Yu(g,d):r(t[a],d,e)))continue t}h&&h.push(d),l.push(p)}}return l}function on(t,n,e){n=null==(t=ir(t,n=Vn(n,t)))?t:t[dr(Cr(n))];return null==n?Fo:wu(n,t,e)}function an(t){return Li(t)&&Jt(t)==Zo}function un(t,n,e,r,i){return t===n||(null==t||null==n||!Li(t)&&!Li(n)?t!=t&&n!=n:function(t,n,e,r,i,o){var a=xi(t),u=xi(n),c=a?Qo:Ye(t),l=u?Qo:Ye(n),s=(c=c==Zo?oa:c)==oa,u=(l=l==Zo?oa:l)==oa,l=c==l;if(l&&Mi(t)){if(!Mi(n))return!1;s=!(a=!0)}if(l&&!s)return o=o||new kt,a||Bi(t)?Le(t,n,e,r,i,o):function(t,n,e,r,i,o,a){switch(e){case pa:if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)return!1;t=t.buffer,n=n.buffer;case ha:return t.byteLength==n.byteLength&&o(new M(t),new M(n))?!0:!1;case Ko:case Jo:case ia:return vi(+t,+n);case ta:return t.name==n.name&&t.message==n.message;case ua:case la:return t==n+"";case ra:var u=Ku;case ca:var c=1&r;if(u=u||nc,t.size!=n.size&&!c)return!1;c=a.get(t);if(c)return c==n;r|=2,a.set(t,n);u=Le(u(t),u(n),r,i,o,a);return a.delete(t),u;case sa:if(ft)return ft.call(t)==ft.call(n)}return!1}(t,n,c,e,r,i,o);if(!(1&e)){s=s&&w.call(t,"__wrapped__"),u=u&&w.call(n,"__wrapped__");if(s||u){s=s?t.value():t,u=u?n.value():n;return o=o||new kt,i(s,u,e,r,o)}}return l&&(o=o||new kt,function(t,n,e,r,i,o){var a=1&e,u=De(t),c=u.length,l=De(n).length;if(c!=l&&!a)return!1;var s=c;for(;s--;){var f=u[s];if(!(a?f in n:w.call(n,f)))return!1}var h=o.get(t),l=o.get(n);if(h&&l)return h==n&&l==t;var p=!0;o.set(t,n),o.set(n,t);var d=a;for(;++s<c;){f=u[s];var g,y=t[f],v=n[f];if(!((g=r?a?r(v,y,f,n,t,o):r(y,v,f,t,n,o):g)===Fo?y===v||i(y,v,e,r,o):g)){p=!1;break}d=d||"constructor"==f}p&&!d&&(h=t.constructor,l=n.constructor,h!=l&&"constructor"in t&&"constructor"in n&&!("function"==typeof h&&h instanceof h&&"function"==typeof l&&l instanceof l)&&(p=!1));return o.delete(t),o.delete(n),p}(t,n,e,r,i,o))}(t,n,e,r,un,i))}function cn(t,n,e,r){var i=e.length,o=i,a=!r;if(null==t)return!o;for(t=g(t);i--;){var u=e[i];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++i<o;){var c=(u=e[i])[0],l=t[c],s=u[1];if(a&&u[2]){if(l===Fo&&!(c in t))return!1}else{var f,h=new kt;if(!((f=r?r(l,s,c,t,n,h):f)===Fo?un(s,l,3,r,h):f))return!1}}return!0}function ln(t){return!(!Oi(t)||(n=t,l&&l in n))&&(Ti(t)?x:Xa).test(gr(t));var n}function sn(t){return"function"==typeof t?t:null==t?Lo:"object"==typeof t?xi(t)?yn(t[0],t[1]):gn(t):Io(t)}function fn(t){if(!tr(t))return G(t);var n,e=[];for(n in g(t))w.call(t,n)&&"constructor"!=n&&e.push(n);return e}function hn(t){if(!Oi(t))return function(t){var n=[];if(null!=t)for(var e in g(t))n.push(e);return n}(t);var n,e=tr(t),r=[];for(n in t)("constructor"!=n||!e&&w.call(t,n))&&r.push(n);return r}function pn(t,n){return t<n}function dn(t,r){var i=-1,o=ki(t)?k(t.length):[];return Bt(t,function(t,n,e){o[++i]=r(t,n,e)}),o}function gn(n){var e=Fe(n);return 1==e.length&&e[0][2]?er(e[0][0],e[0][1]):function(t){return t===n||cn(t,n,e)}}function yn(e,r){return Qe(e)&&nr(r)?er(dr(e),r):function(t){var n=ro(t,e);return n===Fo&&n===r?io(t,e):un(r,n,3)}}function vn(g,y,v,m,w){g!==y&&Wt(y,function(t,n){var e,r,i,o,a,u,c,l,s,f,h,p,d;w=w||new kt,Oi(t)?(r=y,o=v,a=vn,u=m,c=w,h=or(e=g,i=n),p=or(r,i),(d=c.get(p))?Tt(e,i,d):(l=u?u(h,p,i+"",e,r,c):Fo,(s=l===Fo)&&(f=xi(p),d=!f&&Mi(p),r=!f&&!d&&Bi(p),l=p,f||d||r?l=xi(h)?h:Ai(h)?ie(h):d?Kn(p,!(s=!1)):r?te(p,!(s=!1)):[]:ji(p)||_i(p)?_i(l=h)?l=Vi(h):Oi(h)&&!Ti(h)||(l=$e(p)):s=!1),s&&(c.set(p,l),a(l,p,o,u,c),c.delete(p)),Tt(e,i,l))):(l=m?m(or(g,n),t,n+"",g,y,w):Fo,Tt(g,n,l=l===Fo?t:l))},lo)}function mn(t,n){var e=t.length;if(e)return Xe(n+=n<0?e:0,e)?t[n]:Fo}function wn(t,r,e){r=r.length?Cu(r,function(n){return xi(n)?function(t){return Qt(t,1===n.length?n[0]:n)}:n}):[Lo];var i=-1;return r=Cu(r,Hu(Ue())),function(t,n){var e=t.length;for(t.sort(n);e--;)t[e]=t[e].value;return t}(dn(t,function(n,t,e){return{criteria:Cu(r,function(t){return t(n)}),index:++i,value:n}}),function(t,n){return function(t,n,e){var r=-1,i=t.criteria,o=n.criteria,a=i.length,u=e.length;for(;++r<a;){var c=ne(i[r],o[r]);if(c){if(u<=r)return c;var l=e[r];return c*("desc"==l?-1:1)}}return t.index-n.index}(t,n,e)})}function _n(t,n,e){for(var r=-1,i=n.length,o={};++r<i;){var a=n[r],u=Qt(t,a);e(u,a)&&Tn(o,Vn(a,t),u)}return o}function xn(t,n,e,r){var i=r?ju:Du,o=-1,a=n.length,u=t;for(t===n&&(n=ie(n)),e&&(u=Cu(t,Hu(e)));++o<a;)for(var c=0,l=n[o],s=e?e(l):l;-1<(c=i(u,s,c,r));)u!==t&&N.call(u,c,1),N.call(t,c,1);return t}function bn(t,n){for(var e=t?n.length:0,r=e-1;e--;){var i,o=n[e];e!=r&&o===i||(Xe(i=o)?N.call(t,o,1):Bn(t,o))}return t}function kn(t,n){return t+U(X()*(n-t+1))}function An(t,n){var e="";if(!t||n<1||Wo<n)return e;for(;n%2&&(e+=t),(n=U(n/2))&&(t+=t),n;);return e}function Mn(t,n){return cr(rr(t,n,Lo),t+"")}function Sn(t){return Mt(mo(t))}function Cn(t,n){t=mo(t);return fr(t,jt(n,0,t.length))}function Tn(t,n,e,r){if(!Oi(t))return t;for(var i=-1,o=(n=Vn(n,t)).length,a=o-1,u=t;null!=u&&++i<o;){var c,l=dr(n[i]),s=e;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;i!=a&&(c=u[l],(s=r?r(c,l,u):Fo)===Fo&&(s=Oi(c)?c:Xe(n[i+1])?[]:{})),Et(u,l,s),u=u[l]}return t}var En=rt?function(t,n){return rt.set(t,n),t}:Lo,Nn=D?function(t,n){return D(t,"toString",{configurable:!0,enumerable:!1,value:Oo(n),writable:!0})}:Lo;function On(t){return fr(mo(t))}function Ln(t,n,e){var r=-1,i=t.length;(e=i<e?i:e)<0&&(e+=i),i=e<(n=n<0?i<-n?0:i+n:n)?0:e-n>>>0,n>>>=0;for(var o=k(i);++r<i;)o[r]=t[r+n];return o}function zn(t,r){var i;return Bt(t,function(t,n,e){return!(i=r(t,n,e))}),!!i}function Dn(t,n,e){var r=0,i=null==t?r:t.length;if("number"==typeof n&&n==n&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!Ui(a)&&(e?a<=n:a<n)?r=1+o:i=o}return i}return jn(t,n,Lo,e)}function jn(t,n,e,r){var i=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(n=e(n))!=n,u=null===n,c=Ui(n),l=n===Fo;i<o;){var s=U((i+o)/2),f=e(t[s]),h=f!==Fo,p=null===f,d=f==f,g=Ui(f),f=a?r||d:l?d&&(r||h):u?d&&h&&(r||!p):c?d&&h&&!p&&(r||!g):!p&&!g&&(r?f<=n:f<n);f?i=s+1:o=s}return W(o,4294967294)}function In(t,n){for(var e=-1,r=t.length,i=0,o=[];++e<r;){var a,u=t[e],c=n?n(u):u;e&&vi(c,a)||(a=c,o[i++]=0===u?0:u)}return o}function Pn(t){return"number"==typeof t?t:Ui(t)?$o:+t}function Rn(t){if("string"==typeof t)return t;if(xi(t))return Cu(t,Rn)+"";if(Ui(t))return ht?ht.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}function Un(t,n,e){var r=-1,i=Mu,o=t.length,a=!0,u=[],c=u;if(e)a=!1,i=Su;else if(200<=o){var l=n?null:Se(t);if(l)return nc(l);a=!1,i=Yu,c=new bt}else c=n?[]:u;t:for(;++r<o;){var s=t[r],f=n?n(s):s,s=e||0!==s?s:0;if(a&&f==f){for(var h=c.length;h--;)if(c[h]===f)continue t;n&&c.push(f),u.push(s)}else i(c,f,e)||(c!==u&&c.push(f),u.push(s))}return u}function Bn(t,n){return null==(t=ir(t,n=Vn(n,t)))||delete t[dr(Cr(n))]}function Fn(t,n,e,r){return Tn(t,n,e(Qt(t,n)),r)}function qn(t,n,e,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&n(t[o],o,t););return e?Ln(t,r?0:o,r?o+1:i):Ln(t,r?o+1:0,r?i:o)}function Hn(t,n){var e=t;return Eu(n,function(t,n){return n.func.apply(n.thisArg,Tu([t],n.args))},e=t instanceof mt?t.value():e)}function Gn(t,n,e){var r=t.length;if(r<2)return r?Un(t[0]):[];for(var i=-1,o=k(r);++i<r;)for(var a=t[i],u=-1;++u<r;)u!=i&&(o[i]=Ut(o[i]||a,t[u],n,e));return Un(Yt(o,1),n,e)}function Yn(t,n,e){for(var r=-1,i=t.length,o=n.length,a={};++r<i;){var u=r<o?n[r]:Fo;e(a,t[r],u)}return a}function Wn(t){return Ai(t)?t:[]}function $n(t){return"function"==typeof t?t:Lo}function Vn(t,n){return xi(t)?t:Qe(t,n)?[t]:pr(Xi(t))}var Xn=Mn;function Zn(t,n,e){var r=t.length;return e=e===Fo?r:e,!n&&r<=e?t:Ln(t,n,e)}var Qn=j||function(t){return fu.clearTimeout(t)};function Kn(t,n){if(n)return t.slice();n=t.length,n=S?S(n):new t.constructor(n);return t.copy(n),n}function Jn(t){var n=new t.constructor(t.byteLength);return new M(n).set(new M(t)),n}function te(t,n){n=n?Jn(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function ne(t,n){if(t!==n){var e=t!==Fo,r=null===t,i=t==t,o=Ui(t),a=n!==Fo,u=null===n,c=n==n,l=Ui(n);if(!u&&!l&&!o&&n<t||o&&a&&c&&!u&&!l||r&&a&&c||!e&&c||!i)return 1;if(!r&&!o&&!l&&t<n||l&&e&&i&&!r&&!o||u&&e&&i||!a&&i||!c)return-1}return 0}function ee(t,n,e,r){for(var i=-1,o=t.length,a=e.length,u=-1,c=n.length,l=Y(o-a,0),s=k(c+l),f=!r;++u<c;)s[u]=n[u];for(;++i<a;)(f||i<o)&&(s[e[i]]=t[i]);for(;l--;)s[u++]=t[i++];return s}function re(t,n,e,r){for(var i=-1,o=t.length,a=-1,u=e.length,c=-1,l=n.length,s=Y(o-u,0),f=k(s+l),h=!r;++i<s;)f[i]=t[i];for(var p=i;++c<l;)f[p+c]=n[c];for(;++a<u;)(h||i<o)&&(f[p+e[a]]=t[i++]);return f}function ie(t,n){var e=-1,r=t.length;for(n=n||k(r);++e<r;)n[e]=t[e];return n}function oe(t,n,e,r){var i=!e;e=e||{};for(var o=-1,a=n.length;++o<a;){var u=n[o],c=r?r(e[u],t[u],u,e,t):Fo;(i?zt:Et)(e,u,c=c===Fo?t[u]:c)}return e}function ae(i,o){return function(t,n){var e=xi(t)?_u:Ot,r=o?o():{};return e(t,i,Ue(n,2),r)}}function ue(u){return Mn(function(t,n){var e=-1,r=n.length,i=1<r?n[r-1]:Fo,o=2<r?n[2]:Fo,i=3<u.length&&"function"==typeof i?(r--,i):Fo;for(o&&Ze(n[0],n[1],o)&&(i=r<3?Fo:i,r=1),t=g(t);++e<r;){var a=n[e];a&&u(t,a,e,i)}return t})}function ce(o,a){return function(t,n){if(null==t)return t;if(!ki(t))return o(t,n);for(var e=t.length,r=a?e:-1,i=g(t);(a?r--:++r<e)&&!1!==n(i[r],r,i););return t}}function le(c){return function(t,n,e){for(var r=-1,i=g(t),o=e(t),a=o.length;a--;){var u=o[c?a:++r];if(!1===n(i[u],u,i))break}return t}}function se(r){return function(t){var n=Qu(t=Xi(t))?rc(t):Fo,e=n?n[0]:t.charAt(0),t=n?Zn(n,1).join(""):t.slice(1);return e[r]()+t}}function fe(n){return function(t){return Eu(To(xo(t).replace(nu,"")),n,"")}}function he(r){return function(){var t=arguments;switch(t.length){case 0:return new r;case 1:return new r(t[0]);case 2:return new r(t[0],t[1]);case 3:return new r(t[0],t[1],t[2]);case 4:return new r(t[0],t[1],t[2],t[3]);case 5:return new r(t[0],t[1],t[2],t[3],t[4]);case 6:return new r(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new r(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=dt(r.prototype),e=r.apply(n,t);return Oi(e)?e:n}}function pe(o,a,u){var c=he(o);return function t(){for(var n=arguments.length,e=k(n),r=n,i=Re(t);r--;)e[r]=arguments[r];i=n<3&&e[0]!==i&&e[n-1]!==i?[]:tc(e,i);return(n-=i.length)<u?Ae(o,a,ye,t.placeholder,Fo,e,i,Fo,Fo,u-n):wu(this&&this!==fu&&this instanceof t?c:o,this,e)}}function de(o){return function(t,n,e){var r,i=g(t);ki(t)||(r=Ue(n,3),t=co(t),n=function(t){return r(i[t],t,i)});e=o(t,n,e);return-1<e?i[r?t[e]:e]:Fo}}function ge(c){return ze(function(i){var o=i.length,t=o,n=vt.prototype.thru;for(c&&i.reverse();t--;){var e=i[t];if("function"!=typeof e)throw new m(qo);n&&!u&&"wrapper"==Pe(e)&&(u=new vt([],!0))}for(t=u?t:o;++t<o;)var r=Pe(e=i[t]),a="wrapper"==r?Ie(e):Fo,u=a&&Ke(a[0])&&424==a[1]&&!a[4].length&&1==a[9]?u[Pe(a[0])].apply(u,a[3]):1==e.length&&Ke(e)?u[r]():u.thru(e);return function(){var t=arguments,n=t[0];if(u&&1==t.length&&xi(n))return u.plant(n).value();for(var e=0,r=o?i[e].apply(this,t):n;++e<o;)r=i[e].call(this,r);return r}})}function ye(u,c,l,s,f,h,p,d,g,y){var v=c&Yo,m=1&c,w=2&c,_=24&c,x=512&c,b=w?Fo:he(u);return function t(){for(var n,e=k(a=arguments.length),r=a;r--;)e[r]=arguments[r];if(_&&(n=function(t,n){for(var e=t.length,r=0;e--;)t[e]===n&&++r;return r}(e,o=Re(t))),s&&(e=ee(e,s,f,_)),h&&(e=re(e,h,p,_)),a-=n,_&&a<y){var i=tc(e,o);return Ae(u,c,ye,t.placeholder,l,e,i,d,g,y-a)}var o=m?l:this,i=w?o[u]:u,a=e.length;return d?e=function(t,n){for(var e=t.length,r=W(n.length,e),i=ie(t);r--;){var o=n[r];t[r]=Xe(o,e)?i[o]:Fo}return t}(e,d):x&&1<a&&e.reverse(),v&&g<a&&(e.length=g),(i=this&&this!==fu&&this instanceof t?b||he(i):i).apply(o,e)}}function ve(e,a){return function(t,n){return t=t,r=e,i=a(n),o={},Vt(t,function(t,n,e){r(o,i(t),n,e)}),o;var r,i,o}}function me(r,i){return function(t,n){var e;if(t===Fo&&n===Fo)return i;if(t!==Fo&&(e=t),n!==Fo){if(e===Fo)return n;n="string"==typeof t||"string"==typeof n?(t=Rn(t),Rn(n)):(t=Pn(t),Pn(n)),e=r(t,n)}return e}}function we(r){return ze(function(t){return t=Cu(t,Hu(Ue())),Mn(function(n){var e=this;return r(t,function(t){return wu(t,e,n)})})})}function _e(t,n){var e=(n=n===Fo?" ":Rn(n)).length;if(e<2)return e?An(n,t):n;e=An(n,R(t/ec(n)));return Qu(n)?Zn(rc(e),0,t).join(""):e.slice(0,t)}function xe(u,t,c,l){var s=1&t,f=he(u);return function t(){for(var n=-1,e=arguments.length,r=-1,i=l.length,o=k(i+e),a=this&&this!==fu&&this instanceof t?f:u;++r<i;)o[r]=l[r];for(;e--;)o[r++]=arguments[++n];return wu(a,s?c:this,o)}}function be(r){return function(t,n,e){return e&&"number"!=typeof e&&Ze(t,n,e)&&(n=e=Fo),t=Gi(t),n===Fo?(n=t,t=0):n=Gi(n),function(t,n,e,r){for(var i=-1,o=Y(R((n-t)/(e||1)),0),a=k(o);o--;)a[r?o:++i]=t,t+=e;return a}(t,n,e=e===Fo?t<n?1:-1:Gi(e),r)}}function ke(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=$i(t),n=$i(n)),e(t,n)}}function Ae(t,n,e,r,i,o,a,u,c,l){var s=8&n;n|=s?32:64,4&(n&=~(s?64:32))||(n&=-4);l=[t,n,i,s?o:Fo,s?a:Fo,s?Fo:o,s?Fo:a,u,c,l],e=e.apply(Fo,l);return Ke(t)&&ar(e,l),e.placeholder=r,lr(e,t,n)}function Me(t){var r=i[t];return function(t,n){if(t=$i(t),(n=null==n?0:W(Yi(n),292))&&q(t)){var e=(Xi(t)+"e").split("e");return+((e=(Xi(r(e[0]+"e"+(+e[1]+n)))+"e").split("e"))[0]+"e"+(+e[1]-n))}return r(t)}}var Se=tt&&1/nc(new tt([,-0]))[1]==1/0?function(t){return new tt(t)}:jo;function Ce(o){return function(t){var n,e,r,i=Ye(t);return i==ra?Ku(t):i==ca?(i=t,n=-1,e=Array(i.size),i.forEach(function(t){e[++n]=[t,t]}),e):Cu(o(r=t),function(t){return[t,r[t]]})}}function Te(t,n,e,r,i,o,a,u){var c=2&n;if(!c&&"function"!=typeof t)throw new m(qo);var l,s,f=r?r.length:0;f||(n&=-97,r=i=Fo),a=a===Fo?a:Y(Yi(a),0),u=u===Fo?u:Yi(u),f-=i?i.length:0,64&n&&(l=r,s=i,r=i=Fo);var h,p,d,g,y=c?Fo:Ie(t),a=[t,n,e,r,i,l,s,o,a,u];y&&function(t,n){var e=t[1],r=n[1],i=e|r,o=i<131,a=r==Yo&&8==e||r==Yo&&256==e&&t[7].length<=n[8]||384==r&&n[7].length<=n[8]&&8==e;if(!o&&!a)return;1&r&&(t[2]=n[2],i|=1&e?0:4);e=n[3];{var u;e&&(u=t[3],t[3]=u?ee(u,e,n[4]):e,t[4]=u?tc(t[3],Go):n[4])}(e=n[5])&&(u=t[5],t[5]=u?re(u,e,n[6]):e,t[6]=u?tc(t[5],Go):n[6]);(e=n[7])&&(t[7]=e);r&Yo&&(t[8]=null==t[8]?n[8]:W(t[8],n[8]));null==t[9]&&(t[9]=n[9]);t[0]=n[0],t[1]=i}(a,y),t=a[0],n=a[1],e=a[2],r=a[3],i=a[4],!(u=a[9]=a[9]===Fo?c?0:t.length:Y(a[9]-f,0))&&24&n&&(n&=-25);e=n&&1!=n?8==n||16==n?pe(t,n,u):32!=n&&33!=n||i.length?ye.apply(Fo,a):xe(t,n,e,r):(p=e,d=1&n,g=he(h=t),function t(){return(this&&this!==fu&&this instanceof t?g:h).apply(d?p:this,arguments)});return lr((y?En:ar)(e,a),t,n)}function Ee(t,n,e,r){return t===Fo||vi(t,d[e])&&!w.call(r,e)?n:t}function Ne(t,n,e,r,i,o){return Oi(t)&&Oi(n)&&(o.set(n,t),vn(t,n,Fo,Ne,o),o.delete(n)),t}function Oe(t){return ji(t)?Fo:t}function Le(t,n,e,r,i,o){var a=1&e,u=t.length,c=n.length;if(u!=c&&!(a&&u<c))return!1;var l=o.get(t),c=o.get(n);if(l&&c)return l==n&&c==t;var s=-1,f=!0,h=2&e?new bt:Fo;for(o.set(t,n),o.set(n,t);++s<u;){var p,d=t[s],g=n[s];if((p=r?a?r(g,d,s,n,t,o):r(d,g,s,t,n,o):p)!==Fo){if(p)continue;f=!1;break}if(h){if(!Ou(n,function(t,n){return!Yu(h,n)&&(d===t||i(d,t,e,r,o))&&h.push(n)})){f=!1;break}}else if(d!==g&&!i(d,g,e,r,o)){f=!1;break}}return o.delete(t),o.delete(n),f}function ze(t){return cr(rr(t,Fo,br),t+"")}function De(t){return Kt(t,co,He)}function je(t){return Kt(t,lo,Ge)}var Ie=rt?function(t){return rt.get(t)}:jo;function Pe(t){for(var n=t.name+"",e=it[n],r=w.call(it,n)?e.length:0;r--;){var i=e[r],o=i.func;if(null==o||o==t)return i.name}return n}function Re(t){return(w.call(pt,"placeholder")?pt:t).placeholder}function Ue(){var t=(t=pt.iteratee||zo)===zo?sn:t;return arguments.length?t(arguments[0],arguments[1]):t}function Be(t,n){var e,r=t.__data__;return("string"==(t=typeof(e=n))||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e)?r["string"==typeof n?"string":"hash"]:r.map}function Fe(t){for(var n=co(t),e=n.length;e--;){var r=n[e],i=t[r];n[e]=[r,i,nr(i)]}return n}function qe(t,n){n=n,n=null==(t=t)?Fo:t[n];return ln(n)?n:Fo}var He=B?function(n){return null==n?[]:(n=g(n),Au(B(n),function(t){return E.call(n,t)}))}:Po,Ge=B?function(t){for(var n=[];t;)Tu(n,He(t)),t=C(t);return n}:Po,Ye=Jt;function We(t,n,e){for(var r=-1,i=(n=Vn(n,t)).length,o=!1;++r<i;){var a=dr(n[r]);if(!(o=null!=t&&e(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Ni(i)&&Xe(a,i)&&(xi(t)||_i(t))}function $e(t){return"function"!=typeof t.constructor||tr(t)?{}:dt(C(t))}function Ve(t){return xi(t)||_i(t)||!!(O&&t&&t[O])}function Xe(t,n){var e=typeof t;return!!(n=null==n?Wo:n)&&("number"==e||"symbol"!=e&&Qa.test(t))&&-1<t&&t%1==0&&t<n}function Ze(t,n,e){if(Oi(e)){var r=typeof n;return("number"==r?ki(e)&&Xe(n,e.length):"string"==r&&n in e)&&vi(e[n],t)}}function Qe(t,n){if(!xi(t)){var e=typeof t;return"number"==e||"symbol"==e||"boolean"==e||null==t||Ui(t)||(Da.test(t)||!za.test(t)||null!=n&&t in g(n))}}function Ke(t){var n=Pe(t),e=pt[n];if("function"==typeof e&&n in mt.prototype){if(t===e)return 1;e=Ie(e);return e&&t===e[0]}}(Q&&Ye(new Q(new ArrayBuffer(1)))!=pa||K&&Ye(new K)!=ra||J&&Ye(J.resolve())!=aa||tt&&Ye(new tt)!=ca||nt&&Ye(new nt)!=fa)&&(Ye=function(t){var n=Jt(t),t=n==oa?t.constructor:Fo,t=t?gr(t):"";if(t)switch(t){case ot:return pa;case at:return ra;case ut:return aa;case ct:return ca;case lt:return fa}return n});var Je=a?Ti:Ro;function tr(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||d)}function nr(t){return t==t&&!Oi(t)}function er(n,e){return function(t){return null!=t&&(t[n]===e&&(e!==Fo||n in g(t)))}}function rr(o,a,u){return a=Y(a===Fo?o.length-1:a,0),function(){for(var t=arguments,n=-1,e=Y(t.length-a,0),r=k(e);++n<e;)r[n]=t[a+n];for(var n=-1,i=k(a+1);++n<a;)i[n]=t[n];return i[a]=u(r),wu(o,this,i)}}function ir(t,n){return n.length<2?t:Qt(t,Ln(n,0,-1))}function or(t,n){if(("constructor"!==n||"function"!=typeof t[n])&&"__proto__"!=n)return t[n]}var ar=sr(En),ur=P||function(t,n){return fu.setTimeout(t,n)},cr=sr(Nn);function lr(t,n,e){var r,i,n=n+"";return cr(t,function(t,n){var e=n.length;if(!e)return t;var r=e-1;return n[r]=(1<e?"& ":"")+n[r],n=n.join(2<e?", ":" "),t.replace(Ua,"{\n/* [wrapped with "+n+"] */\n")}(n,(r=(n=(n=n).match(Ba))?n[1].split(Fa):[],i=e,xu(Xo,function(t){var n="_."+t[0];i&t[1]&&!Mu(r,n)&&r.push(n)}),r.sort())))}function sr(e){var r=0,i=0;return function(){var t=$(),n=16-(t-i);if(i=t,0<n){if(800<=++r)return arguments[0]}else r=0;return e.apply(Fo,arguments)}}function fr(t,n){var e=-1,r=t.length,i=r-1;for(n=n===Fo?r:n;++e<n;){var o=kn(e,i),a=t[o];t[o]=t[e],t[e]=a}return t.length=n,t}var hr,pr=(hr=(Uo=fi(Uo=function(t){var i=[];return 46===t.charCodeAt(0)&&i.push(""),t.replace(ja,function(t,n,e,r){i.push(e?r.replace(Ga,"$1"):n||t)}),i},function(t){return 500===hr.size&&hr.clear(),t})).cache,Uo);function dr(t){if("string"==typeof t||Ui(t))return t;var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}function gr(t){if(null!=t){try{return u.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function yr(t){if(t instanceof mt)return t.clone();var n=new vt(t.__wrapped__,t.__chain__);return n.__actions__=ie(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}var vr=Mn(function(t,n){return Ai(t)?Ut(t,Yt(n,1,Ai,!0)):[]}),mr=Mn(function(t,n){var e=Cr(n);return Ai(e)&&(e=Fo),Ai(t)?Ut(t,Yt(n,1,Ai,!0),Ue(e,2)):[]}),wr=Mn(function(t,n){var e=Cr(n);return Ai(e)&&(e=Fo),Ai(t)?Ut(t,Yt(n,1,Ai,!0),Fo,e):[]});function _r(t,n,e){var r=null==t?0:t.length;if(!r)return-1;e=null==e?0:Yi(e);return e<0&&(e=Y(r+e,0)),zu(t,Ue(n,3),e)}function xr(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return e!==Fo&&(i=Yi(e),i=e<0?Y(r+i,0):W(i,r-1)),zu(t,Ue(n,3),i,!0)}function br(t){return(null==t?0:t.length)?Yt(t,1):[]}function kr(t){return t&&t.length?t[0]:Fo}var Ar=Mn(function(t){var n=Cu(t,Wn);return n.length&&n[0]===t[0]?rn(n):[]}),Mr=Mn(function(t){var n=Cr(t),e=Cu(t,Wn);return n===Cr(e)?n=Fo:e.pop(),e.length&&e[0]===t[0]?rn(e,Ue(n,2)):[]}),Sr=Mn(function(t){var n=Cr(t),e=Cu(t,Wn);return(n="function"==typeof n?n:Fo)&&e.pop(),e.length&&e[0]===t[0]?rn(e,Fo,n):[]});function Cr(t){var n=null==t?0:t.length;return n?t[n-1]:Fo}var Tr=Mn(Er);function Er(t,n){return t&&t.length&&n&&n.length?xn(t,n):t}var Nr=ze(function(t,n){var e=null==t?0:t.length,r=Dt(t,n);return bn(t,Cu(n,function(t){return Xe(t,e)?+t:t}).sort(ne)),r});function Or(t){return null==t?t:Z.call(t)}var Lr=Mn(function(t){return Un(Yt(t,1,Ai,!0))}),zr=Mn(function(t){var n=Cr(t);return Ai(n)&&(n=Fo),Un(Yt(t,1,Ai,!0),Ue(n,2))}),Dr=Mn(function(t){var n="function"==typeof(n=Cr(t))?n:Fo;return Un(Yt(t,1,Ai,!0),Fo,n)});function jr(n){if(!n||!n.length)return[];var e=0;return n=Au(n,function(t){return Ai(t)&&(e=Y(t.length,e),1)}),Fu(e,function(t){return Cu(n,Ru(t))})}function Ir(t,n){if(!t||!t.length)return[];t=jr(t);return null==n?t:Cu(t,function(t){return wu(n,Fo,t)})}var Pr=Mn(function(t,n){return Ai(t)?Ut(t,n):[]}),Rr=Mn(function(t){return Gn(Au(t,Ai))}),Ur=Mn(function(t){var n=Cr(t);return Ai(n)&&(n=Fo),Gn(Au(t,Ai),Ue(n,2))}),Br=Mn(function(t){var n="function"==typeof(n=Cr(t))?n:Fo;return Gn(Au(t,Ai),Fo,n)}),Fr=Mn(jr);var qr=Mn(function(t){var n=t.length,n="function"==typeof(n=1<n?t[n-1]:Fo)?(t.pop(),n):Fo;return Ir(t,n)});function Hr(t){t=pt(t);return t.__chain__=!0,t}function Gr(t,n){return n(t)}var Yr=ze(function(n){function t(t){return Dt(t,n)}var e=n.length,r=e?n[0]:0,i=this.__wrapped__;return!(1<e||this.__actions__.length)&&i instanceof mt&&Xe(r)?((i=i.slice(r,+r+(e?1:0))).__actions__.push({func:Gr,args:[t],thisArg:Fo}),new vt(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(Fo),t})):this.thru(t)});var Wr=ae(function(t,n,e){w.call(t,e)?++t[e]:zt(t,e,1)});var $r=de(_r),Vr=de(xr);function Xr(t,n){return(xi(t)?xu:Bt)(t,Ue(n,3))}function Zr(t,n){return(xi(t)?bu:Ft)(t,Ue(n,3))}var Qr=ae(function(t,n,e){w.call(t,e)?t[e].push(n):zt(t,e,[n])});var Kr=Mn(function(t,n,e){var r=-1,i="function"==typeof n,o=ki(t)?k(t.length):[];return Bt(t,function(t){o[++r]=i?wu(n,t,e):on(t,n,e)}),o}),Jr=ae(function(t,n,e){zt(t,e,n)});function ti(t,n){return(xi(t)?Cu:dn)(t,Ue(n,3))}var ni=ae(function(t,n,e){t[e?0:1].push(n)},function(){return[[],[]]});var ei=Mn(function(t,n){if(null==t)return[];var e=n.length;return 1<e&&Ze(t,n[0],n[1])?n=[]:2<e&&Ze(n[0],n[1],n[2])&&(n=[n[0]]),wn(t,Yt(n,1),[])}),ri=I||function(){return fu.Date.now()};function ii(t,n,e){return n=e?Fo:n,n=t&&null==n?t.length:n,Te(t,Yo,Fo,Fo,Fo,Fo,n)}function oi(t,n){var e;if("function"!=typeof n)throw new m(qo);return t=Yi(t),function(){return 0<--t&&(e=n.apply(this,arguments)),t<=1&&(n=Fo),e}}var ai=Mn(function(t,n,e){var r,i=1;return e.length&&(r=tc(e,Re(ai)),i|=32),Te(t,i,n,e,r)}),ui=Mn(function(t,n,e){var r,i=3;return e.length&&(r=tc(e,Re(ui)),i|=32),Te(n,i,t,e,r)});function ci(r,e,t){var i,o,a,u,c,l,s=0,f=!1,h=!1,n=!0;if("function"!=typeof r)throw new m(qo);function p(t){var n=i,e=o;return i=o=Fo,s=t,u=r.apply(e,n)}function d(t){var n=t-l;return l===Fo||e<=n||n<0||h&&a<=t-s}function g(){var t,n=ri();if(d(n))return y(n);c=ur(g,(n=e-((t=n)-l),h?W(n,a-(t-s)):n))}function y(t){return c=Fo,n&&i?p(t):(i=o=Fo,u)}function v(){var t=ri(),n=d(t);if(i=arguments,o=this,l=t,n){if(c===Fo)return s=n=l,c=ur(g,e),f?p(n):u;if(h)return Qn(c),c=ur(g,e),p(l)}return c===Fo&&(c=ur(g,e)),u}return e=$i(e)||0,Oi(t)&&(f=!!t.leading,h="maxWait"in t,a=h?Y($i(t.maxWait)||0,e):a,n="trailing"in t?!!t.trailing:n),v.cancel=function(){c!==Fo&&Qn(c),s=0,i=l=o=c=Fo},v.flush=function(){return c===Fo?u:y(ri())},v}var li=Mn(function(t,n){return Rt(t,1,n)}),si=Mn(function(t,n,e){return Rt(t,$i(n)||0,e)});function fi(r,i){if("function"!=typeof r||null!=i&&"function"!=typeof i)throw new m(qo);function o(){var t=arguments,n=i?i.apply(this,t):t[0],e=o.cache;return e.has(n)?e.get(n):(t=r.apply(this,t),o.cache=e.set(n,t)||e,t)}return o.cache=new(fi.Cache||xt),o}function hi(n){if("function"!=typeof n)throw new m(qo);return function(){var t=arguments;switch(t.length){case 0:return!n.call(this);case 1:return!n.call(this,t[0]);case 2:return!n.call(this,t[0],t[1]);case 3:return!n.call(this,t[0],t[1],t[2])}return!n.apply(this,t)}}fi.Cache=xt;var pi=Xn(function(r,i){var o=(i=1==i.length&&xi(i[0])?Cu(i[0],Hu(Ue())):Cu(Yt(i,1),Hu(Ue()))).length;return Mn(function(t){for(var n=-1,e=W(t.length,o);++n<e;)t[n]=i[n].call(this,t[n]);return wu(r,this,t)})}),di=Mn(function(t,n){var e=tc(n,Re(di));return Te(t,32,Fo,n,e)}),gi=Mn(function(t,n){var e=tc(n,Re(gi));return Te(t,64,Fo,n,e)}),yi=ze(function(t,n){return Te(t,256,Fo,Fo,Fo,n)});function vi(t,n){return t===n||t!=t&&n!=n}var mi=ke(tn),wi=ke(function(t,n){return n<=t}),_i=an(function(){return arguments}())?an:function(t){return Li(t)&&w.call(t,"callee")&&!E.call(t,"callee")},xi=k.isArray,bi=pu?Hu(pu):function(t){return Li(t)&&Jt(t)==ha};function ki(t){return null!=t&&Ni(t.length)&&!Ti(t)}function Ai(t){return Li(t)&&ki(t)}var Mi=F||Ro,Si=du?Hu(du):function(t){return Li(t)&&Jt(t)==Jo};function Ci(t){if(!Li(t))return!1;var n=Jt(t);return n==ta||"[object DOMException]"==n||"string"==typeof t.message&&"string"==typeof t.name&&!ji(t)}function Ti(t){if(!Oi(t))return!1;t=Jt(t);return t==na||t==ea||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ei(t){return"number"==typeof t&&t==Yi(t)}function Ni(t){return"number"==typeof t&&-1<t&&t%1==0&&t<=Wo}function Oi(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}function Li(t){return null!=t&&"object"==typeof t}var zi=gu?Hu(gu):function(t){return Li(t)&&Ye(t)==ra};function Di(t){return"number"==typeof t||Li(t)&&Jt(t)==ia}function ji(t){if(!Li(t)||Jt(t)!=oa)return!1;t=C(t);if(null===t)return!0;t=w.call(t,"constructor")&&t.constructor;return"function"==typeof t&&t instanceof t&&u.call(t)==v}var Ii=yu?Hu(yu):function(t){return Li(t)&&Jt(t)==ua};var Pi=vu?Hu(vu):function(t){return Li(t)&&Ye(t)==ca};function Ri(t){return"string"==typeof t||!xi(t)&&Li(t)&&Jt(t)==la}function Ui(t){return"symbol"==typeof t||Li(t)&&Jt(t)==sa}var Bi=mu?Hu(mu):function(t){return Li(t)&&Ni(t.length)&&!!uu[Jt(t)]};var Fi=ke(pn),qi=ke(function(t,n){return t<=n});function Hi(t){if(!t)return[];if(ki(t))return(Ri(t)?rc:ie)(t);if(L&&t[L])return function(t){for(var n,e=[];!(n=t.next()).done;)e.push(n.value);return e}(t[L]());var n=Ye(t);return(n==ra?Ku:n==ca?nc:mo)(t)}function Gi(t){return t?(t=$i(t))!==1/0&&t!==-1/0?t==t?t:0:17976931348623157e292*(t<0?-1:1):0===t?t:0}function Yi(t){var n=Gi(t),t=n%1;return n==n?t?n-t:n:0}function Wi(t){return t?jt(Yi(t),0,Vo):0}function $i(t){if("number"==typeof t)return t;if(Ui(t))return $o;if("string"!=typeof(t=Oi(t)?Oi(n="function"==typeof t.valueOf?t.valueOf():t)?n+"":n:t))return 0===t?t:+t;t=qu(t);var n=Va.test(t);return n||Za.test(t)?su(t.slice(2),n?2:8):$a.test(t)?$o:+t}function Vi(t){return oe(t,lo(t))}function Xi(t){return null==t?"":Rn(t)}var Zi=ue(function(t,n){if(tr(n)||ki(n))oe(n,co(n),t);else for(var e in n)w.call(n,e)&&Et(t,e,n[e])}),Qi=ue(function(t,n){oe(n,lo(n),t)}),Ki=ue(function(t,n,e,r){oe(n,lo(n),t,r)}),Ji=ue(function(t,n,e,r){oe(n,co(n),t,r)}),to=ze(Dt);var no=Mn(function(t,n){t=g(t);var e=-1,r=n.length,i=2<r?n[2]:Fo;for(i&&Ze(n[0],n[1],i)&&(r=1);++e<r;)for(var o=n[e],a=lo(o),u=-1,c=a.length;++u<c;){var l=a[u],s=t[l];(s===Fo||vi(s,d[l])&&!w.call(t,l))&&(t[l]=o[l])}return t}),eo=Mn(function(t){return t.push(Fo,Ne),wu(fo,Fo,t)});function ro(t,n,e){n=null==t?Fo:Qt(t,n);return n===Fo?e:n}function io(t,n){return null!=t&&We(t,n,en)}var oo=ve(function(t,n,e){t[n=null!=n&&"function"!=typeof n.toString?y.call(n):n]=e},Oo(Lo)),ao=ve(function(t,n,e){null!=n&&"function"!=typeof n.toString&&(n=y.call(n)),w.call(t,n)?t[n].push(e):t[n]=[e]},Ue),uo=Mn(on);function co(t){return(ki(t)?At:fn)(t)}function lo(t){return ki(t)?At(t,!0):hn(t)}var so=ue(function(t,n,e){vn(t,n,e)}),fo=ue(function(t,n,e,r){vn(t,n,e,r)}),ho=ze(function(n,t){var e={};if(null==n)return e;var r=!1;t=Cu(t,function(t){return t=Vn(t,n),r=r||1<t.length,t}),oe(n,je(n),e),r&&(e=It(e,7,Oe));for(var i=t.length;i--;)Bn(e,t[i]);return e});var po=ze(function(t,n){return null==t?{}:_n(e=t,n,function(t,n){return io(e,n)});var e});function go(t,e){if(null==t)return{};var n=Cu(je(t),function(t){return[t]});return e=Ue(e),_n(t,n,function(t,n){return e(t,n[0])})}var yo=Ce(co),vo=Ce(lo);function mo(t){return null==t?[]:Gu(t,co(t))}var wo=fe(function(t,n,e){return n=n.toLowerCase(),t+(e?_o(n):n)});function _o(t){return Co(Xi(t).toLowerCase())}function xo(t){return(t=Xi(t))&&t.replace(Ka,Vu).replace(eu,"")}var bo=fe(function(t,n,e){return t+(e?"-":"")+n.toLowerCase()}),ko=fe(function(t,n,e){return t+(e?" ":"")+n.toLowerCase()}),Ao=se("toLowerCase");var Mo=fe(function(t,n,e){return t+(e?"_":"")+n.toLowerCase()});var So=fe(function(t,n,e){return t+(e?" ":"")+Co(n)});var r=fe(function(t,n,e){return t+(e?" ":"")+n.toUpperCase()}),Co=se("toUpperCase");function To(t,n,e){return t=Xi(t),(n=e?Fo:n)===Fo?(e=t,iu.test(e)?t.match(ru)||[]:t.match(qa)||[]):t.match(n)||[]}var Eo=Mn(function(t,n){try{return wu(t,Fo,n)}catch(t){return Ci(t)?t:new f(t)}}),No=ze(function(n,t){return xu(t,function(t){t=dr(t),zt(n,t,ai(n[t],n))}),n});function Oo(t){return function(){return t}}b=ge(),e=ge(!0);function Lo(t){return t}function zo(t){return sn("function"==typeof t?t:It(t,1))}n=Mn(function(n,e){return function(t){return on(t,n,e)}}),A=Mn(function(n,e){return function(t){return on(n,t,e)}});function Do(r,n,t){var e=co(n),i=Zt(n,e);null!=t||Oi(n)&&(i.length||!e.length)||(t=n,n=r,r=this,i=Zt(n,co(n)));var o=!(Oi(t)&&"chain"in t&&!t.chain),a=Ti(r);return xu(i,function(t){var e=n[t];r[t]=e,a&&(r.prototype[t]=function(){var t=this.__chain__;if(o||t){var n=r(this.__wrapped__);return(n.__actions__=ie(this.__actions__)).push({func:e,args:arguments,thisArg:r}),n.__chain__=t,n}return e.apply(r,Tu([this.value()],arguments))})}),r}function jo(){}st=we(Cu),j=we(ku),Q=we(Ou);function Io(t){return Qe(t)?Ru(dr(t)):(n=t,function(t){return Qt(t,n)});var n}J=be(),nt=be(!0);function Po(){return[]}function Ro(){return!1}var a=me(function(t,n){return t+n},0),P=Me("ceil"),Nn=me(function(t,n){return t/n},1),Uo=Me("floor");var Bo,I=me(function(t,n){return t*n},1),Xn=Me("round"),F=me(function(t,n){return t-n},0);return pt.after=function(t,n){if("function"!=typeof n)throw new m(qo);return t=Yi(t),function(){if(--t<1)return n.apply(this,arguments)}},pt.ary=ii,pt.assign=Zi,pt.assignIn=Qi,pt.assignInWith=Ki,pt.assignWith=Ji,pt.at=to,pt.before=oi,pt.bind=ai,pt.bindAll=No,pt.bindKey=ui,pt.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return xi(t)?t:[t]},pt.chain=Hr,pt.chunk=function(t,n,e){n=(e?Ze(t,n,e):n===Fo)?1:Y(Yi(n),0);var r=null==t?0:t.length;if(!r||n<1)return[];for(var i=0,o=0,a=k(R(r/n));i<r;)a[o++]=Ln(t,i,i+=n);return a},pt.compact=function(t){for(var n=-1,e=null==t?0:t.length,r=0,i=[];++n<e;){var o=t[n];o&&(i[r++]=o)}return i},pt.concat=function(){var t=arguments.length;if(!t)return[];for(var n=k(t-1),e=arguments[0],r=t;r--;)n[r-1]=arguments[r];return Tu(xi(e)?ie(e):[e],Yt(n,1))},pt.cond=function(r){var i=null==r?0:r.length,n=Ue();return r=i?Cu(r,function(t){if("function"!=typeof t[1])throw new m(qo);return[n(t[0]),t[1]]}):[],Mn(function(t){for(var n=-1;++n<i;){var e=r[n];if(wu(e[0],this,t))return wu(e[1],this,t)}})},pt.conforms=function(t){return n=It(t,1),e=co(n),function(t){return Pt(t,n,e)};var n,e},pt.constant=Oo,pt.countBy=Wr,pt.create=function(t,n){return t=dt(t),null==n?t:Lt(t,n)},pt.curry=function t(n,e,r){e=Te(n,8,Fo,Fo,Fo,Fo,Fo,e=r?Fo:e);return e.placeholder=t.placeholder,e},pt.curryRight=function t(n,e,r){e=Te(n,16,Fo,Fo,Fo,Fo,Fo,e=r?Fo:e);return e.placeholder=t.placeholder,e},pt.debounce=ci,pt.defaults=no,pt.defaultsDeep=eo,pt.defer=li,pt.delay=si,pt.difference=vr,pt.differenceBy=mr,pt.differenceWith=wr,pt.drop=function(t,n,e){var r=null==t?0:t.length;return r?Ln(t,(n=e||n===Fo?1:Yi(n))<0?0:n,r):[]},pt.dropRight=function(t,n,e){var r=null==t?0:t.length;return r?Ln(t,0,(n=r-(n=e||n===Fo?1:Yi(n)))<0?0:n):[]},pt.dropRightWhile=function(t,n){return t&&t.length?qn(t,Ue(n,3),!0,!0):[]},pt.dropWhile=function(t,n){return t&&t.length?qn(t,Ue(n,3),!0):[]},pt.fill=function(t,n,e,r){var i=null==t?0:t.length;return i?(e&&"number"!=typeof e&&Ze(t,n,e)&&(e=0,r=i),function(t,n,e,r){var i=t.length;for((e=Yi(e))<0&&(e=i<-e?0:i+e),(r=r===Fo||i<r?i:Yi(r))<0&&(r+=i),r=r<e?0:Wi(r);e<r;)t[e++]=n;return t}(t,n,e,r)):[]},pt.filter=function(t,n){return(xi(t)?Au:Gt)(t,Ue(n,3))},pt.flatMap=function(t,n){return Yt(ti(t,n),1)},pt.flatMapDeep=function(t,n){return Yt(ti(t,n),1/0)},pt.flatMapDepth=function(t,n,e){return e=e===Fo?1:Yi(e),Yt(ti(t,n),e)},pt.flatten=br,pt.flattenDeep=function(t){return(null==t?0:t.length)?Yt(t,1/0):[]},pt.flattenDepth=function(t,n){return(null==t?0:t.length)?Yt(t,n=n===Fo?1:Yi(n)):[]},pt.flip=function(t){return Te(t,512)},pt.flow=b,pt.flowRight=e,pt.fromPairs=function(t){for(var n=-1,e=null==t?0:t.length,r={};++n<e;){var i=t[n];r[i[0]]=i[1]}return r},pt.functions=function(t){return null==t?[]:Zt(t,co(t))},pt.functionsIn=function(t){return null==t?[]:Zt(t,lo(t))},pt.groupBy=Qr,pt.initial=function(t){return(null==t?0:t.length)?Ln(t,0,-1):[]},pt.intersection=Ar,pt.intersectionBy=Mr,pt.intersectionWith=Sr,pt.invert=oo,pt.invertBy=ao,pt.invokeMap=Kr,pt.iteratee=zo,pt.keyBy=Jr,pt.keys=co,pt.keysIn=lo,pt.map=ti,pt.mapKeys=function(t,r){var i={};return r=Ue(r,3),Vt(t,function(t,n,e){zt(i,r(t,n,e),t)}),i},pt.mapValues=function(t,r){var i={};return r=Ue(r,3),Vt(t,function(t,n,e){zt(i,n,r(t,n,e))}),i},pt.matches=function(t){return gn(It(t,1))},pt.matchesProperty=function(t,n){return yn(t,It(n,1))},pt.memoize=fi,pt.merge=so,pt.mergeWith=fo,pt.method=n,pt.methodOf=A,pt.mixin=Do,pt.negate=hi,pt.nthArg=function(n){return n=Yi(n),Mn(function(t){return mn(t,n)})},pt.omit=ho,pt.omitBy=function(t,n){return go(t,hi(Ue(n)))},pt.once=function(t){return oi(2,t)},pt.orderBy=function(t,n,e,r){return null==t?[]:wn(t,n=!xi(n)?null==n?[]:[n]:n,e=!xi(e=r?Fo:e)?null==e?[]:[e]:e)},pt.over=st,pt.overArgs=pi,pt.overEvery=j,pt.overSome=Q,pt.partial=di,pt.partialRight=gi,pt.partition=ni,pt.pick=po,pt.pickBy=go,pt.property=Io,pt.propertyOf=function(n){return function(t){return null==n?Fo:Qt(n,t)}},pt.pull=Tr,pt.pullAll=Er,pt.pullAllBy=function(t,n,e){return t&&t.length&&n&&n.length?xn(t,n,Ue(e,2)):t},pt.pullAllWith=function(t,n,e){return t&&t.length&&n&&n.length?xn(t,n,Fo,e):t},pt.pullAt=Nr,pt.range=J,pt.rangeRight=nt,pt.rearg=yi,pt.reject=function(t,n){return(xi(t)?Au:Gt)(t,hi(Ue(n,3)))},pt.remove=function(t,n){var e=[];if(!t||!t.length)return e;var r=-1,i=[],o=t.length;for(n=Ue(n,3);++r<o;){var a=t[r];n(a,r,t)&&(e.push(a),i.push(r))}return bn(t,i),e},pt.rest=function(t,n){if("function"!=typeof t)throw new m(qo);return Mn(t,n=n===Fo?n:Yi(n))},pt.reverse=Or,pt.sampleSize=function(t,n,e){return n=(e?Ze(t,n,e):n===Fo)?1:Yi(n),(xi(t)?St:Cn)(t,n)},pt.set=function(t,n,e){return null==t?t:Tn(t,n,e)},pt.setWith=function(t,n,e,r){return r="function"==typeof r?r:Fo,null==t?t:Tn(t,n,e,r)},pt.shuffle=function(t){return(xi(t)?Ct:On)(t)},pt.slice=function(t,n,e){var r=null==t?0:t.length;return r?(e=e&&"number"!=typeof e&&Ze(t,n,e)?(n=0,r):(n=null==n?0:Yi(n),e===Fo?r:Yi(e)),Ln(t,n,e)):[]},pt.sortBy=ei,pt.sortedUniq=function(t){return t&&t.length?In(t):[]},pt.sortedUniqBy=function(t,n){return t&&t.length?In(t,Ue(n,2)):[]},pt.split=function(t,n,e){return e&&"number"!=typeof e&&Ze(t,n,e)&&(n=e=Fo),(e=e===Fo?Vo:e>>>0)?(t=Xi(t))&&("string"==typeof n||null!=n&&!Ii(n))&&!(n=Rn(n))&&Qu(t)?Zn(rc(t),0,e):t.split(n,e):[]},pt.spread=function(e,r){if("function"!=typeof e)throw new m(qo);return r=null==r?0:Y(Yi(r),0),Mn(function(t){var n=t[r],t=Zn(t,0,r);return n&&Tu(t,n),wu(e,this,t)})},pt.tail=function(t){var n=null==t?0:t.length;return n?Ln(t,1,n):[]},pt.take=function(t,n,e){return t&&t.length?Ln(t,0,(n=e||n===Fo?1:Yi(n))<0?0:n):[]},pt.takeRight=function(t,n,e){var r=null==t?0:t.length;return r?Ln(t,(n=r-(n=e||n===Fo?1:Yi(n)))<0?0:n,r):[]},pt.takeRightWhile=function(t,n){return t&&t.length?qn(t,Ue(n,3),!1,!0):[]},pt.takeWhile=function(t,n){return t&&t.length?qn(t,Ue(n,3)):[]},pt.tap=function(t,n){return n(t),t},pt.throttle=function(t,n,e){var r=!0,i=!0;if("function"!=typeof t)throw new m(qo);return Oi(e)&&(r="leading"in e?!!e.leading:r,i="trailing"in e?!!e.trailing:i),ci(t,n,{leading:r,maxWait:n,trailing:i})},pt.thru=Gr,pt.toArray=Hi,pt.toPairs=yo,pt.toPairsIn=vo,pt.toPath=function(t){return xi(t)?Cu(t,dr):Ui(t)?[t]:ie(pr(Xi(t)))},pt.toPlainObject=Vi,pt.transform=function(t,r,i){var n,e=xi(t),o=e||Mi(t)||Bi(t);return r=Ue(r,4),null==i&&(n=t&&t.constructor,i=o?e?new n:[]:Oi(t)&&Ti(n)?dt(C(t)):{}),(o?xu:Vt)(t,function(t,n,e){return r(i,t,n,e)}),i},pt.unary=function(t){return ii(t,1)},pt.union=Lr,pt.unionBy=zr,pt.unionWith=Dr,pt.uniq=function(t){return t&&t.length?Un(t):[]},pt.uniqBy=function(t,n){return t&&t.length?Un(t,Ue(n,2)):[]},pt.uniqWith=function(t,n){return n="function"==typeof n?n:Fo,t&&t.length?Un(t,Fo,n):[]},pt.unset=function(t,n){return null==t||Bn(t,n)},pt.unzip=jr,pt.unzipWith=Ir,pt.update=function(t,n,e){return null==t?t:Fn(t,n,$n(e))},pt.updateWith=function(t,n,e,r){return r="function"==typeof r?r:Fo,null==t?t:Fn(t,n,$n(e),r)},pt.values=mo,pt.valuesIn=function(t){return null==t?[]:Gu(t,lo(t))},pt.without=Pr,pt.words=To,pt.wrap=function(t,n){return di($n(n),t)},pt.xor=Rr,pt.xorBy=Ur,pt.xorWith=Br,pt.zip=Fr,pt.zipObject=function(t,n){return Yn(t||[],n||[],Et)},pt.zipObjectDeep=function(t,n){return Yn(t||[],n||[],Tn)},pt.zipWith=qr,pt.entries=yo,pt.entriesIn=vo,pt.extend=Qi,pt.extendWith=Ki,Do(pt,pt),pt.add=a,pt.attempt=Eo,pt.camelCase=wo,pt.capitalize=_o,pt.ceil=P,pt.clamp=function(t,n,e){return e===Fo&&(e=n,n=Fo),e!==Fo&&(e=(e=$i(e))==e?e:0),n!==Fo&&(n=(n=$i(n))==n?n:0),jt($i(t),n,e)},pt.clone=function(t){return It(t,4)},pt.cloneDeep=function(t){return It(t,5)},pt.cloneDeepWith=function(t,n){return It(t,5,n="function"==typeof n?n:Fo)},pt.cloneWith=function(t,n){return It(t,4,n="function"==typeof n?n:Fo)},pt.conformsTo=function(t,n){return null==n||Pt(t,n,co(n))},pt.deburr=xo,pt.defaultTo=function(t,n){return null==t||t!=t?n:t},pt.divide=Nn,pt.endsWith=function(t,n,e){t=Xi(t),n=Rn(n);var r=t.length,r=e=e===Fo?r:jt(Yi(e),0,r);return 0<=(e-=n.length)&&t.slice(e,r)==n},pt.eq=vi,pt.escape=function(t){return(t=Xi(t))&&Ea.test(t)?t.replace(Ca,Xu):t},pt.escapeRegExp=function(t){return(t=Xi(t))&&Pa.test(t)?t.replace(Ia,"\\$&"):t},pt.every=function(t,n,e){return(xi(t)?ku:qt)(t,Ue(n=e&&Ze(t,n,e)?Fo:n,3))},pt.find=$r,pt.findIndex=_r,pt.findKey=function(t,n){return Lu(t,Ue(n,3),Vt)},pt.findLast=Vr,pt.findLastIndex=xr,pt.findLastKey=function(t,n){return Lu(t,Ue(n,3),Xt)},pt.floor=Uo,pt.forEach=Xr,pt.forEachRight=Zr,pt.forIn=function(t,n){return null==t?t:Wt(t,Ue(n,3),lo)},pt.forInRight=function(t,n){return null==t?t:$t(t,Ue(n,3),lo)},pt.forOwn=function(t,n){return t&&Vt(t,Ue(n,3))},pt.forOwnRight=function(t,n){return t&&Xt(t,Ue(n,3))},pt.get=ro,pt.gt=mi,pt.gte=wi,pt.has=function(t,n){return null!=t&&We(t,n,nn)},pt.hasIn=io,pt.head=kr,pt.identity=Lo,pt.includes=function(t,n,e,r){return t=ki(t)?t:mo(t),e=e&&!r?Yi(e):0,r=t.length,e<0&&(e=Y(r+e,0)),Ri(t)?e<=r&&-1<t.indexOf(n,e):!!r&&-1<Du(t,n,e)},pt.indexOf=function(t,n,e){var r=null==t?0:t.length;return r?(e=null==e?0:Yi(e),Du(t,n,e=e<0?Y(r+e,0):e)):-1},pt.inRange=function(t,n,e){return n=Gi(n),e===Fo?(e=n,n=0):e=Gi(e),(t=t=$i(t))>=W(n=n,e=e)&&t<Y(n,e)},pt.invoke=uo,pt.isArguments=_i,pt.isArray=xi,pt.isArrayBuffer=bi,pt.isArrayLike=ki,pt.isArrayLikeObject=Ai,pt.isBoolean=function(t){return!0===t||!1===t||Li(t)&&Jt(t)==Ko},pt.isBuffer=Mi,pt.isDate=Si,pt.isElement=function(t){return Li(t)&&1===t.nodeType&&!ji(t)},pt.isEmpty=function(t){if(null==t)return!0;if(ki(t)&&(xi(t)||"string"==typeof t||"function"==typeof t.splice||Mi(t)||Bi(t)||_i(t)))return!t.length;var n,e=Ye(t);if(e==ra||e==ca)return!t.size;if(tr(t))return!fn(t).length;for(n in t)if(w.call(t,n))return!1;return!0},pt.isEqual=function(t,n){return un(t,n)},pt.isEqualWith=function(t,n,e){var r=(e="function"==typeof e?e:Fo)?e(t,n):Fo;return r===Fo?un(t,n,Fo,e):!!r},pt.isError=Ci,pt.isFinite=function(t){return"number"==typeof t&&q(t)},pt.isFunction=Ti,pt.isInteger=Ei,pt.isLength=Ni,pt.isMap=zi,pt.isMatch=function(t,n){return t===n||cn(t,n,Fe(n))},pt.isMatchWith=function(t,n,e){return e="function"==typeof e?e:Fo,cn(t,n,Fe(n),e)},pt.isNaN=function(t){return Di(t)&&t!=+t},pt.isNative=function(t){if(Je(t))throw new f("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return ln(t)},pt.isNil=function(t){return null==t},pt.isNull=function(t){return null===t},pt.isNumber=Di,pt.isObject=Oi,pt.isObjectLike=Li,pt.isPlainObject=ji,pt.isRegExp=Ii,pt.isSafeInteger=function(t){return Ei(t)&&-Wo<=t&&t<=Wo},pt.isSet=Pi,pt.isString=Ri,pt.isSymbol=Ui,pt.isTypedArray=Bi,pt.isUndefined=function(t){return t===Fo},pt.isWeakMap=function(t){return Li(t)&&Ye(t)==fa},pt.isWeakSet=function(t){return Li(t)&&"[object WeakSet]"==Jt(t)},pt.join=function(t,n){return null==t?"":H.call(t,n)},pt.kebabCase=bo,pt.last=Cr,pt.lastIndexOf=function(t,n,e){var r=null==t?0:t.length;if(!r)return-1;var i=r;return e!==Fo&&(i=(i=Yi(e))<0?Y(r+i,0):W(i,r-1)),n==n?function(t,n,e){for(var r=e+1;r--;)if(t[r]===n)return r;return r}(t,n,i):zu(t,Iu,i,!0)},pt.lowerCase=ko,pt.lowerFirst=Ao,pt.lt=Fi,pt.lte=qi,pt.max=function(t){return t&&t.length?Ht(t,Lo,tn):Fo},pt.maxBy=function(t,n){return t&&t.length?Ht(t,Ue(n,2),tn):Fo},pt.mean=function(t){return Pu(t,Lo)},pt.meanBy=function(t,n){return Pu(t,Ue(n,2))},pt.min=function(t){return t&&t.length?Ht(t,Lo,pn):Fo},pt.minBy=function(t,n){return t&&t.length?Ht(t,Ue(n,2),pn):Fo},pt.stubArray=Po,pt.stubFalse=Ro,pt.stubObject=function(){return{}},pt.stubString=function(){return""},pt.stubTrue=function(){return!0},pt.multiply=I,pt.nth=function(t,n){return t&&t.length?mn(t,Yi(n)):Fo},pt.noConflict=function(){return fu._===this&&(fu._=_),this},pt.noop=jo,pt.now=ri,pt.pad=function(t,n,e){t=Xi(t);var r=(n=Yi(n))?ec(t):0;return!n||n<=r?t:_e(U(r=(n-r)/2),e)+t+_e(R(r),e)},pt.padEnd=function(t,n,e){t=Xi(t);var r=(n=Yi(n))?ec(t):0;return n&&r<n?t+_e(n-r,e):t},pt.padStart=function(t,n,e){t=Xi(t);var r=(n=Yi(n))?ec(t):0;return n&&r<n?_e(n-r,e)+t:t},pt.parseInt=function(t,n,e){return n=e||null==n?0:n&&+n,V(Xi(t).replace(Ra,""),n||0)},pt.random=function(t,n,e){var r;if(e&&"boolean"!=typeof e&&Ze(t,n,e)&&(n=e=Fo),e===Fo&&("boolean"==typeof n?(e=n,n=Fo):"boolean"==typeof t&&(e=t,t=Fo)),t===Fo&&n===Fo?(t=0,n=1):(t=Gi(t),n===Fo?(n=t,t=0):n=Gi(n)),n<t&&(r=t,t=n,n=r),e||t%1||n%1){e=X();return W(t+e*(n-t+lu("1e-"+((e+"").length-1))),n)}return kn(t,n)},pt.reduce=function(t,n,e){var r=xi(t)?Eu:Uu,i=arguments.length<3;return r(t,Ue(n,4),e,i,Bt)},pt.reduceRight=function(t,n,e){var r=xi(t)?Nu:Uu,i=arguments.length<3;return r(t,Ue(n,4),e,i,Ft)},pt.repeat=function(t,n,e){return n=(e?Ze(t,n,e):n===Fo)?1:Yi(n),An(Xi(t),n)},pt.replace=function(){var t=arguments,n=Xi(t[0]);return t.length<3?n:n.replace(t[1],t[2])},pt.result=function(t,n,e){var r=-1,i=(n=Vn(n,t)).length;for(i||(i=1,t=Fo);++r<i;){var o=null==t?Fo:t[dr(n[r])];o===Fo&&(r=i,o=e),t=Ti(o)?o.call(t):o}return t},pt.round=Xn,pt.runInContext=t,pt.sample=function(t){return(xi(t)?Mt:Sn)(t)},pt.size=function(t){if(null==t)return 0;if(ki(t))return Ri(t)?ec(t):t.length;var n=Ye(t);return n==ra||n==ca?t.size:fn(t).length},pt.snakeCase=Mo,pt.some=function(t,n,e){return(xi(t)?Ou:zn)(t,Ue(n=e&&Ze(t,n,e)?Fo:n,3))},pt.sortedIndex=function(t,n){return Dn(t,n)},pt.sortedIndexBy=function(t,n,e){return jn(t,n,Ue(e,2))},pt.sortedIndexOf=function(t,n){var e=null==t?0:t.length;if(e){var r=Dn(t,n);if(r<e&&vi(t[r],n))return r}return-1},pt.sortedLastIndex=function(t,n){return Dn(t,n,!0)},pt.sortedLastIndexBy=function(t,n,e){return jn(t,n,Ue(e,2),!0)},pt.sortedLastIndexOf=function(t,n){if(null==t?0:t.length){var e=Dn(t,n,!0)-1;if(vi(t[e],n))return e}return-1},pt.startCase=So,pt.startsWith=function(t,n,e){return t=Xi(t),e=null==e?0:jt(Yi(e),0,t.length),n=Rn(n),t.slice(e,e+n.length)==n},pt.subtract=F,pt.sum=function(t){return t&&t.length?Bu(t,Lo):0},pt.sumBy=function(t,n){return t&&t.length?Bu(t,Ue(n,2)):0},pt.template=function(a,t,n){var e=pt.templateSettings;n&&Ze(a,t,n)&&(t=Fo),a=Xi(a),t=Ki({},t,e,Ee);var u,c,r=co(e=Ki({},t.imports,e.imports,Ee)),i=Gu(e,r),l=0,e=t.interpolate||Ja,s="__p += '",e=p((t.escape||Ja).source+"|"+e.source+"|"+(e===La?Ya:Ja).source+"|"+(t.evaluate||Ja).source+"|$","g"),o="//# sourceURL="+(w.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++au+"]")+"\n";if(a.replace(e,function(t,n,e,r,i,o){return e=e||r,s+=a.slice(l,o).replace(tu,Zu),n&&(u=!0,s+="' +\n__e("+n+") +\n'"),i&&(c=!0,s+="';\n"+i+";\n__p += '"),e&&(s+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),l=o+t.length,t}),s+="';\n",t=w.call(t,"variable")&&t.variable){if(Ha.test(t))throw new f("Invalid `variable` option passed into `_.template`")}else s="with (obj) {\n"+s+"\n}\n";if(s=(c?s.replace(ka,""):s).replace(Aa,"$1").replace(Ma,"$1;"),s="function("+(t||"obj")+") {\n"+(t?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(u?", __e = _.escape":"")+(c?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+s+"return __p\n}",(t=Eo(function(){return h(r,o+"return "+s).apply(Fo,i)})).source=s,Ci(t))throw t;return t},pt.times=function(t,n){if((t=Yi(t))<1||Wo<t)return[];var e=Vo,r=W(t,Vo);for(n=Ue(n),t-=Vo,r=Fu(r,n);++e<t;)n(e);return r},pt.toFinite=Gi,pt.toInteger=Yi,pt.toLength=Wi,pt.toLower=function(t){return Xi(t).toLowerCase()},pt.toNumber=$i,pt.toSafeInteger=function(t){return t?jt(Yi(t),-Wo,Wo):0===t?t:0},pt.toString=Xi,pt.toUpper=function(t){return Xi(t).toUpperCase()},pt.trim=function(t,n,e){return(t=Xi(t))&&(e||n===Fo)?qu(t):t&&(n=Rn(n))?(t=rc(t),n=rc(n),Zn(t,Wu(t,n),$u(t,n)+1).join("")):t},pt.trimEnd=function(t,n,e){return(t=Xi(t))&&(e||n===Fo)?t.slice(0,ic(t)+1):t&&(n=Rn(n))?Zn(t=rc(t),0,$u(t,rc(n))+1).join(""):t},pt.trimStart=function(t,n,e){return(t=Xi(t))&&(e||n===Fo)?t.replace(Ra,""):t&&(n=Rn(n))?Zn(t=rc(t),Wu(t,rc(n))).join(""):t},pt.truncate=function(t,n){var e,r=30,i="...";Oi(n)&&(e="separator"in n?n.separator:e,r="length"in n?Yi(n.length):r,i="omission"in n?Rn(n.omission):i);var o,n=(t=Xi(t)).length;if((n=Qu(t)?(o=rc(t)).length:n)<=r)return t;if((n=r-ec(i))<1)return i;if(r=o?Zn(o,0,n).join(""):t.slice(0,n),e===Fo)return r+i;if(o&&(n+=r.length-n),Ii(e)){if(t.slice(n).search(e)){var a,u=r;for((e=!e.global?p(e.source,Xi(Wa.exec(e))+"g"):e).lastIndex=0;a=e.exec(u);)var c=a.index;r=r.slice(0,c===Fo?n:c)}}else t.indexOf(Rn(e),n)==n||-1<(n=r.lastIndexOf(e))&&(r=r.slice(0,n));return r+i},pt.unescape=function(t){return(t=Xi(t))&&Ta.test(t)?t.replace(Sa,oc):t},pt.uniqueId=function(t){var n=++c;return Xi(t)+n},pt.upperCase=r,pt.upperFirst=Co,pt.each=Xr,pt.eachRight=Zr,pt.first=kr,Do(pt,(Bo={},Vt(pt,function(t,n){w.call(pt.prototype,n)||(Bo[n]=t)}),Bo),{chain:!1}),pt.VERSION="4.17.21",xu(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){pt[t].placeholder=pt}),xu(["drop","take"],function(e,r){mt.prototype[e]=function(t){t=t===Fo?1:Y(Yi(t),0);var n=this.__filtered__&&!r?new mt(this):this.clone();return n.__filtered__?n.__takeCount__=W(t,n.__takeCount__):n.__views__.push({size:W(t,Vo),type:e+(n.__dir__<0?"Right":"")}),n},mt.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),xu(["filter","map","takeWhile"],function(t,n){var e=n+1,r=1==e||3==e;mt.prototype[t]=function(t){var n=this.clone();return n.__iteratees__.push({iteratee:Ue(t,3),type:e}),n.__filtered__=n.__filtered__||r,n}}),xu(["head","last"],function(t,n){var e="take"+(n?"Right":"");mt.prototype[t]=function(){return this[e](1).value()[0]}}),xu(["initial","tail"],function(t,n){var e="drop"+(n?"":"Right");mt.prototype[t]=function(){return this.__filtered__?new mt(this):this[e](1)}}),mt.prototype.compact=function(){return this.filter(Lo)},mt.prototype.find=function(t){return this.filter(t).head()},mt.prototype.findLast=function(t){return this.reverse().find(t)},mt.prototype.invokeMap=Mn(function(n,e){return"function"==typeof n?new mt(this):this.map(function(t){return on(t,n,e)})}),mt.prototype.reject=function(t){return this.filter(hi(Ue(t)))},mt.prototype.slice=function(t,n){t=Yi(t);var e=this;return e.__filtered__&&(0<t||n<0)?new mt(e):(t<0?e=e.takeRight(-t):t&&(e=e.drop(t)),n!==Fo?(n=Yi(n))<0?e.dropRight(-n):e.take(n-t):e)},mt.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},mt.prototype.toArray=function(){return this.take(Vo)},Vt(mt.prototype,function(l,t){var s=/^(?:filter|find|map|reject)|While$/.test(t),f=/^(?:head|last)$/.test(t),h=pt[f?"take"+("last"==t?"Right":""):t],p=f||/^find/.test(t);h&&(pt.prototype[t]=function(){function t(t){return t=h.apply(pt,Tu([t],e)),f&&a?t[0]:t}var n=this.__wrapped__,e=f?[1]:arguments,r=n instanceof mt,i=e[0],o=r||xi(n);o&&s&&"function"==typeof i&&1!=i.length&&(r=o=!1);var a=this.__chain__,u=!!this.__actions__.length,i=p&&!a,u=r&&!u;if(p||!o)return i&&u?l.apply(this,e):(c=this.thru(t),i?f?c.value()[0]:c.value():c);var n=u?n:new mt(this),c=l.apply(n,e);return c.__actions__.push({func:Gr,args:[t],thisArg:Fo}),new vt(c,a)})}),xu(["pop","push","shift","sort","splice","unshift"],function(t){var e=o[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);pt.prototype[t]=function(){var n=arguments;if(!i||this.__chain__)return this[r](function(t){return e.apply(xi(t)?t:[],n)});var t=this.value();return e.apply(xi(t)?t:[],n)}}),Vt(mt.prototype,function(t,n){var e,r=pt[n];r&&(e=r.name+"",w.call(it,e)||(it[e]=[]),it[e].push({name:n,func:r}))}),it[ye(Fo,2).name]=[{name:"wrapper",func:Fo}],mt.prototype.clone=function(){var t=new mt(this.__wrapped__);return t.__actions__=ie(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=ie(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=ie(this.__views__),t},mt.prototype.reverse=function(){var t;return this.__filtered__?((t=new mt(this)).__dir__=-1,t.__filtered__=!0):(t=this.clone()).__dir__*=-1,t},mt.prototype.value=function(){var t=this.__wrapped__.value(),n=this.__dir__,e=xi(t),r=n<0,i=e?t.length:0,o=function(t,n,e){var r=-1,i=e.length;for(;++r<i;){var o=e[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":n-=a;break;case"take":n=W(n,t+a);break;case"takeRight":t=Y(t,n-a)}}return{start:t,end:n}}(0,i,this.__views__),a=o.start,u=(o=o.end)-a,c=r?o:a-1,l=this.__iteratees__,s=l.length,f=0,h=W(u,this.__takeCount__);if(!e||!r&&i==u&&h==u)return Hn(t,this.__actions__);var p=[];t:for(;u--&&f<h;){for(var d=-1,g=t[c+=n];++d<s;){var y=l[d],v=y.iteratee,y=y.type,v=v(g);if(2==y)g=v;else if(!v){if(1==y)continue t;break t}}p[f++]=g}return p},pt.prototype.at=Yr,pt.prototype.chain=function(){return Hr(this)},pt.prototype.commit=function(){return new vt(this.value(),this.__chain__)},pt.prototype.next=function(){this.__values__===Fo&&(this.__values__=Hi(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?Fo:this.__values__[this.__index__++]}},pt.prototype.plant=function(t){for(var n,e=this;e instanceof yt;){var r=yr(e);r.__index__=0,r.__values__=Fo,n?i.__wrapped__=r:n=r;var i=r,e=e.__wrapped__}return i.__wrapped__=t,n},pt.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof mt){t=t;return(t=(t=this.__actions__.length?new mt(this):t).reverse()).__actions__.push({func:Gr,args:[Or],thisArg:Fo}),new vt(t,this.__chain__)}return this.thru(Or)},pt.prototype.toJSON=pt.prototype.valueOf=pt.prototype.value=function(){return Hn(this.__wrapped__,this.__actions__)},pt.prototype.first=pt.prototype.head,L&&(pt.prototype[L]=function(){return this}),pt}();fu._=ac,(L=function(){return ac}.call(N,O,N,E))===Fo||(E.exports=L)}.call(this)},379:t=>{"use strict";var l=[];function s(t){for(var n=-1,e=0;e<l.length;e++)if(l[e].identifier===t){n=e;break}return n}function u(t,n){for(var e={},r=[],i=0;i<t.length;i++){var o=t[i],a=n.base?o[0]+n.base:o[0],u=e[a]||0,c="".concat(a," ").concat(u);e[a]=u+1;var u=s(c),o={css:o[1],media:o[2],sourceMap:o[3],supports:o[4],layer:o[5]};-1!==u?(l[u].references++,l[u].updater(o)):(o=function(n,t){var e=t.domAPI(t);return e.update(n),function(t){t?t.css===n.css&&t.media===n.media&&t.sourceMap===n.sourceMap&&t.supports===n.supports&&t.layer===n.layer||e.update(n=t):e.remove()}}(o,n),n.byIndex=i,l.splice(i,0,{identifier:c,updater:o,references:1})),r.push(c)}return r}t.exports=function(t,o){var a=u(t=t||[],o=o||{});return function(t){t=t||[];for(var n=0;n<a.length;n++){var e=s(a[n]);l[e].references--}for(var t=u(t,o),r=0;r<a.length;r++){var i=s(a[r]);0===l[i].references&&(l[i].updater(),l.splice(i,1))}a=t}}},569:t=>{"use strict";var e={};t.exports=function(t,n){if(!(t=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t)))throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(n)}},216:t=>{"use strict";t.exports=function(t){var n=document.createElement("style");return t.setAttributes(n,t.attributes),t.insert(n,t.options),n}},565:(t,n,e)=>{"use strict";t.exports=function(t){var n=e.nc;n&&t.setAttribute("nonce",n)}},795:t=>{"use strict";t.exports=function(n){var e=n.insertStyleElement(n);return{update:function(t){!function(t,n,e){var r="";e.supports&&(r+="@supports (".concat(e.supports,") {")),e.media&&(r+="@media ".concat(e.media," {"));var i=void 0!==e.layer;i&&(r+="@layer".concat(0<e.layer.length?" ".concat(e.layer):""," {")),r+=e.css,i&&(r+="}"),e.media&&(r+="}"),e.supports&&(r+="}"),(e=e.sourceMap)&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(e))))," */")),n.styleTagTransform(r,t,n.options)}(e,n,t)},remove:function(){var t;null!==(t=e).parentNode&&t.parentNode.removeChild(t)}}}},589:t=>{"use strict";t.exports=function(t,n){if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}}},r={};function Bu(t){var n=r[t];if(void 0!==n)return n.exports;n=r[t]={id:t,loaded:!1,exports:{}};return e[t].call(n.exports,n,n.exports,Bu),n.loaded=!0,n.exports}Bu.n=t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return Bu.d(n,{a:n}),n},Bu.d=(t,n)=>{for(var e in n)Bu.o(n,e)&&!Bu.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},Bu.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),Bu.o=(t,n)=>Object.prototype.hasOwnProperty.call(t,n),Bu.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},Bu.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);(()=>{"use strict";var t={};Bu.r(t),Bu.d(t,{bar:()=>ma,circle:()=>fa,config:()=>xa,ellipse:()=>sa,heart:()=>pa,heatmap:()=>ca,image:()=>wa,label:()=>aa,legendDataConfig:()=>_a,pie:()=>va,polygon:()=>ha,rect:()=>ga,rectangle:()=>da,symbol:()=>ua,symbolTypeObj:()=>oa,text:()=>ya,thermograph:()=>la});Bu(229);function n(n,t){var e,r=Object.keys(n);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(n),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,e)),r}function o(r){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach(function(t){var n,e;n=r,t=i[e=t],e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(i,t))})}return r}function y(t){Tree.call(this,t)}function f(t,n){this.message=t,void 0!==n&&(this.message+='<br><br>Error context:<br> "... '+n.left+"<span class='cursor'>"+n.at+"</span>"+n.right+' ... "')}function v(t){this.message=t}function h(t){var n=this.doLex(t);y.call(this,this.doParse(n,t)),0===this.root.length&&(this.root.length=void 0)}function a(a){var u=0;function c(t,n,e){for(var r=0;r<e.length;r++){var i=e[r].tagName,o=e[r].textContent;t.annotation[n+"_"+i]=o}}for(var t=0;t<a.children.length;t++){var n=a.children[t];if("clade"===n.tagName){y.call(this,function t(n,e){var r=new Node(u++);void 0!==n&&n.addChild(r);for(var i=0;i<e.children.length;i++){var o=e.children[i];switch(o.tagName){case"clade":t(r,o);break;case"name":r.name=o.textContent;break;case"taxonomy":c(r,"taxonomy",o.children);break;case"sequence":c(r,"sequence",o.children);break;case"confidence":r.annotation["confidence_"+o.getAttribute("type")]=o.textContent;break;case"branch_length":r.length=Number(o.textContent);break;case"property":r.annotation[o.getAttribute("ref")]=o.textContent}}if(a.hasAttribute("rooted")&&"false"===a.getAttribute("rooted").toLowerCase())throw new v("Unrooted tree.");return e.hasAttribute("branch_length")&&(r.length=Number(e.getAttribute("branch_length"))),r}(void 0,n));break}}0===this.root.length&&(this.root.length=void 0)}(y.prototype=Object.create(Tree.prototype)).constructor=y,((h.prototype=Object.create(y.prototype)).constructor=h).prototype.tokens=[["OPENP",/^\(/,!1],["CLOSEP",/^\)/,!1],["COLON",/^:/,!1],["COMMA",/^,/,!1],["SEMI",/^;/,!1],["OPENA",/^\[&/,!1],["CLOSEA",/^\]/,!1],["OPENV",/^{/,!1],["CLOSEV",/^}/,!1],["EQ",/^=/,!1],["HASH",/#/,!1],["STRING",/^"(?:[^"]|"")+"/,!0],["STRING",/^'(?:[^']|'')+'/,!0],["STRING",/^[^,():;[\]#]+(?:\([^)]*\))?/,!0,0],["STRING",/^[^,[\]{}=]+/,!0,1]],h.prototype.doLex=function(t){for(var n=[],e=0,r=0;e<t.length;){var i=t.slice(e).match(/^\s/);if(null===i||0!==i.index){for(var o=!1,a=0;a<this.tokens.length;a++)if(!(3<this.tokens[a].length&&this.tokens[a][3]!==r)){var u=t.slice(e).match(this.tokens[a][1]);if(null!==u&&0===u.index){var c=u[0];switch(this.tokens[a][2]&&"STRING"===this.tokens[a][0]&&(c=(c=c.replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")).replace("''","'").replace('""','"')),n.push([this.tokens[a][0],c,e]),this.tokens[a][0]){case"OPENA":r=1;break;case"CLOSEA":r=0}o=!0,e+=u[0].length;break}}if(!o)throw new f("Error reading character "+t[e]+" at position "+e)}else e+=i[0].length}return n},h.prototype.doParse=function(i,o){var e=0,a=0;return function(){var t=u(void 0);if(!r("SEMI",!1)&&r("COMMA",!1))throw new f("Tree/network with multiple roots found.");return t}();function r(t,n){if(a<i.length&&i[a][0]===t)return a+=1,1;if(n)throw a<i.length?new f("Expected token <b>"+t+"</b> but found <b>"+i[a][0]+"</b> ("+i[a][1]+") at string position <b>"+i[a][2]+"</b>.",(e=15,r=i[a][2],n=o.length-r>=e?r+e:o.length,{left:o.slice(e<=r?r-e:0,r),at:o[r],right:o.slice(r+1,n)})):new f("Newick string terminated early. Expected token "+t+".");var e,r}function u(t){var n=new Node(e++);return void 0!==t&&t.addChild(n),t=n,r("OPENP",!1)&&(u(t),function t(n){r("COMMA",!1)&&(u(n),t(n))}(t),r("CLOSEP",!0)),t=n,r("STRING",!1)&&(t.name=i[a-1][1]),t=n,r("HASH",!1)&&(r("STRING",!0),t.hybridID=i[a-1][1]),c(n),function(t){if(r("COLON",!1)){r("STRING",!0);var n=Number(i[a-1][1]);if("NaN"===String(n))throw new f("Expected numerical branch length. Found "+i[a-1][1]+" instead.");t.length=n,function t(){r("COLON",!1)&&(r("STRING",!1),t())}(),c(t)}}(n),n}function c(t){r("OPENA",!1)&&(l(t),function t(n){r("COMMA",!1)&&(l(n),t(n))}(t),r("CLOSEA",!0))}function l(t){r("STRING",!0);var n=i[a-1][1];r("EQ",!0);var e=s();t.annotation[n]=e}function s(){return r("STRING",!1)?value=i[a-1][1]:r("OPENV",!1)?(value=[s()].concat(function t(){return r("COMMA",!1)?[s()].concat(t()):[]}()),r("CLOSEV",!0)):value=null,value}},(a.prototype=Object.create(y.prototype)).constructor=a;var m="http://www.nexml.org/2009";function u(t){for(var n,e,r,i,o=0,a=t.getElementsByTagNameNS(m,"node"),u=t.getElementsByTagNameNS(m,"edge"),c={},l=0;l<a.length;l++){var s=a[l],f=new Node(o++);for(f.name=s.getAttribute("label"),c[s.getAttribute("id")]=f,"true"===s.getAttribute("root")&&(n=f),e=s.getElementsByTagNameNS(m,"meta"),i=0;i<e.length;i++)(r=e[i]).hasAttribute("property")&&r.hasAttribute("content")&&(f.annotation[r.getAttribute("property")]=r.getAttribute("content"))}if(void 0===n)throw new v("Unrooted tree.");for(var h=0;h<u.length;h++){var p=u[h],d=c[p.getAttribute("source")],g=c[p.getAttribute("target")];for(d.addChild(g),p.hasAttribute("length")&&(g.length=+p.getAttribute("length")),e=p.getElementsByTagNameNS(m,"meta"),i=0;i<e.length;i++)(r=e[i]).hasAttribute("property")&&r.hasAttribute("content")&&(f.annotation[r.getAttribute("property")]=r.getAttribute("content"))}y.call(this,n);t=t.getElementsByTagNameNS(m,"rootedge");return 0<t.length&&(this.root.length=+t[0].getAttribute("length")),this}function J(t,n){return null==t||null==n?NaN:t<n?-1:n<t?1:n<=t?0:NaN}function tt(t,n){return null==t||null==n?NaN:n<t?-1:t<n?1:t<=n?0:NaN}function nt(n,e){let r;if(void 0===e)for(const t of n)null!=t&&(r<t||void 0===r&&t>=t)&&(r=t);else{let t=-1;for(var i of n)null!=(i=e(i,++t,n))&&(r<i||void 0===r&&i>=i)&&(r=i)}return r}function e(){}function p(t){return null==t?e:function(){return this.querySelector(t)}}function d(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function r(){return[]}function w(t){return null==t?r:function(){return this.querySelectorAll(t)}}function s(t){return function(){return this.matches(t)}}function i(n){return function(t){return t.matches(n)}}(u.prototype=Object.create(y.prototype)).constructor=u,window.getTreesFromString=function(t){var n=null,e="";if("#nexus"===t.substring(0,6).toLowerCase())console.log("Parsing file as NEXUS."),e="nexus",n=function(t){for(var n=[],e=t.split("\n"),r=!1,i="",o={},a=1;a<e.length;a++)if(";"===(i+=e[a].trim())[i.length-1])if(i=i.replace(/\[[^&][^\]]*\]/g,"").trim(),r){if("end;"===i.toLowerCase())break;if(i.toLowerCase().match("^translate")){for(var u=i.slice(9,i.length-1).split(","),c=0;c<u.length;c++){var l=u[c].trim().split(/\s+/),s=l[0],l=(l=l.slice(1).join(" ")).replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1");o[s]=l}i=""}else{var f=i.toLowerCase().match(/tree (\w|\.)+ *(\[&[^\]]*] *)* *= *(\[&[^\]]*] *)* */);null!==f&&(f=f[0].length,n.push(new h(i.slice(f))),n[n.length-1].translate(o)),i=""}}else"begin trees;"===i.toLowerCase()&&(r=!0),i="";return n}(t);else{var r=(new DOMParser).parseFromString(t,"text/xml");console.log("Attempting to parse as XML.");var i=0<r.getElementsByTagName("parsererror").length;if(i)console.log("Parsing as plain/extended Newick."),e="newick",n=function(t){for(var n=[],e=t.split(/;\s*\n/),r=0;r<e.length;r++){var i=e[r].trim();if(0!==i.length)try{n.push(new h(i))}catch(t){if(!(t instanceof v))throw t;console.log("Skipping Newick tree: "+t.message)}}return n}(t);else switch(r.documentElement.tagName){case"phyloxml":console.log("Parsing file as PhyloXML."),e="phyloxml",n=function(t){for(var n=[],e=t.getElementsByTagName("phylogeny"),r=0;r<e.length;r++)try{n.push(new a(e[r]))}catch(t){if(!(t instanceof v))throw t;console.log("Skipping PhyloXML tree: "+t.message)}return n}(r);break;case"nexml":case"nex:nexml":console.log("Parsing file as NeXML."),e="nexml",n=function(t){var n=[];if(0===(t=t.getElementsByTagNameNS(m,"trees")).length)return[];for(var e=t[0].getElementsByTagNameNS(m,"tree"),r=0;r<e.length;r++)try{n.push(new u(e[r]))}catch(t){if(!(t instanceof v))throw t;console.log("Skipping NeXML tree: "+t.message)}return n}(r);break;default:throw new f("Unrecognized XML format.")}}if(0===n.length)throw new f("No trees found in file");return o({fileType:e},n[0])};var c=Array.prototype.find;function l(){return this.firstElementChild}var g=Array.prototype.filter;function _(){return Array.from(this.children)}function x(t){return new Array(t.length)}function b(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function k(t,n,e,r,i,o){for(var a,u=0,c=n.length,l=o.length;u<l;++u)(a=n[u])?(a.__data__=o[u],r[u]=a):e[u]=new b(t,o[u]);for(;u<c;++u)(a=n[u])&&(i[u]=a)}function A(t,n,e,r,i,o,a){for(var u,c,l=new Map,s=n.length,f=o.length,h=new Array(s),p=0;p<s;++p)(u=n[p])&&(h[p]=c=a.call(u,u.__data__,p,n)+"",l.has(c)?i[p]=u:l.set(c,u));for(p=0;p<f;++p)c=a.call(t,o[p],p,o)+"",(u=l.get(c))?((r[p]=u).__data__=o[p],l.delete(c)):e[p]=new b(t,o[p]);for(p=0;p<s;++p)(u=n[p])&&l.get(h[p])===u&&(i[p]=u)}function M(t){return t.__data__}function S(t,n){return t<n?-1:n<t?1:n<=t?0:NaN}b.prototype={constructor:b,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var C="http://www.w3.org/1999/xhtml";const T={svg:"http://www.w3.org/2000/svg",xhtml:C,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function E(t){var n=t+="",e=n.indexOf(":");return 0<=e&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),T.hasOwnProperty(n)?{space:T[n],local:t}:t}function N(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function O(t,n){return t.style.getPropertyValue(n)||N(t).getComputedStyle(t,null).getPropertyValue(n)}function L(t){return t.trim().split(/^|\s+/)}function z(t){return t.classList||new D(t)}function D(t){this._node=t,this._names=L(t.getAttribute("class")||"")}function j(t,n){for(var e=z(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function I(t,n){for(var e=z(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function P(){this.textContent=""}function R(){this.innerHTML=""}function U(){this.nextSibling&&this.parentNode.appendChild(this)}function B(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function F(t){t=E(t);return(t.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===C&&t.documentElement.namespaceURI===C?t.createElement(e):t.createElementNS(n,e)}})(t)}function q(){return null}function H(){var t=this.parentNode;t&&t.removeChild(this)}function G(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Y(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function W(o){return function(){var t=this.__on;if(t){for(var n,e=0,r=-1,i=t.length;e<i;++e)n=t[e],o.type&&n.type!==o.type||n.name!==o.name?t[++r]=n:this.removeEventListener(n.type,n.listener,n.options);++r?t.length=r:delete this.__on}}}function $(a,u,c){return function(){var t,n,e=this.__on,r=(n=u,function(t){n.call(this,t,this.__data__)});if(e)for(var i=0,o=e.length;i<o;++i)if((t=e[i]).type===a.type&&t.name===a.name)return this.removeEventListener(t.type,t.listener,t.options),this.addEventListener(t.type,t.listener=r,t.options=c),void(t.value=u);this.addEventListener(a.type,r,c),t={type:a.type,name:a.name,value:u,listener:r,options:c},e?e.push(t):this.__on=[t]}}function V(t,n,e){var r=N(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}D.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){t=this._names.indexOf(t);0<=t&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var X=[null];function Z(t,n){this._groups=t,this._parents=n}function Q(){return new Z([[document.documentElement]],X)}Z.prototype=Q.prototype={constructor:Z,select:function(t){"function"!=typeof t&&(t=p(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a,u=n[i],c=u.length,l=r[i]=new Array(c),s=0;s<c;++s)(o=u[s])&&(a=t.call(o,o.__data__,s,u))&&("__data__"in o&&(a.__data__=o.__data__),l[s]=a);return new Z(r,this._parents)},selectAll:function(t){var n;t="function"==typeof t?(n=t,function(){return d(n.apply(this,arguments))}):w(t);for(var e=this._groups,r=e.length,i=[],o=[],a=0;a<r;++a)for(var u,c=e[a],l=c.length,s=0;s<l;++s)(u=c[s])&&(i.push(t.call(u,u.__data__,s,c)),o.push(u));return new Z(i,o)},selectChild:function(t){return this.select(null==t?l:(n="function"==typeof t?t:i(t),function(){return c.call(this.children,n)}));var n},selectChildren:function(t){return this.selectAll(null==t?_:(n="function"==typeof t?t:i(t),function(){return g.call(this.children,n)}));var n},filter:function(t){"function"!=typeof t&&(t=s(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,c=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new Z(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,M);var e,r=n?A:k,i=this._parents,o=this._groups;"function"!=typeof t&&(e=t,t=function(){return e});for(var a=o.length,u=new Array(a),c=new Array(a),l=new Array(a),s=0;s<a;++s){var f=i[s],h=o[s],p=h.length,d="object"==typeof(d=t.call(f,f&&f.__data__,s,i))&&"length"in d?d:Array.from(d),g=d.length,y=c[s]=new Array(g),v=u[s]=new Array(g);r(f,h,y,v,l[s]=new Array(p),d,n);for(var m,w,_=0,x=0;_<g;++_)if(m=y[_]){for(x<=_&&(x=_+1);!(w=v[x])&&++x<g;);m._next=w||null}}return(u=new Z(u,i))._enter=c,u._exit=l,u},enter:function(){return new Z(this._enter||this._groups.map(x),this._parents)},exit:function(){return new Z(this._exit||this._groups.map(x),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit(),r="function"==typeof t?(r=t(r))&&r.selection():r.append(t+"");return null!=n&&(i=(i=n(i))&&i.selection()),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){for(var t=t.selection?t.selection():t,n=this._groups,e=t._groups,r=n.length,t=e.length,i=Math.min(r,t),o=new Array(r),a=0;a<i;++a)for(var u,c=n[a],l=e[a],s=c.length,f=o[a]=new Array(s),h=0;h<s;++h)(u=c[h]||l[h])&&(f[h]=u);for(;a<r;++a)o[a]=n[a];return new Z(o,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,a=i[o];0<=--o;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e=e||S;for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,u=n[o],c=u.length,l=i[o]=new Array(c),s=0;s<c;++s)(a=u[s])&&(l[s]=a);l.sort(t)}return new Z(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,n){var e=E(t);if(arguments.length<2){t=this.node();return e.local?t.getAttributeNS(e.space,e.local):t.getAttribute(e)}return this.each((null==n?e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof n?e.local?function(n,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttributeNS(n.space,n.local):this.setAttributeNS(n.space,n.local,t)}}:function(n,e){return function(){var t=e.apply(this,arguments);null==t?this.removeAttribute(n):this.setAttribute(n,t)}}:e.local?function(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}:function(t,n){return function(){this.setAttribute(t,n)}})(e,n))},style:function(t,n,e){return 1<arguments.length?this.each((null==n?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof n?function(n,e,r){return function(){var t=e.apply(this,arguments);null==t?this.style.removeProperty(n):this.style.setProperty(n,t,r)}}:function(t,n,e){return function(){this.style.setProperty(t,n,e)}})(t,n,null==e?"":e)):O(this.node(),t)},property:function(t,n){return 1<arguments.length?this.each((null==n?function(t){return function(){delete this[t]}}:"function"==typeof n?function(n,e){return function(){var t=e.apply(this,arguments);null==t?delete this[n]:this[n]=t}}:function(t,n){return function(){this[t]=n}})(t,n)):this.node()[t]},classed:function(t,n){var e=L(t+"");if(arguments.length<2){for(var r=z(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?function(t,n){return function(){(n.apply(this,arguments)?j:I)(this,t)}}:n?function(t){return function(){j(this,t)}}:function(t){return function(){I(this,t)}})(e,n))},text:function(t){return arguments.length?this.each(null==t?P:("function"==typeof t?function(n){return function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?R:("function"==typeof t?function(n){return function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(U)},lower:function(){return this.each(B)},append:function(t){var n="function"==typeof t?t:F(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function(t,n){var e="function"==typeof t?t:F(t),r=null==n?q:"function"==typeof n?n:p(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(H)},clone:function(t){return this.select(t?Y:G)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");return 0<=e&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}),a=o.length;if(!(arguments.length<2)){for(u=n?$:W,r=0;r<a;++r)this.each(u(o[r],n,e));return this}var u=this.node().__on;if(u)for(var c,l=0,s=u.length;l<s;++l)for(r=0,c=u[l];r<a;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?function(t,n){return function(){return V(this,t,n.apply(this,arguments))}}:function(t,n){return function(){return V(this,t,n)}})(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};const K=Q;var et={value:()=>{}};function rt(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new it(r)}function it(t){this._=t}function ot(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=et,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}it.prototype=rt.prototype={constructor:it,on:function(t,n){var e,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var n="",e=t.indexOf(".");if(0<=e&&(n=t.slice(e+1),t=t.slice(0,e)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}})),a=-1,u=o.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<u;)if(e=(t=o[a]).type)i[e]=ot(i[e],t.name,n);else if(null==n)for(e in i)i[e]=ot(i[e],t.name,null);return this}for(;++a<u;)if((e=(t=o[a]).type)&&(e=function(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}(i[e],t.name)))return e},copy:function(){var t,n={},e=this._;for(t in e)n[t]=e[t].slice();return new it(n)},call:function(t,n){if(0<(e=arguments.length-2))for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};const at=rt;var ut,ct,lt=0,st=0,ft=0,ht=1e3,pt=0,dt=0,gt=0,yt="object"==typeof performance&&performance.now?performance:Date,vt="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function mt(){return dt||(vt(wt),dt=yt.now()+gt)}function wt(){dt=0}function _t(){this._call=this._time=this._next=null}function xt(t,n,e){var r=new _t;return r.restart(t,n,e),r}function bt(){dt=(pt=yt.now())+gt,lt=st=0;try{!function(){mt(),++lt;for(var t,n=ut;n;)0<=(t=dt-n._time)&&n._call.call(void 0,t),n=n._next;--lt}()}finally{lt=0,function(){var t,n,e=ut,r=1/0;for(;e;)e=e._call?(r>e._time&&(r=e._time),(t=e)._next):(n=e._next,e._next=null,t?t._next=n:ut=n);ct=t,At(r)}(),dt=0}}function kt(){var t=yt.now(),n=t-pt;ht<n&&(gt-=n,pt=t)}function At(t){lt||(st=st&&clearTimeout(st),24<t-dt?(t<1/0&&(st=setTimeout(bt,t-yt.now()-gt)),ft=ft&&clearInterval(ft)):(ft||(pt=yt.now(),ft=setInterval(kt,ht)),lt=1,vt(bt)))}function Mt(n,e,t){var r=new _t;return e=null==e?0:+e,r.restart(t=>{r.stop(),n(t+e)},e,t),r}_t.prototype=xt.prototype={constructor:_t,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?mt():+e)+(null==n?0:+n),this._next||ct===this||(ct?ct._next=this:ut=this,ct=this),this._call=t,this._time=e,At()},stop:function(){this._call&&(this._call=null,this._time=1/0,At())}};var St=at("start","end","cancel","interrupt"),Ct=[],Tt=0,Et=1,Nt=2,Ot=3,Lt=4,zt=5,Dt=6;function jt(t,n,e,r,i,o){var a,u,c,l,s,f=t.__transition;if(f){if(e in f)return}else t.__transition={};function h(t){var n,e,r,i;if(c.state!==Et)return d();for(n in s)if((i=s[n]).name===c.name){if(i.state===Ot)return Mt(h);i.state===Lt?(i.state=Dt,i.timer.stop(),i.on.call("interrupt",a,a.__data__,i.index,i.group),delete s[n]):+n<u&&(i.state=Dt,i.timer.stop(),i.on.call("cancel",a,a.__data__,i.index,i.group),delete s[n])}if(Mt(function(){c.state===Ot&&(c.state=Lt,c.timer.restart(p,c.delay,c.time),p(t))}),c.state=Nt,c.on.call("start",a,a.__data__,c.index,c.group),c.state===Nt){for(c.state=Ot,l=new Array(r=c.tween.length),n=0,e=-1;n<r;++n)(i=c.tween[n].value.call(a,a.__data__,c.index,c.group))&&(l[++e]=i);l.length=e+1}}function p(t){for(var n=t<c.duration?c.ease.call(null,t/c.duration):(c.timer.restart(d),c.state=zt,1),e=-1,r=l.length;++e<r;)l[e].call(a,n);c.state===zt&&(c.on.call("end",a,a.__data__,c.index,c.group),d())}function d(){for(var t in c.state=Dt,c.timer.stop(),delete s[u],s)return;delete a.__transition}a=t,u=e,c={name:n,index:r,group:i,on:St,tween:Ct,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Tt},((s=a.__transition)[u]=c).timer=xt(function(t){c.state=Et,c.timer.restart(h,c.delay,c.time),c.delay<=t&&h(t-c.delay)},0,c.time)}function It(t,n){n=Rt(t,n);if(n.state>Tt)throw new Error("too late; already scheduled");return n}function Pt(t,n){n=Rt(t,n);if(n.state>Ot)throw new Error("too late; already running");return n}function Rt(t,n){t=t.__transition;if(!t||!(t=t[n]))throw new Error("transition not found");return t}function Ut(t,n){var e,r,i,o=t.__transition,a=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>Nt&&e.state<zt,e.state=Dt,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):a=!1;a&&delete t.__transition}}function Bt(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}var Ft,qt=180/Math.PI,Ht={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Gt(t,n,e,r,i,o){var a,u,c;return(a=Math.sqrt(t*t+n*n))&&(t/=a,n/=a),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(u=Math.sqrt(e*e+r*r))&&(e/=u,r/=u,c/=u),t*r<n*e&&(t=-t,n=-n,c=-c,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*qt,skewX:Math.atan(c)*qt,scaleX:a,scaleY:u}}function Yt(f,h,p,d){function g(t){return t.length?t.pop()+" ":""}return function(t,n){var e,r,i,o,a,u,c,l=[],s=[];return t=f(t),n=f(n),i=t.translateX,o=t.translateY,c=n.translateX,u=n.translateY,a=l,e=s,i!==c||o!==u?(r=a.push("translate(",null,h,null,p),e.push({i:r-4,x:Bt(i,c)},{i:r-2,x:Bt(o,u)})):(c||u)&&a.push("translate("+c+h+u+p),e=t.rotate,i=n.rotate,r=l,o=s,e!==i?(180<e-i?i+=360:180<i-e&&(e+=360),o.push({i:r.push(g(r)+"rotate(",null,d)-2,x:Bt(e,i)})):i&&r.push(g(r)+"rotate("+i+d),a=t.skewX,c=n.skewX,u=l,o=s,a!==c?o.push({i:u.push(g(u)+"skewX(",null,d)-2,x:Bt(a,c)}):c&&u.push(g(u)+"skewX("+c+d),e=t.scaleX,r=t.scaleY,i=n.scaleX,o=n.scaleY,a=l,u=s,e!==i||r!==o?(c=a.push(g(a)+"scale(",null,",",null,")"),u.push({i:c-4,x:Bt(e,i)},{i:c-2,x:Bt(r,o)})):1===i&&1===o||a.push(g(a)+"scale("+i+","+o+")"),t=n=null,function(t){for(var n,e=-1,r=s.length;++e<r;)l[(n=s[e]).i]=n.x(t);return l.join("")}}}var Wt=Yt(function(t){return(t=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"")).isIdentity?Ht:Gt(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),$t=Yt(function(t){return null==t?Ht:((Ft=Ft||document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("transform",t),(t=Ft.transform.baseVal.consolidate())?Gt((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Ht)},", ",")",")");function Vt(t,n,e){var r=t._id;return t.each(function(){var t=Pt(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)}),function(t){return Rt(t,r).value[n]}}function Xt(t,n,e){(t.prototype=n.prototype=e).constructor=t}function Zt(t,n){var e,r=Object.create(t.prototype);for(e in n)r[e]=n[e];return r}function Qt(){}var Kt="\\s*([+-]?\\d+)\\s*",Jt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",tn="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",nn=/^#([0-9a-f]{3,8})$/,en=new RegExp("^rgb\\("+[Kt,Kt,Kt]+"\\)$"),rn=new RegExp("^rgb\\("+[tn,tn,tn]+"\\)$"),on=new RegExp("^rgba\\("+[Kt,Kt,Kt,Jt]+"\\)$"),an=new RegExp("^rgba\\("+[tn,tn,tn,Jt]+"\\)$"),un=new RegExp("^hsl\\("+[Jt,tn,tn]+"\\)$"),cn=new RegExp("^hsla\\("+[Jt,tn,tn,Jt]+"\\)$"),ln={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function sn(){return this.rgb().formatHex()}function fn(){return this.rgb().formatRgb()}function hn(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=nn.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?pn(n):3===e?new yn(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?dn(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?dn(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=en.exec(t))?new yn(n[1],n[2],n[3],1):(n=rn.exec(t))?new yn(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=on.exec(t))?dn(n[1],n[2],n[3],n[4]):(n=an.exec(t))?dn(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=un.exec(t))?_n(n[1],n[2]/100,n[3]/100,1):(n=cn.exec(t))?_n(n[1],n[2]/100,n[3]/100,n[4]):ln.hasOwnProperty(t)?pn(ln[t]):"transparent"===t?new yn(NaN,NaN,NaN,0):null}function pn(t){return new yn(t>>16&255,t>>8&255,255&t,1)}function dn(t,n,e,r){return new yn(t=r<=0?n=e=NaN:t,n,e,r)}function gn(t,n,e,r){return 1===arguments.length?(i=(i=t)instanceof Qt?i:hn(i))?new yn((i=i.rgb()).r,i.g,i.b,i.opacity):new yn:new yn(t,n,e,null==r?1:r);var i}function yn(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function vn(){return"#"+wn(this.r)+wn(this.g)+wn(this.b)}function mn(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function wn(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function _n(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||1<=e?t=n=NaN:n<=0&&(t=NaN),new bn(t,n,e,r)}function xn(t){if(t instanceof bn)return new bn(t.h,t.s,t.l,t.opacity);if(!(t=!(t instanceof Qt)?hn(t):t))return new bn;if(t instanceof bn)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),a=NaN,u=o-i,c=(o+i)/2;return u?(a=n===o?(e-r)/u+6*(e<r):e===o?(r-n)/u+2:(n-e)/u+4,u/=c<.5?o+i:2-o-i,a*=60):u=0<c&&c<1?0:a,new bn(a,u,c,t.opacity)}function bn(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function kn(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function An(t,n,e,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*n+(4-6*o+3*a)*e+(1+3*t+3*o-3*a)*r+a*i)/6}Xt(Qt,hn,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:sn,formatHex:sn,formatHsl:function(){return xn(this).formatHsl()},formatRgb:fn,toString:fn}),Xt(yn,gn,Zt(Qt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new yn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new yn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:vn,formatHex:vn,formatRgb:mn,toString:mn})),Xt(bn,function(t,n,e,r){return 1===arguments.length?xn(t):new bn(t,n,e,null==r?1:r)},Zt(Qt,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new bn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new bn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,n=e+(e<.5?e:1-e)*n,e=2*e-n;return new yn(kn(240<=t?t-240:120+t,e,n),kn(t,e,n),kn(t<120?240+t:t-120,e,n),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));const Mn=t=>()=>t;function Sn(n,e){return function(t){return n+t*e}}function Cn(o){return 1==(o=+o)?Tn:function(t,n){return n-t?(e=t,r=n,i=o,e=Math.pow(e,i),r=Math.pow(r,i)-e,i=1/i,function(t){return Math.pow(e+t*r,i)}):Mn(isNaN(t)?n:t);var e,r,i}}function Tn(t,n){var e=n-t;return e?Sn(t,e):Mn(isNaN(t)?n:t)}const En=function t(n){var a=Cn(n);function e(n,t){var e=a((n=gn(n)).r,(t=gn(t)).r),r=a(n.g,t.g),i=a(n.b,t.b),o=Tn(n.opacity,t.opacity);return function(t){return n.r=e(t),n.g=r(t),n.b=i(t),n.opacity=o(t),n+""}}return e.gamma=t,e}(1);function Nn(u){return function(t){for(var n,e=t.length,r=new Array(e),i=new Array(e),o=new Array(e),a=0;a<e;++a)n=gn(t[a]),r[a]=n.r||0,i[a]=n.g||0,o[a]=n.b||0;return r=u(r),i=u(i),o=u(o),n.opacity=1,function(t){return n.r=r(t),n.g=i(t),n.b=o(t),n+""}}}Nn(function(a){var u=a.length-1;return function(t){var n=t<=0?t=0:1<=t?u-(t=1):Math.floor(t*u),e=a[n],r=a[n+1],i=0<n?a[n-1]:2*e-r,o=n<u-1?a[n+2]:2*r-e;return An((t-n/u)*u,i,e,r,o)}}),Nn(function(a){var u=a.length;return function(t){var n=Math.floor(((t%=1)<0?++t:t)*u),e=a[(n+u-1)%u],r=a[n%u],i=a[(n+1)%u],o=a[(n+2)%u];return An((t-n/u)*u,e,r,i,o)}});var On=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ln=new RegExp(On.source,"g");function zn(t,r){var n,e,i,o,a,u=On.lastIndex=Ln.lastIndex=0,c=-1,l=[],s=[];for(t+="",r+="";(n=On.exec(t))&&(e=Ln.exec(r));)(i=e.index)>u&&(i=r.slice(u,i),l[c]?l[c]+=i:l[++c]=i),(n=n[0])===(e=e[0])?l[c]?l[c]+=e:l[++c]=e:(l[++c]=null,s.push({i:c,x:Bt(n,e)})),u=Ln.lastIndex;return u<r.length&&(i=r.slice(u),l[c]?l[c]+=i:l[++c]=i),l.length<2?s[0]?(a=s[0].x,function(t){return a(t)+""}):(o=r,function(){return o}):(r=s.length,function(t){for(var n,e=0;e<r;++e)l[(n=s[e]).i]=n.x(t);return l.join("")})}function Dn(t,n){var e;return("number"==typeof n?Bt:n instanceof hn?En:(e=hn(n))?(n=e,En):zn)(t,n)}function jn(r,i){var o,a;function t(){var n,e,t=i.apply(this,arguments);return o=t!==a?(a=t)&&(n=r,e=t,function(t){this.setAttributeNS(n.space,n.local,e.call(this,t))}):o}return t._value=i,t}function In(r,i){var o,a;function t(){var n,e,t=i.apply(this,arguments);return o=t!==a?(a=t)&&(n=r,e=t,function(t){this.setAttribute(n,e.call(this,t))}):o}return t._value=i,t}var Pn=K.prototype.constructor;function Rn(t){return function(){this.style.removeProperty(t)}}function Un(i,o,a){var u,c;function t(){var n,e,r,t=o.apply(this,arguments);return u=t!==c?(c=t)&&(n=i,e=t,r=a,function(t){this.style.setProperty(n,e.call(this,t),r)}):u}return t._value=o,t}function Bn(e){var r,i;function t(){var n,t=e.apply(this,arguments);return r=t!==i?(i=t)&&(n=t,function(t){this.textContent=n.call(this,t)}):r}return t._value=e,t}var Fn=0;function qn(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function Hn(t){return K().transition(t)}var Gn=K.prototype;qn.prototype=Hn.prototype={constructor:qn,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=p(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var u,c,l=r[a],s=l.length,f=o[a]=new Array(s),h=0;h<s;++h)(u=l[h])&&(c=t.call(u,u.__data__,h,l))&&("__data__"in u&&(c.__data__=u.__data__),f[h]=c,jt(f[h],n,e,h,f,Rt(u,e)));return new qn(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=w(t));for(var r=this._groups,i=r.length,o=[],a=[],u=0;u<i;++u)for(var c,l=r[u],s=l.length,f=0;f<s;++f)if(c=l[f]){for(var h,p=t.call(c,c.__data__,f,l),d=Rt(c,e),g=0,y=p.length;g<y;++g)(h=p[g])&&jt(h,n,e,g,p,d);o.push(p),a.push(c)}return new qn(o,a,n,e)},selectChild:Gn.selectChild,selectChildren:Gn.selectChildren,filter:function(t){"function"!=typeof t&&(t=s(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,a=n[i],u=a.length,c=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&c.push(o);return new qn(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,t=e.length,i=Math.min(r,t),o=new Array(r),a=0;a<i;++a)for(var u,c=n[a],l=e[a],s=c.length,f=o[a]=new Array(s),h=0;h<s;++h)(u=c[h]||l[h])&&(f[h]=u);for(;a<r;++a)o[a]=n[a];return new qn(o,this._parents,this._name,this._id)},selection:function(){return new Pn(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=++Fn,r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,l=0;l<c;++l)(a=u[l])&&jt(a,t,e,l,u,{time:(a=Rt(a,n)).time+a.delay+a.duration,delay:0,duration:a.duration,ease:a.ease});return new qn(r,this._parents,t,e)},call:Gn.call,nodes:Gn.nodes,node:Gn.node,size:Gn.size,empty:Gn.empty,each:Gn.each,on:function(t,n){var e,r,i,o,a,u,c=this._id;return arguments.length<2?Rt(this.node(),c).on.on(t):this.each((e=c,i=n,u=((r=t)+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return!(t=0<=n?t.slice(0,n):t)||"start"===t})?It:Pt,function(){var t=u(this,e),n=t.on;n!==o&&(a=(o=n).copy()).on(r,i),t.on=a}))},attr:function(t,n){var e=E(t),r="transform"===e?$t:Dn;return this.attrTween(t,"function"==typeof n?(e.local?function(r,i,o){var a,u,c;return function(){var t,n,e=o(this);if(null!=e)return(t=this.getAttributeNS(r.space,r.local))===(n=e+"")?null:t===a&&n===u?c:(u=n,c=i(a=t,e));this.removeAttributeNS(r.space,r.local)}}:function(r,i,o){var a,u,c;return function(){var t,n,e=o(this);if(null!=e)return(t=this.getAttribute(r))===(n=e+"")?null:t===a&&n===u?c:(u=n,c=i(a=t,e));this.removeAttribute(r)}})(e,r,Vt(this,"attr."+t,n)):null==n?(e.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(e):(e.local?function(n,e,r){var i,o,a=r+"";return function(){var t=this.getAttributeNS(n.space,n.local);return t===a?null:t===i?o:o=e(i=t,r)}}:function(n,e,r){var i,o,a=r+"";return function(){var t=this.getAttribute(n);return t===a?null:t===i?o:o=e(i=t,r)}})(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;return t=E(t),this.tween(e,(t.local?jn:In)(t,n))},style:function(t,n,e){var r,i,o,a,u,c,l,s,f,h,p,d,g,y,v,m,w,_,x,b,k,A,M,S,C,T="transform"==(t+="")?Wt:Dn;return null==n?this.styleTween(t,(k=t,A=T,function(){var t=O(this,k),n=(this.style.removeProperty(k),O(this,k));return t===n?null:t===M&&n===S?C:C=A(M=t,S=n)})).on("end.style."+t,Rn(t)):"function"==typeof n?this.styleTween(t,(m=T,w=Vt(this,"style."+(v=t),n),function(){var t=O(this,v),n=w(this),e=n+"";return null==n&&(this.style.removeProperty(v),e=n=O(this,v)),t===e?null:t===_&&e===x?b:(x=e,b=m(_=t,n))})).each((l=this._id,y="end."+(g="style."+(s=t)),function(){var t=Pt(this,l),n=t.on,e=null==t.value[g]?d=d||Rn(s):void 0;n===f&&p===e||(h=(f=n).copy()).on(y,p=e),t.on=h})):this.styleTween(t,(r=t,i=T,c=(o=n)+"",function(){var t=O(this,r);return t===c?null:t===a?u:u=i(a=t,o)}),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,Un(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?(e=Vt(this,"text",t),function(){var t=e(this);this.textContent=null==t?"":t}):(n=null==t?"":t+"",function(){this.textContent=n}));var n,e},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,Bn(t))},remove:function(){return this.on("end.remove",(e=this._id,function(){var t,n=this.parentNode;for(t in this.__transition)if(+t!==e)return;n&&n.removeChild(this)}));var e},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Rt(this.node(),e).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?function(i,o){var a,u;return function(){var t=Pt(this,i),n=t.tween;if(n!==a)for(var e=0,r=(u=a=n).length;e<r;++e)if(u[e].name===o){(u=u.slice()).splice(e,1);break}t.tween=u}}:function(o,a,u){var c,l;if("function"!=typeof u)throw new Error;return function(){var t=Pt(this,o),n=t.tween;if(n!==c){l=(c=n).slice();for(var e={name:a,value:u},r=0,i=l.length;r<i;++r)if(l[r].name===a){l[r]=e;break}r===i&&l.push(e)}t.tween=l}})(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){It(this,t).delay=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){It(this,t).delay=n}})(n,t)):Rt(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?function(t,n){return function(){Pt(this,t).duration=+n.apply(this,arguments)}}:function(t,n){return n=+n,function(){Pt(this,t).duration=n}})(n,t)):Rt(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(function(t,n){if("function"!=typeof n)throw new Error;return function(){Pt(this,t).ease=n}}(n,t)):Rt(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each((n=this._id,e=t,function(){var t=e.apply(this,arguments);if("function"!=typeof t)throw new Error;Pt(this,n).ease=t}));var n,e},end:function(){var i,o,a=this,u=a._id,c=a.size();return new Promise(function(t,n){var e={value:n},r={value:function(){0==--c&&t()}};a.each(function(){var t=Pt(this,u),n=t.on;n!==i&&((o=(i=n).copy())._.cancel.push(e),o._.interrupt.push(e),o._.end.push(r)),t.on=o}),0===c&&t()})},[Symbol.iterator]:Gn[Symbol.iterator]};var Yn={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};K.prototype.interrupt=function(t){return this.each(function(){Ut(this,t)})},K.prototype.transition=function(t){var n,e;t=t instanceof qn?(n=t._id,t._name):(n=++Fn,(e=Yn).time=mt(),null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,u=r[o],c=u.length,l=0;l<c;++l)(a=u[l])&&jt(a,t,n,l,u,e||function(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}(a,n));return new qn(r,this._parents,t,n)};const{}=Math;["w","e"].map(Wn),["n","s"].map(Wn),["n","w","e","s","nw","ne","sw","se"].map(Wn);function Wn(t){return{type:t}}function $n(t,n){return t.parent===n.parent?1:2}function Vn(t,n){return t+n.x}function Xn(t,n){return Math.max(t,n.y)}function Zn(){var u=$n,c=1,l=1,s=!1;function n(n){var r,i=0;n.eachAfter(function(t){var n,e=t.children;e?(t.x=(n=e).reduce(Vn,0)/n.length,t.y=1+e.reduce(Xn,0)):(t.x=r?i+=u(t,r):0,t.y=0,r=t)});var t=function(t){for(var n;n=t.children;)t=n[0];return t}(n),e=function(t){for(var n;n=t.children;)t=n[n.length-1];return t}(n),o=t.x-u(t,e)/2,a=e.x+u(e,t)/2;return n.eachAfter(s?function(t){t.x=(t.x-n.x)*c,t.y=(n.y-t.y)*l}:function(t){t.x=(t.x-o)/(a-o)*c,t.y=(1-(n.y?t.y/n.y:1))*l})}return n.separation=function(t){return arguments.length?(u=t,n):u},n.size=function(t){return arguments.length?(s=!1,c=+t[0],l=+t[1],n):s?null:[c,l]},n.nodeSize=function(t){return arguments.length?(s=!0,c=+t[0],l=+t[1],n):s?[c,l]:null},n}function Qn(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;0<=--r;)n+=e[r].value;else n=1;t.value=n}function Kn(t,n){t instanceof Map?(t=[void 0,t],void 0===n&&(n=te)):void 0===n&&(n=Jn);for(var e,r,i,o,a,t=new re(t),u=[t];e=u.pop();)if((i=n(e.data))&&(a=(i=Array.from(i)).length))for(e.children=i,o=a-1;0<=o;--o)u.push(r=i[o]=new re(i[o])),r.parent=e,r.depth=e.depth+1;return t.eachBefore(ee)}function Jn(t){return t.children}function te(t){return Array.isArray(t)?t[1]:null}function ne(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function ee(t){for(var n=0;t.height=n,(t=t.parent)&&t.height<++n;);}function re(t){this.data=t,this.depth=this.height=0,this.parent=null}re.prototype=Kn.prototype={constructor:re,count:function(){return this.eachAfter(Qn)},each:function(t,n){let e=-1;for(const r of this)t.call(n,r,++e,this);return this},eachAfter:function(t,n){for(var e,r,i,o=this,a=[o],u=[],c=-1;o=a.pop();)if(u.push(o),e=o.children)for(r=0,i=e.length;r<i;++r)a.push(e[r]);for(;o=u.pop();)t.call(n,o,++c,this);return this},eachBefore:function(t,n){for(var e,r,i,o=[this],a=-1;e=o.pop();)if(t.call(n,e,++a,this),r=e.children)for(i=r.length-1;0<=i;--i)o.push(r[i]);return this},find:function(t,n){let e=-1;for(const r of this)if(t.call(n,r,++e,this))return r},sum:function(i){return this.eachAfter(function(t){for(var n=+i(t.data)||0,e=t.children,r=e&&e.length;0<=--r;)n+=e[r].value;t.value=n})},sort:function(n){return this.eachBefore(function(t){t.children&&t.children.sort(n)})},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;t=e.pop(),n=r.pop();for(;t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){return Array.from(this)},leaves:function(){var n=[];return this.eachBefore(function(t){t.children||n.push(t)}),n},links:function(){var n=this,e=[];return n.each(function(t){t!==n&&e.push({source:t.parent,target:t})}),e},copy:function(){return Kn(this).eachBefore(ne)},[Symbol.iterator]:function*(){var t,n,e,r,i,o=[this];do{for(n=o.reverse(),o=[];t=n.pop();)if(yield t,e=t.children)for(r=0,i=e.length;r<i;++r)o.push(e[r])}while(o.length)}};var ie=Math.sqrt(50),oe=Math.sqrt(10),ae=Math.sqrt(2);function ue(t,n,e){t=(n-t)/Math.max(0,e),e=Math.floor(Math.log(t)/Math.LN10),t/=Math.pow(10,e);return 0<=e?(ie<=t?10:oe<=t?5:ae<=t?2:1)*Math.pow(10,e):-Math.pow(10,-e)/(ie<=t?10:oe<=t?5:ae<=t?2:1)}function ce(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),e=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),r=r/e;return ie<=r?e*=10:oe<=r?e*=5:ae<=r&&(e*=2),n<t?-e:e}function le(e){let i=e,o=e,a=e;function u(t,n,e=0,r=t.length){if(e<r){if(0!==o(n,n))return r;do{var i=e+r>>>1;a(t[i],n)<0?e=1+i:r=i}while(e<r)}return e}return 2!==e.length&&(i=(t,n)=>e(t)-n,o=J,a=(t,n)=>J(e(t),n)),{left:u,center:function(t,n,e=0,r=t.length){return r=u(t,n,e,r-1),e<r&&i(t[r-1],n)>-i(t[r],n)?r-1:r},right:function(t,n,e=0,r=t.length){if(e<r){if(0!==o(n,n))return r;do{var i=e+r>>>1;a(t[i],n)<=0?e=1+i:r=i}while(e<r)}return e}}}var se=le(J),fe=se.right;se.left,le(function(t){return null===t?NaN:+t}).center;const he=fe;function pe(t,n){for(var e=n?n.length:0,r=t?Math.min(e,t.length):0,i=new Array(r),o=new Array(e),a=0;a<r;++a)i[a]=de(t[a],n[a]);for(;a<e;++a)o[a]=n[a];return function(t){for(a=0;a<r;++a)o[a]=i[a](t);return o}}function de(t,n){var e,r=typeof n;return null==n||"boolean"==r?Mn(n):("number"==r?Bt:"string"==r?(e=hn(n))?(n=e,En):zn:n instanceof hn?En:n instanceof Date?function(n,e){var r=new Date;return n=+n,e=+e,function(t){return r.setTime(n*(1-t)+e*t),r}}:(e=n,!ArrayBuffer.isView(e)||e instanceof DataView?Array.isArray(n)?pe:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?function(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),n=null===n||"object"!=typeof n?{}:n)e in t?r[e]=de(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}}:Bt:function(n,e){e=e||[];var r,i=n?Math.min(e.length,n.length):0,o=e.slice();return function(t){for(r=0;r<i;++r)o[r]=n[r]*(1-t)+e[r]*t;return o}}))(t,n)}function ge(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function ye(t){return+t}var ve=[0,1];function me(t){return t}function we(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:(t=isNaN(e)?NaN:.5,function(){return t});var t}function _e(t,n,e){var r=t[0],t=t[1],i=n[0],n=n[1],i=t<r?(r=we(t,r),e(n,i)):(r=we(r,t),e(i,n));return function(t){return i(r(t))}}function xe(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=we(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(t){var n=he(e,t,1,r)-1;return o[n](i[n](t))}}function be(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function ke(){var e,r,n,i,o,a,u=ve,c=ve,l=de,s=me;function f(){var n,e,t,r=Math.min(u.length,c.length);return s!==me&&(n=u[0],(e=u[r-1])<n&&(t=n,n=e,e=t),s=function(t){return Math.max(n,Math.min(e,t))}),i=2<r?xe:_e,o=a=null,h}function h(t){return null==t||isNaN(t=+t)?n:(o=o||i(u.map(e),c,l))(e(s(t)))}return h.invert=function(t){return s(r((a=a||i(c,u.map(e),Bt))(t)))},h.domain=function(t){return arguments.length?(u=Array.from(t,ye),f()):u.slice()},h.range=function(t){return arguments.length?(c=Array.from(t),f()):c.slice()},h.rangeRound=function(t){return c=Array.from(t),l=ge,f()},h.clamp=function(t){return arguments.length?(s=!!t||me,f()):s!==me},h.interpolate=function(t){return arguments.length?(l=t,f()):l},h.unknown=function(t){return arguments.length?(n=t,h):n},function(t,n){return e=t,r=n,f()}}function Ae(){return ke()(me,me)}function Me(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}var Se,Ce=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Te(t){if(!(n=Ce.exec(t)))throw new Error("invalid format: "+t);var n;return new Ee({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Ee(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function Ne(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,n=t.slice(0,e);return[1<n.length?n[0]+n.slice(2):n,+t.slice(e+1)]}function Oe(t){return(t=Ne(Math.abs(t)))?t[1]:NaN}function Le(t,n){n=Ne(t,n);if(!n)return t+"";t=n[0],n=n[1];return n<0?"0."+new Array(-n).join("0")+t:t.length>n+1?t.slice(0,n+1)+"."+t.slice(n+1):t+new Array(n-t.length+2).join("0")}Te.prototype=Ee.prototype,Ee.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const ze={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return 1e21<=Math.abs(t=Math.round(t))?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Le(100*t,n),r:Le,s:function(t,n){if(!(r=Ne(t,n)))return t+"";var e=r[0],r=(i=r[1])-(Se=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,i=e.length;return r===i?e:i<r?e+new Array(r-i+1).join("0"):0<r?e.slice(0,r)+"."+e.slice(r):"0."+new Array(1-r).join("0")+Ne(t,Math.max(0,n+r-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function De(t){return t}var je,Ie,Pe=Array.prototype.map,Re=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ue(t){var n,u,c,b=void 0===t.grouping||void 0===t.thousands?De:(u=Pe.call(t.grouping,Number),c=t.thousands+"",function(t,n){for(var e=t.length,r=[],i=0,o=u[0],a=0;0<e&&0<o&&(n<a+o+1&&(o=Math.max(1,n-a)),r.push(t.substring(e-=o,e+o)),!((a+=o+1)>n));)o=u[i=(i+1)%u.length];return r.reverse().join(c)}),r=void 0===t.currency?"":t.currency[0]+"",i=void 0===t.currency?"":t.currency[1]+"",k=void 0===t.decimal?".":t.decimal+"",A=void 0===t.numerals?De:(n=Pe.call(t.numerals,String),function(t){return t.replace(/[0-9]/g,function(t){return n[+t]})}),o=void 0===t.percent?"%":t.percent+"",M=void 0===t.minus?"−":t.minus+"",S=void 0===t.nan?"NaN":t.nan+"";function a(t){var l=(t=Te(t)).fill,s=t.align,f=t.sign,n=t.symbol,h=t.zero,p=t.width,d=t.comma,g=t.precision,y=t.trim,v=t.type;"n"===v?(d=!0,v="g"):ze[v]||(void 0===g&&(g=12),y=!0,v="g"),(h||"0"===l&&"="===s)&&(h=!0,l="0",s="=");var m="$"===n?r:"#"===n&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",w="$"===n?i:/[%p]/.test(v)?o:"",_=ze[v],x=/[defgprs%]/.test(v);function e(t){var n,e,r,i=m,o=w;if("c"===v)o=_(t)+o,t="";else{var a=(t=+t)<0||1/t<0;if(t=isNaN(t)?S:_(Math.abs(t),g),y&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;0<i&&(i=0)}return 0<i?t.slice(0,i)+t.slice(n+1):t}(t)),i=((a=a&&0==+t&&"+"!==f?!1:a)?"("===f?f:M:"-"===f||"("===f?"":f)+i,o=("s"===v?Re[8+Se/3]:"")+o+(a&&"("===f?")":""),x)for(n=-1,e=t.length;++n<e;)if((r=t.charCodeAt(n))<48||57<r){o=(46===r?k+t.slice(n+1):t.slice(n))+o,t=t.slice(0,n);break}}d&&!h&&(t=b(t,1/0));var u=i.length+t.length+o.length,c=u<p?new Array(p-u+1).join(l):"";switch(d&&h&&(t=b(c+t,c.length?p-o.length:1/0),c=""),s){case"<":t=i+t+o+c;break;case"=":t=i+c+t+o;break;case"^":t=c.slice(0,u=c.length>>1)+i+t+o+c.slice(u);break;default:t=c+i+t+o}return A(t)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),e.toString=function(){return t+""},e}return{format:a,formatPrefix:function(t,n){var e=a(((t=Te(t)).type="f",t)),n=3*Math.max(-8,Math.min(8,Math.floor(Oe(n)/3))),r=Math.pow(10,-n),i=Re[8+n/3];return function(t){return e(r*t)+i}}}}function Be(t,n,e,r){var i,o,a=ce(t,n,e);switch((r=Te(null==r?",f":r)).type){case"s":var u=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN((o=a,i=Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Oe(u)/3)))-Oe(Math.abs(o)))))||(r.precision=i),Ie(r,u);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN((o=a,u=Math.max(Math.abs(t),Math.abs(n)),o=Math.abs(o),u=Math.abs(u)-o,i=Math.max(0,Oe(u)-Oe(o))+1))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Math.max(0,-Oe(Math.abs(a))))||(r.precision=i-2*("%"===r.type))}return je(r)}function Fe(l){var s=l.domain;return l.ticks=function(t){var n=s();return function(e,r,t){var n,i,o,a,u=-1;if(t=+t,(e=+e)===(r=+r)&&0<t)return[e];if((n=r<e)&&(i=e,e=r,r=i),0===(a=ue(e,r,t))||!isFinite(a))return[];if(0<a){let t=Math.round(e/a),n=Math.round(r/a);for(t*a<e&&++t,n*a>r&&--n,o=new Array(i=n-t+1);++u<i;)o[u]=(t+u)*a}else{a=-a;let t=Math.round(e*a),n=Math.round(r*a);for(t/a<e&&++t,n/a>r&&--n,o=new Array(i=n-t+1);++u<i;)o[u]=(t+u)/a}return n&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},l.tickFormat=function(t,n){var e=s();return Be(e[0],e[e.length-1],null==t?10:t,n)},l.nice=function(t){null==t&&(t=10);var n,e,r=s(),i=0,o=r.length-1,a=r[i],u=r[o],c=10;for(u<a&&(e=a,a=u,u=e,e=i,i=o,o=e);0<c--;){if((e=ue(a,u,t))===n)return r[i]=a,r[o]=u,s(r);if(0<e)a=Math.floor(a/e)*e,u=Math.ceil(u/e)*e;else{if(!(e<0))break;a=Math.ceil(a*e)/e,u=Math.floor(u*e)/e}n=e}return l},l}function qe(){var t=Ae();return t.copy=function(){return be(t,qe())},Me.apply(t,arguments),Fe(t)}ir=Ue({thousands:",",grouping:[3],currency:["$",""]}),je=ir.format,Ie=ir.formatPrefix;const He=864e5;He;var Ge=new Date,Ye=new Date;function We(o,a,e,r){function u(t){return o(t=0===arguments.length?new Date:new Date(+t)),t}return u.floor=function(t){return o(t=new Date(+t)),t},u.ceil=function(t){return o(t=new Date(t-1)),a(t,1),o(t),t},u.round=function(t){var n=u(t),e=u.ceil(t);return t-n<e-t?n:e},u.offset=function(t,n){return a(t=new Date(+t),null==n?1:Math.floor(n)),t},u.range=function(t,n,e){var r,i=[];if(t=u.ceil(t),e=null==e?1:Math.floor(e),!(t<n&&0<e))return i;for(;i.push(r=new Date(+t)),a(t,e),o(t),r<t&&t<n;);return i},u.filter=function(e){return We(function(t){if(t<=t)for(;o(t),!e(t);)t.setTime(t-1)},function(t,n){if(t<=t)if(n<0)for(;++n<=0;)for(;a(t,-1),!e(t););else for(;0<=--n;)for(;a(t,1),!e(t););})},e&&(u.count=function(t,n){return Ge.setTime(+t),Ye.setTime(+n),o(Ge),o(Ye),Math.floor(e(Ge,Ye))},u.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?u.filter(r?function(t){return r(t)%n==0}:function(t){return u.count(0,t)%n==0}):u:null}),u}var $e=We(function(){},function(t,n){t.setTime(+t+n)},function(t,n){return n-t});$e.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?We(function(t){t.setTime(Math.floor(t/e)*e)},function(t,n){t.setTime(+t+n*e)},function(t,n){return(n-t)/e}):$e:null};const Ve=$e;$e.range;var Xe=We(function(t){t.setTime(t-t.getMilliseconds())},function(t,n){t.setTime(+t+1e3*n)},function(t,n){return(n-t)/1e3},function(t){return t.getUTCSeconds()});const Ze=Xe;Xe.range;Kt=We(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())},function(t,n){t.setTime(+t+6e4*n)},function(t,n){return(n-t)/6e4},function(t){return t.getMinutes()});const Qe=Kt;Kt.range;tn=We(function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getHours()});const Ke=tn;tn.range;Jt=We(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/He,t=>t.getDate()-1);const Je=Jt;Jt.range;function tr(n){return We(function(t){t.setDate(t.getDate()-(t.getDay()+7-n)%7),t.setHours(0,0,0,0)},function(t,n){t.setDate(t.getDate()+7*n)},function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5})}var nr=tr(0),er=tr(1),Gn=tr(2),se=tr(3),rr=tr(4),fe=tr(5),ir=tr(6),Xe=(nr.range,er.range,Gn.range,se.range,rr.range,fe.range,ir.range,We(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,n){t.setMonth(t.getMonth()+n)},function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}));const or=Xe;Xe.range;Kt=We(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n)},function(t,n){return n.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Kt.every=function(e){return isFinite(e=Math.floor(e))&&0<e?We(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,n){t.setFullYear(t.getFullYear()+n*e)}):null};const ar=Kt;Kt.range;tn=We(function(t){t.setUTCSeconds(0,0)},function(t,n){t.setTime(+t+6e4*n)},function(t,n){return(n-t)/6e4},function(t){return t.getUTCMinutes()}),Jt=tn,tn.range,Gn=We(function(t){t.setUTCMinutes(0,0,0)},function(t,n){t.setTime(+t+36e5*n)},function(t,n){return(n-t)/36e5},function(t){return t.getUTCHours()}),se=Gn,Gn.range,fe=We(function(t){t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+n)},function(t,n){return(n-t)/He},function(t){return t.getUTCDate()-1});const ur=fe;fe.range;function cr(n){return We(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-n)%7),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCDate(t.getUTCDate()+7*n)},function(t,n){return(n-t)/6048e5})}var lr=cr(0),sr=cr(1),ir=cr(2),Xe=cr(3),fr=cr(4),Kt=cr(5),tn=cr(6),Gn=(lr.range,sr.range,ir.range,Xe.range,fr.range,Kt.range,tn.range,We(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCMonth(t.getUTCMonth()+n)},function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()})),fe=Gn,ir=(Gn.range,We(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)},function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));ir.every=function(e){return isFinite(e=Math.floor(e))&&0<e?We(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n*e)}):null};const hr=ir;ir.range;function pr(u,t,n,e,r,i){const c=[[Ze,1,1e3],[Ze,5,5e3],[Ze,15,15e3],[Ze,30,3e4],[i,1,6e4],[i,5,3e5],[i,15,9e5],[i,30,18e5],[r,1,36e5],[r,3,108e5],[r,6,216e5],[r,12,432e5],[e,1,He],[e,2,2*He],[n,1,6048e5],[t,1,2592e6],[t,3,7776e6],[u,1,31536e6]];function a(t,n,e){var r=Math.abs(n-t)/e,i=le(([,,t])=>t).right(c,r);if(i===c.length)return u.every(ce(t/31536e6,n/31536e6,e));if(0===i)return Ve.every(Math.max(ce(t,n,e),1));const[o,a]=c[r/c[i-1][2]<c[i][2]/r?i-1:i];return o.every(a)}return[function(t,n,e){var r=n<t;r&&([t,n]=[n,t]);const i=e&&"function"==typeof e.range?e:a(t,n,e),o=i?i.range(t,+n+1):[];return r?o.reverse():o},a]}var[]=pr(hr,fe,lr,ur,se,Jt);const[dr,gr]=pr(ar,or,nr,Je,Ke,Qe);function yr(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function vr(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function mr(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function wr(t){var r=t.dateTime,i=t.date,o=t.time,n=t.periods,e=t.days,a=t.shortDays,u=t.months,c=t.shortMonths,l=Cr(n),s=Tr(n),f=Cr(e),h=Tr(e),p=Cr(a),d=Tr(a),g=Cr(u),y=Tr(u),v=Cr(c),m=Tr(c),w={a:function(t){return a[t.getDay()]},A:function(t){return e[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:Xr,e:Xr,f:ti,g:fi,G:pi,H:Zr,I:Qr,j:Kr,L:Jr,m:ni,M:ei,p:function(t){return n[+(12<=t.getHours())]},q:function(t){return 1+~~(t.getMonth()/3)},Q:Ii,s:Pi,S:ri,u:ii,U:oi,V:ui,w:ci,W:li,x:null,X:null,y:si,Y:hi,Z:di,"%":ji},_={a:function(t){return a[t.getUTCDay()]},A:function(t){return e[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:gi,e:gi,f:_i,g:Oi,G:zi,H:yi,I:vi,j:mi,L:wi,m:xi,M:bi,p:function(t){return n[+(12<=t.getUTCHours())]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:Ii,s:Pi,S:ki,u:Ai,U:Mi,V:Ci,w:Ti,W:Ei,x:null,X:null,y:Ni,Y:Li,Z:Di,"%":ji},x={a:function(t,n,e){n=p.exec(n.slice(e));return n?(t.w=d.get(n[0].toLowerCase()),e+n[0].length):-1},A:function(t,n,e){n=f.exec(n.slice(e));return n?(t.w=h.get(n[0].toLowerCase()),e+n[0].length):-1},b:function(t,n,e){n=v.exec(n.slice(e));return n?(t.m=m.get(n[0].toLowerCase()),e+n[0].length):-1},B:function(t,n,e){n=g.exec(n.slice(e));return n?(t.m=y.get(n[0].toLowerCase()),e+n[0].length):-1},c:function(t,n,e){return A(t,r,n,e)},d:Ur,e:Ur,f:Yr,g:jr,G:Dr,H:Fr,I:Fr,j:Br,L:Gr,m:Rr,M:qr,p:function(t,n,e){n=l.exec(n.slice(e));return n?(t.p=s.get(n[0].toLowerCase()),e+n[0].length):-1},q:Pr,Q:$r,s:Vr,S:Hr,u:Nr,U:Or,V:Lr,w:Er,W:zr,x:function(t,n,e){return A(t,i,n,e)},X:function(t,n,e){return A(t,o,n,e)},y:jr,Y:Dr,Z:Ir,"%":Wr};function b(c,l){return function(t){var n,e,r,i=[],o=-1,a=0,u=c.length;for(t instanceof Date||(t=new Date(+t));++o<u;)37===c.charCodeAt(o)&&(i.push(c.slice(a,o)),null!=(e=xr[n=c.charAt(++o)])?n=c.charAt(++o):e="e"===n?" ":"0",(r=l[n])&&(n=r(t,e)),i.push(n),a=o+1);return i.push(c.slice(a,o)),i.join("")}}function k(i,o){return function(t){var n,e,r=mr(1900,void 0,1);if(A(r,i,t+="",0)!=t.length)return null;if("Q"in r)return new Date(r.Q);if("s"in r)return new Date(1e3*r.s+("L"in r?r.L:0));if(!o||"Z"in r||(r.Z=0),"p"in r&&(r.H=r.H%12+12*r.p),void 0===r.m&&(r.m="q"in r?r.q:0),"V"in r){if(r.V<1||53<r.V)return null;"w"in r||(r.w=1),"Z"in r?(n=4<(e=(n=vr(mr(r.y,0,1))).getUTCDay())||0===e?sr.ceil(n):sr(n),n=ur.offset(n,7*(r.V-1)),r.y=n.getUTCFullYear(),r.m=n.getUTCMonth(),r.d=n.getUTCDate()+(r.w+6)%7):(n=4<(e=(n=yr(mr(r.y,0,1))).getDay())||0===e?er.ceil(n):er(n),n=Je.offset(n,7*(r.V-1)),r.y=n.getFullYear(),r.m=n.getMonth(),r.d=n.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),e="Z"in r?vr(mr(r.y,0,1)).getUTCDay():yr(mr(r.y,0,1)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(e+5)%7:r.w+7*r.U-(e+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,vr(r)):yr(r)}}function A(t,n,e,r){for(var i,o,a=0,u=n.length,c=e.length;a<u;){if(c<=r)return-1;if(37===(i=n.charCodeAt(a++))){if(i=n.charAt(a++),!(o=x[i in xr?n.charAt(a++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return w.x=b(i,w),w.X=b(o,w),w.c=b(r,w),_.x=b(i,_),_.X=b(o,_),_.c=b(r,_),{format:function(t){var n=b(t+="",w);return n.toString=function(){return t},n},parse:function(t){var n=k(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=b(t+="",_);return n.toString=function(){return t},n},utcParse:function(t){var n=k(t+="",!0);return n.toString=function(){return t},n}}}var _r,xr={"-":"",_:" ",0:"0"},br=/^\s*\d+/,kr=/^%/,Ar=/[\\^$*+?|[\]().{}]/g;function Mr(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",t=i.length;return r+(t<e?new Array(e-t+1).join(n)+i:i)}function Sr(t){return t.replace(Ar,"\\$&")}function Cr(t){return new RegExp("^(?:"+t.map(Sr).join("|")+")","i")}function Tr(t){return new Map(t.map((t,n)=>[t.toLowerCase(),n]))}function Er(t,n,e){n=br.exec(n.slice(e,e+1));return n?(t.w=+n[0],e+n[0].length):-1}function Nr(t,n,e){n=br.exec(n.slice(e,e+1));return n?(t.u=+n[0],e+n[0].length):-1}function Or(t,n,e){n=br.exec(n.slice(e,e+2));return n?(t.U=+n[0],e+n[0].length):-1}function Lr(t,n,e){n=br.exec(n.slice(e,e+2));return n?(t.V=+n[0],e+n[0].length):-1}function zr(t,n,e){n=br.exec(n.slice(e,e+2));return n?(t.W=+n[0],e+n[0].length):-1}function Dr(t,n,e){n=br.exec(n.slice(e,e+4));return n?(t.y=+n[0],e+n[0].length):-1}function jr(t,n,e){n=br.exec(n.slice(e,e+2));return n?(t.y=+n[0]+(68<+n[0]?1900:2e3),e+n[0].length):-1}function Ir(t,n,e){n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),e+n[0].length):-1}function Pr(t,n,e){n=br.exec(n.slice(e,e+1));return n?(t.q=3*n[0]-3,e+n[0].length):-1}function Rr(t,n,e){n=br.exec(n.slice(e,e+2));return n?(t.m=n[0]-1,e+n[0].length):-1}function Ur(t,n,e){n=br.exec(n.slice(e,e+2));return n?(t.d=+n[0],e+n[0].length):-1}function Br(t,n,e){n=br.exec(n.slice(e,e+3));return n?(t.m=0,t.d=+n[0],e+n[0].length):-1}function Fr(t,n,e){n=br.exec(n.slice(e,e+2));return n?(t.H=+n[0],e+n[0].length):-1}function qr(t,n,e){n=br.exec(n.slice(e,e+2));return n?(t.M=+n[0],e+n[0].length):-1}function Hr(t,n,e){n=br.exec(n.slice(e,e+2));return n?(t.S=+n[0],e+n[0].length):-1}function Gr(t,n,e){n=br.exec(n.slice(e,e+3));return n?(t.L=+n[0],e+n[0].length):-1}function Yr(t,n,e){n=br.exec(n.slice(e,e+6));return n?(t.L=Math.floor(n[0]/1e3),e+n[0].length):-1}function Wr(t,n,e){n=kr.exec(n.slice(e,e+1));return n?e+n[0].length:-1}function $r(t,n,e){n=br.exec(n.slice(e));return n?(t.Q=+n[0],e+n[0].length):-1}function Vr(t,n,e){n=br.exec(n.slice(e));return n?(t.s=+n[0],e+n[0].length):-1}function Xr(t,n){return Mr(t.getDate(),n,2)}function Zr(t,n){return Mr(t.getHours(),n,2)}function Qr(t,n){return Mr(t.getHours()%12||12,n,2)}function Kr(t,n){return Mr(1+Je.count(ar(t),t),n,3)}function Jr(t,n){return Mr(t.getMilliseconds(),n,3)}function ti(t,n){return Jr(t,n)+"000"}function ni(t,n){return Mr(t.getMonth()+1,n,2)}function ei(t,n){return Mr(t.getMinutes(),n,2)}function ri(t,n){return Mr(t.getSeconds(),n,2)}function ii(t){t=t.getDay();return 0===t?7:t}function oi(t,n){return Mr(nr.count(ar(t)-1,t),n,2)}function ai(t){var n=t.getDay();return 4<=n||0===n?rr(t):rr.ceil(t)}function ui(t,n){return t=ai(t),Mr(rr.count(ar(t),t)+(4===ar(t).getDay()),n,2)}function ci(t){return t.getDay()}function li(t,n){return Mr(er.count(ar(t)-1,t),n,2)}function si(t,n){return Mr(t.getFullYear()%100,n,2)}function fi(t,n){return Mr((t=ai(t)).getFullYear()%100,n,2)}function hi(t,n){return Mr(t.getFullYear()%1e4,n,4)}function pi(t,n){var e=t.getDay();return Mr((t=4<=e||0===e?rr(t):rr.ceil(t)).getFullYear()%1e4,n,4)}function di(t){t=t.getTimezoneOffset();return(0<t?"-":(t*=-1,"+"))+Mr(t/60|0,"0",2)+Mr(t%60,"0",2)}function gi(t,n){return Mr(t.getUTCDate(),n,2)}function yi(t,n){return Mr(t.getUTCHours(),n,2)}function vi(t,n){return Mr(t.getUTCHours()%12||12,n,2)}function mi(t,n){return Mr(1+ur.count(hr(t),t),n,3)}function wi(t,n){return Mr(t.getUTCMilliseconds(),n,3)}function _i(t,n){return wi(t,n)+"000"}function xi(t,n){return Mr(t.getUTCMonth()+1,n,2)}function bi(t,n){return Mr(t.getUTCMinutes(),n,2)}function ki(t,n){return Mr(t.getUTCSeconds(),n,2)}function Ai(t){t=t.getUTCDay();return 0===t?7:t}function Mi(t,n){return Mr(lr.count(hr(t)-1,t),n,2)}function Si(t){var n=t.getUTCDay();return 4<=n||0===n?fr(t):fr.ceil(t)}function Ci(t,n){return t=Si(t),Mr(fr.count(hr(t),t)+(4===hr(t).getUTCDay()),n,2)}function Ti(t){return t.getUTCDay()}function Ei(t,n){return Mr(sr.count(hr(t)-1,t),n,2)}function Ni(t,n){return Mr(t.getUTCFullYear()%100,n,2)}function Oi(t,n){return Mr((t=Si(t)).getUTCFullYear()%100,n,2)}function Li(t,n){return Mr(t.getUTCFullYear()%1e4,n,4)}function zi(t,n){var e=t.getUTCDay();return Mr((t=4<=e||0===e?fr(t):fr.ceil(t)).getUTCFullYear()%1e4,n,4)}function Di(){return"+0000"}function ji(){return"%"}function Ii(t){return+t}function Pi(t){return Math.floor(+t/1e3)}function Ri(t){return new Date(t)}function Ui(t){return t instanceof Date?+t:+new Date(+t)}function Bi(e,u,n,r,i,o,a,c,l,s){var f=Ae(),h=f.invert,p=f.domain,d=s(".%L"),g=s(":%S"),y=s("%I:%M"),v=s("%I %p"),m=s("%a %d"),w=s("%b %d"),_=s("%B"),x=s("%Y");function b(t){return(l(t)<t?d:c(t)<t?g:a(t)<t?y:o(t)<t?v:r(t)<t?i(t)<t?m:w:n(t)<t?_:x)(t)}return f.invert=function(t){return new Date(h(t))},f.domain=function(t){return arguments.length?p(Array.from(t,Ui)):p().map(Ri)},f.ticks=function(t){var n=p();return e(n[0],n[n.length-1],null==t?10:t)},f.tickFormat=function(t,n){return null==n?b:s(n)},f.nice=function(t){var n,e,r,i,o,a=p();return(t=!t||"function"!=typeof t.range?u(a[0],a[a.length-1],null==t?10:t):t)?p((e=t,r=0,i=(n=(n=a).slice()).length-1,o=n[r],(t=n[i])<o&&(a=r,r=i,i=a,a=o,o=t,t=a),n[r]=e.floor(o),n[i]=e.ceil(t),n)):f},f.copy=function(){return be(f,Bi(e,u,n,r,i,o,a,c,l,s))},f}function Fi(){return Me.apply(Bi(dr,gr,ar,or,nr,Je,Ke,Qe,Ze,_r).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function qi(t,n){if(t=function(t){for(var n;n=t.sourceEvent;)t=n;return t}(t),n=void 0===n?t.currentTarget:n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}if(n.getBoundingClientRect){r=n.getBoundingClientRect();return[t.clientX-r.left-n.clientLeft,t.clientY-r.top-n.clientTop]}}return[t.pageX,t.pageY]}function Hi(t){return"string"==typeof t?new Z([[document.querySelector(t)]],[document.documentElement]):new Z([[t]],X)}function Gi(t){return"string"==typeof t?new Z([document.querySelectorAll(t)],[document.documentElement]):new Z([d(t)],X)}Xe=wr({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),_r=Xe.format,Xe.parse,Xe.utcFormat,Xe.utcParse;const Yi=Math.PI,Wi=2*Yi,$i=Wi-1e-6;function Vi(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function Xi(){return new Vi}Vi.prototype=Xi.prototype={constructor:Vi,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){var o,a,u=this._x1,c=this._y1,l=(e=+e)-(t=+t),s=(r=+r)-(n=+n),f=u-t,h=c-n,p=f*f+h*h;if((i=+i)<0)throw new Error("negative radius: "+i);null===this._x1?this._+="M"+(this._x1=t)+","+(this._y1=n):1e-6<p&&(1e-6<Math.abs(h*l-s*f)&&i?(a=l*l+s*s,u=(o=e-u)*o+(e=r-c)*e,r=Math.sqrt(a),c=Math.sqrt(p),c=(u=i*Math.tan((Yi-Math.acos((a+p-u)/(2*r*c)))/2))/c,r=u/r,1e-6<Math.abs(c-1)&&(this._+="L"+(t+c*f)+","+(n+c*h)),this._+="A"+i+","+i+",0,0,"+ +(f*e<h*o)+","+(this._x1=t+r*l)+","+(this._y1=n+r*s)):this._+="L"+(this._x1=t)+","+(this._y1=n))},arc:function(t,n,e,r,i,o){t=+t,n=+n,o=!!o;var a=(e=+e)*Math.cos(r),u=e*Math.sin(r),c=t+a,l=n+u,s=1^o,r=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+l:(1e-6<Math.abs(this._x1-c)||1e-6<Math.abs(this._y1-l))&&(this._+="L"+c+","+l),e&&((r=r<0?r%Wi+Wi:r)>$i?this._+="A"+e+","+e+",0,1,"+s+","+(t-a)+","+(n-u)+"A"+e+","+e+",0,1,"+s+","+(this._x1=c)+","+(this._y1=l):1e-6<r&&(this._+="A"+e+","+e+",0,"+ +(r>=Yi)+","+s+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};const Zi=Xi;function Qi(t){return function(){return t}}const Ki=Math.abs,Ji=Math.atan2,to=Math.cos,no=Math.max,eo=Math.min,ro=Math.sin,io=Math.sqrt,oo=1e-12,ao=Math.PI,uo=ao/2,co=2*ao;function lo(t){return 1<=t?uo:t<=-1?-uo:Math.asin(t)}function so(t){return t.innerRadius}function fo(t){return t.outerRadius}function ho(t){return t.startAngle}function po(t){return t.endAngle}function go(t){return t&&t.padAngle}function yo(t,n,e,r,i,o,a){var u=t-e,c=n-r,l=(a?o:-o)/io(u*u+c*c),s=l*c,f=-l*u,h=t+s,p=n+f,a=e+s,c=r+f,l=(h+a)/2,u=(p+c)/2,t=a-h,n=c-p,e=t*t+n*n,r=i-o,o=h*c-a*p,h=(n<0?-1:1)*io(no(0,r*r*e-o*o)),c=(o*n-t*h)/e,a=(-o*t-n*h)/e,p=(o*n+t*h)/e,n=(-o*t+n*h)/e,h=c-l,e=a-u,l=p-l,u=n-u;return l*l+u*u<h*h+e*e&&(c=p,a=n),{cx:c,cy:a,x01:-s,y01:-f,x11:c*(i/r-1),y11:a*(i/r-1)}}function vo(){var T=so,E=fo,N=Qi(0),O=null,L=ho,z=po,D=go,j=null;function n(){var t,n,e,r,i,o,a,u,c,l,s,f,h,p,d,g,y,v,m,w,_,x,b=+T.apply(this,arguments),k=+E.apply(this,arguments),A=L.apply(this,arguments)-uo,M=z.apply(this,arguments)-uo,S=Ki(M-A),C=A<M;if(j=j||(t=Zi()),k<b&&(s=k,k=b,b=s),k>oo?S>co-oo?(j.moveTo(k*to(A),k*ro(A)),j.arc(0,0,k,A,M,!C),b>oo&&(j.moveTo(b*to(M),b*ro(M)),j.arc(0,0,b,M,A,C))):(r=n=A,i=e=M,a=o=S,f=(h=D.apply(this,arguments)/2)>oo&&(O?+O.apply(this,arguments):io(b*b+k*k)),x=_=u=eo(Ki(k-b)/2,+N.apply(this,arguments)),f>oo&&(p=lo(f/b*ro(h)),m=lo(f/k*ro(h)),(o-=2*p)>oo?(r+=p*=C?1:-1,i-=p):(o=0,r=i=(A+M)/2),(a-=2*m)>oo?(n+=m*=C?1:-1,e-=m):(a=0,n=e=(A+M)/2)),s=k*to(n),f=k*ro(n),h=b*to(i),p=b*ro(i),u>oo&&(d=k*to(e),g=k*ro(e),y=b*to(r),v=b*ro(r),S<ao&&(w=function(t,n,e,r,i,o,a,u){var c=e-t,e=r-n,r=a-i;if(!((u=(a=u-o)*c-r*e)*u<oo))return[t+(u=(r*(n-o)-a*(t-i))/u)*c,n+u*e]}(s,f,y,v,d,g,h,p))&&(m=s-w[0],A=f-w[1],M=d-w[0],S=g-w[1],S=1/ro((1<(S=(m*M+A*S)/(io(m*m+A*A)*io(M*M+S*S)))?0:S<-1?ao:Math.acos(S))/2),w=io(w[0]*w[0]+w[1]*w[1]),_=eo(u,(b-w)/(S-1)),x=eo(u,(k-w)/(1+S)))),a>oo?x>oo?(c=yo(y,v,s,f,k,x,C),l=yo(d,g,h,p,k,x,C),j.moveTo(c.cx+c.x01,c.cy+c.y01),x<u?j.arc(c.cx,c.cy,x,Ji(c.y01,c.x01),Ji(l.y01,l.x01),!C):(j.arc(c.cx,c.cy,x,Ji(c.y01,c.x01),Ji(c.y11,c.x11),!C),j.arc(0,0,k,Ji(c.cy+c.y11,c.cx+c.x11),Ji(l.cy+l.y11,l.cx+l.x11),!C),j.arc(l.cx,l.cy,x,Ji(l.y11,l.x11),Ji(l.y01,l.x01),!C))):(j.moveTo(s,f),j.arc(0,0,k,n,e,!C)):j.moveTo(s,f),b>oo&&o>oo?_>oo?(c=yo(h,p,d,g,b,-_,C),l=yo(s,f,y,v,b,-_,C),j.lineTo(c.cx+c.x01,c.cy+c.y01),_<u?j.arc(c.cx,c.cy,_,Ji(c.y01,c.x01),Ji(l.y01,l.x01),!C):(j.arc(c.cx,c.cy,_,Ji(c.y01,c.x01),Ji(c.y11,c.x11),!C),j.arc(0,0,b,Ji(c.cy+c.y11,c.cx+c.x11),Ji(l.cy+l.y11,l.cx+l.x11),C),j.arc(l.cx,l.cy,_,Ji(l.y11,l.x11),Ji(l.y01,l.x01),!C))):j.arc(0,0,b,i,r,C):j.lineTo(h,p)):j.moveTo(0,0),j.closePath(),t)return j=null,t+""||null}return n.centroid=function(){var t=(+T.apply(this,arguments)+ +E.apply(this,arguments))/2,n=(+L.apply(this,arguments)+ +z.apply(this,arguments))/2-ao/2;return[to(n)*t,ro(n)*t]},n.innerRadius=function(t){return arguments.length?(T="function"==typeof t?t:Qi(+t),n):T},n.outerRadius=function(t){return arguments.length?(E="function"==typeof t?t:Qi(+t),n):E},n.cornerRadius=function(t){return arguments.length?(N="function"==typeof t?t:Qi(+t),n):N},n.padRadius=function(t){return arguments.length?(O=null==t?null:"function"==typeof t?t:Qi(+t),n):O},n.startAngle=function(t){return arguments.length?(L="function"==typeof t?t:Qi(+t),n):L},n.endAngle=function(t){return arguments.length?(z="function"==typeof t?t:Qi(+t),n):z},n.padAngle=function(t){return arguments.length?(D="function"==typeof t?t:Qi(+t),n):D},n.context=function(t){return arguments.length?(j=null==t?null:t,n):j},n}Array.prototype.slice;function mo(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function wo(t,n){return n<t?-1:t<n?1:t<=n?0:NaN}function _o(t){return t}function xo(t){this._context=t}function bo(t){return new xo(t)}xo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var ko=Mo(bo);function Ao(t){this._curve=t}function Mo(n){function t(t){return new Ao(n(t))}return t._curve=n,t}function So(t){return t[0]}function Co(t){return t[1]}function To(){return c=Qi(!0),s=bo,f=l=null,a="function"==typeof a?a:void 0===a?So:Qi(a),u="function"==typeof u?u:void 0===u?Co:Qi(u),e.x=function(t){return arguments.length?(a="function"==typeof t?t:Qi(+t),e):a},e.y=function(t){return arguments.length?(u="function"==typeof t?t:Qi(+t),e):u},e.defined=function(t){return arguments.length?(c="function"==typeof t?t:Qi(!!t),e):c},e.curve=function(t){return arguments.length?(s=t,null!=l&&(f=s(l)),e):s},e.context=function(t){return arguments.length?(null==t?l=f=null:f=s(l=t),e):l},t=e.curve(ko),n=t.curve,t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(Mo(t)):n()._curve},t;var t,n,a,u,c,l,s,f;function e(t){var n,e,r,i=(t=mo(t)).length,o=!1;for(null==l&&(f=s(r=Zi())),n=0;n<=i;++n)!(n<i&&c(e=t[n],n,t))===o&&((o=!o)?f.lineStart():f.lineEnd()),o&&f.point(+a(e,n,t),+u(e,n,t));if(r)return f=null,r+""||null}}Ao.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};io(3);const Eo={draw(t,n){n=io(n/ao);t.moveTo(n,0),t.arc(0,0,n,0,co)}};Kt={draw(t,n){n=io(n/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}};const No=io(1/3),Oo=2*No;tn={draw(t,n){var e=io(n/Oo),n=e*No;t.moveTo(0,-e),t.lineTo(n,0),t.lineTo(0,e),t.lineTo(-n,0),t.closePath()}},Gn={draw(t,n){var e=io(n),n=-e/2;t.rect(n,n,e,e)}};ir=ro(ao/10)/ro(7*ao/10);const Lo=ro(co/10)*ir,zo=-to(co/10)*ir;fe={draw(n,t){var e=io(.8908130915292852*t),r=Lo*e,i=zo*e;n.moveTo(0,-e),n.lineTo(r,i);for(let t=1;t<5;++t){var o=co*t/5,a=to(o),o=ro(o);n.lineTo(o*e,-a*e),n.lineTo(a*r-o*i,o*r+a*i)}n.closePath()}};const Do=io(3);se={draw(t,n){n=-io(n/(3*Do));t.moveTo(0,2*n),t.lineTo(-Do*n,-n),t.lineTo(Do*n,-n),t.closePath()}};io(3);const jo=io(3)/2,Io=1/io(12),Po=3*(Io/2+1),Ro=[Eo,Kt,tn,Gn,fe,se,{draw(t,n){var e=io(n/Po),r=e/2,i=e*Io,o=r,a=e*Io+e,n=-o,e=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(n,e),t.lineTo(-.5*r-jo*i,jo*r+-.5*i),t.lineTo(-.5*o-jo*a,jo*o+-.5*a),t.lineTo(-.5*n-jo*e,jo*n+-.5*e),t.lineTo(-.5*r+jo*i,-.5*i-jo*r),t.lineTo(-.5*o+jo*a,-.5*a-jo*o),t.lineTo(-.5*n+jo*e,-.5*e-jo*n),t.closePath()}}];Eo;function Uo(){}function Bo(t){this._context=t}function Fo(t){return new Bo(t)}Bo.prototype={areaStart:Uo,areaEnd:Uo,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};const qo={capture:!0,passive:!1};function Ho(t){t.preventDefault(),t.stopImmediatePropagation()}function Go(t){return((t=Math.exp(t))+1/t)/2}const Yo=function e(h,p,d){function t(t,n){var r,i,o,e,a=t[0],u=t[1],c=t[2],l=n[0],t=n[1],n=n[2],s=l-a,f=t-u,l=s*s+f*f;return(e=l<1e-12?(o=Math.log(n/c)/h,function(t){return[a+t*s,u+t*f,c*Math.exp(h*t*o)]}):(r=Math.sqrt(l),t=(n*n-c*c+d*l)/(2*c*p*r),e=(n*n-c*c-d*l)/(2*n*p*r),i=Math.log(Math.sqrt(t*t+1)-t),o=(Math.log(Math.sqrt(e*e+1)-e)-i)/h,function(t){var n=t*o,e=Go(i),t=c/(p*r)*(e*(t=h*n+i,((t=Math.exp(2*t))-1)/(t+1))-(t=i,((t=Math.exp(i))-1/t)/2));return[a+t*s,u+t*f,c*e/Go(h*n+i)]})).duration=1e3*o*h/Math.SQRT2,e}return t.rho=function(t){var n=Math.max(.001,+t),t=n*n;return e(n,t,t*t)},t}(Math.SQRT2,2,4),Wo=t=>()=>t;function $o(t,{sourceEvent:n,target:e,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Vo(t,n,e){this.k=t,this.x=n,this.y=e}Vo.prototype={constructor:Vo,scale:function(t){return 1===t?this:new Vo(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Vo(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Xo=new Vo(1,0,0);function Zo(t){t.stopImmediatePropagation()}function Qo(t){t.preventDefault(),t.stopImmediatePropagation()}function Ko(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function Jo(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function ta(){return this.__zoom||Xo}function na(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function ea(){return navigator.maxTouchPoints||"ontouchstart"in this}function ra(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],e=t.invertY(n[1][1])-e[1][1];return t.translate(r<i?(r+i)/2:Math.min(0,r)||Math.max(0,i),o<e?(o+e)/2:Math.min(0,o)||Math.max(0,e))}function ia(){var l,s,f,h=Ko,p=Jo,d=ra,o=na,n=ea,a=[0,1/0],g=[[-1/0,-1/0],[1/0,1/0]],u=250,y=Yo,e=at("start","zoom","end"),v=500,c=150,m=0,w=10;function _(t){t.property("__zoom",ta).on("wheel.zoom",i,{passive:!1}).on("mousedown.zoom",S).on("dblclick.zoom",C).filter(n).on("touchstart.zoom",T).on("touchmove.zoom",E).on("touchend.zoom touchcancel.zoom",N).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function x(t,n){return(n=Math.max(a[0],Math.min(a[1],n)))===t.k?t:new Vo(n,t.x,t.y)}function b(t,n,e){var r=n[0]-e[0]*t.k,e=n[1]-e[1]*t.k;return r===t.x&&e===t.y?t:new Vo(t.k,r,e)}function k(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function A(t,e,c,l){t.on("start.zoom",function(){M(this,arguments).event(l).start()}).on("interrupt.zoom end.zoom",function(){M(this,arguments).event(l).end()}).tween("zoom",function(){var t=arguments,r=M(this,t).event(l),n=p.apply(this,t),i=null==c?k(n):"function"==typeof c?c.apply(this,t):c,o=Math.max(n[1][0]-n[0][0],n[1][1]-n[0][1]),n=this.__zoom,a="function"==typeof e?e.apply(this,t):e,u=y(n.invert(i).concat(o/n.k),a.invert(i).concat(o/a.k));return function(t){var n,e;t=1===t?a:(n=u(t),new Vo(e=o/n[2],i[0]-n[0]*e,i[1]-n[1]*e)),r.zoom(null,t)}})}function M(t,n,e){return!e&&t.__zooming||new r(t,n)}function r(t,n){this.that=t,this.args=n,this.active=0,this.sourceEvent=null,this.extent=p.apply(t,n),this.taps=0}function i(t,...n){if(h.apply(this,arguments)){var e=M(this,n).event(t),r=this.__zoom,i=Math.max(a[0],Math.min(a[1],r.k*Math.pow(2,o.apply(this,arguments)))),n=qi(t);if(e.wheel)e.mouse[0][0]===n[0]&&e.mouse[0][1]===n[1]||(e.mouse[1]=r.invert(e.mouse[0]=n)),clearTimeout(e.wheel);else{if(r.k===i)return;e.mouse=[n,r.invert(n)],Ut(this),e.start()}Qo(t),e.wheel=setTimeout(function(){e.wheel=null,e.end()},c),e.zoom("mouse",d(b(x(r,i),e.mouse[0],e.mouse[1]),e.extent,g))}}function S(t,...n){var r,i,e,o,a,u,c;!f&&h.apply(this,arguments)&&(r=t.currentTarget,i=M(this,n,!0).event(t),e=Hi(t.view).on("mousemove.zoom",function(t){{var n,e;Qo(t),i.moved||(n=t.clientX-a,e=t.clientY-u,i.moved=m<n*n+e*e)}i.event(t).zoom("mouse",d(b(i.that.__zoom,i.mouse[0]=qi(t,r),i.mouse[1]),i.extent,g))},!0).on("mouseup.zoom",function(t){e.on("mousemove.zoom mouseup.zoom",null),function(t,n){var e=t.document.documentElement,r=Hi(t).on("dragstart.drag",null);n&&(r.on("click.drag",Ho,qo),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}(t.view,i.moved),Qo(t),i.event(t).end()},!0),o=qi(t,r),a=t.clientX,u=t.clientY,c=t.view,n=c.document.documentElement,c=Hi(c).on("dragstart.drag",Ho,qo),"onselectstart"in n?c.on("selectstart.drag",Ho,qo):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none"),Zo(t),i.mouse=[o,this.__zoom.invert(o)],Ut(this),i.start())}function C(t,...n){var e,r,i,o;h.apply(this,arguments)&&(e=this.__zoom,r=qi(t.changedTouches?t.changedTouches[0]:t,this),i=e.invert(r),o=e.k*(t.shiftKey?.5:2),n=d(b(x(e,o),r,i),p.apply(this,n),g),Qo(t),0<u?Hi(this).transition().duration(u).call(A,n,r,t):Hi(this).call(_.transform,n,r,t))}function T(t,...n){if(h.apply(this,arguments)){var e,r,i,o,a=t.touches,u=a.length,c=M(this,n,t.changedTouches.length===u).event(t);for(Zo(t),r=0;r<u;++r)o=[o=qi(i=a[r],this),this.__zoom.invert(o),i.identifier],c.touch0?c.touch1||c.touch0[2]===o[2]||(c.touch1=o,c.taps=0):(c.touch0=o,e=!0,c.taps=1+!!l);l=l&&clearTimeout(l),e&&(c.taps<2&&(s=o[0],l=setTimeout(function(){l=null},v)),Ut(this),c.start())}}function E(t,...n){if(this.__zooming){var e,r=M(this,n).event(t),i=t.changedTouches,o=i.length;for(Qo(t),e=0;e<o;++e)f=qi(s=i[e],this),r.touch0&&r.touch0[2]===s.identifier?r.touch0[0]=f:r.touch1&&r.touch1[2]===s.identifier&&(r.touch1[0]=f);if(s=r.that.__zoom,r.touch1)var a=r.touch0[0],u=r.touch0[1],c=r.touch1[0],l=r.touch1[1],n=(n=c[0]-a[0])*n+(n=c[1]-a[1])*n,t=(t=l[0]-u[0])*t+(t=l[1]-u[1])*t,s=x(s,Math.sqrt(n/t)),f=[(a[0]+c[0])/2,(a[1]+c[1])/2],l=[(u[0]+l[0])/2,(u[1]+l[1])/2];else{if(!r.touch0)return;f=r.touch0[0],l=r.touch0[1]}r.zoom("touch",d(b(s,f,l),r.extent,g))}}function N(t,...n){if(this.__zooming){var e,r,i=M(this,n).event(t),o=t.changedTouches,a=o.length;for(Zo(t),f&&clearTimeout(f),f=setTimeout(function(){f=null},v),e=0;e<a;++e)r=o[e],i.touch0&&i.touch0[2]===r.identifier?delete i.touch0:i.touch1&&i.touch1[2]===r.identifier&&delete i.touch1;i.touch1&&!i.touch0&&(i.touch0=i.touch1,delete i.touch1),i.touch0?i.touch0[1]=this.__zoom.invert(i.touch0[0]):(i.end(),2===i.taps&&(r=qi(r,this),Math.hypot(s[0]-r[0],s[1]-r[1])<w&&((t=Hi(this).on("dblclick.zoom"))&&t.apply(this,arguments))))}}return _.transform=function(t,n,e,r){var i=t.selection?t.selection():t;i.property("__zoom",ta),t!==i?A(t,n,e,r):i.interrupt().each(function(){M(this,arguments).event(r).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()})},_.scaleBy=function(t,n,e,r){_.scaleTo(t,function(){return this.__zoom.k*("function"==typeof n?n.apply(this,arguments):n)},e,r)},_.scaleTo=function(t,o,a,n){_.transform(t,function(){var t=p.apply(this,arguments),n=this.__zoom,e=null==a?k(t):"function"==typeof a?a.apply(this,arguments):a,r=n.invert(e),i="function"==typeof o?o.apply(this,arguments):o;return d(b(x(n,i),e,r),t,g)},a,n)},_.translateBy=function(t,n,e,r){_.transform(t,function(){return d(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),p.apply(this,arguments),g)},null,r)},_.translateTo=function(t,r,i,o,n){_.transform(t,function(){var t=p.apply(this,arguments),n=this.__zoom,e=null==o?k(t):"function"==typeof o?o.apply(this,arguments):o;return d(Xo.translate(e[0],e[1]).scale(n.k).translate("function"==typeof r?-r.apply(this,arguments):-r,"function"==typeof i?-i.apply(this,arguments):-i),t,g)},o,n)},r.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this).emit("start"),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var n=Hi(this.that).datum();e.call(t,this.that,new $o(t,{sourceEvent:this.sourceEvent,target:_,type:t,transform:this.that.__zoom,dispatch:e}),n)}},_.wheelDelta=function(t){return arguments.length?(o="function"==typeof t?t:Wo(+t),_):o},_.filter=function(t){return arguments.length?(h="function"==typeof t?t:Wo(!!t),_):h},_.touchable=function(t){return arguments.length?(n="function"==typeof t?t:Wo(!!t),_):n},_.extent=function(t){return arguments.length?(p="function"==typeof t?t:Wo([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),_):p},_.scaleExtent=function(t){return arguments.length?(a[0]=+t[0],a[1]=+t[1],_):[a[0],a[1]]},_.translateExtent=function(t){return arguments.length?(g[0][0]=+t[0][0],g[1][0]=+t[1][0],g[0][1]=+t[0][1],g[1][1]=+t[1][1],_):[[g[0][0],g[0][1]],[g[1][0],g[1][1]]]},_.constrain=function(t){return arguments.length?(d=t,_):d},_.duration=function(t){return arguments.length?(u=+t,_):u},_.interpolate=function(t){return arguments.length?(y=t,_):y},_.on=function(){var t=e.on.apply(e,arguments);return t===e?_:t},_.clickDistance=function(t){return arguments.length?(m=(t=+t)*t,_):Math.sqrt(m)},_.tapDistance=function(t){return arguments.length?(w=+t,_):w},_}var oa={circle:0,cross:1,diamond:2,square:3,star:4,triangle:5,wye:6,pie:7,bar:8,image:9,text:10,polygon:11,heart:12,thermograph:13,rect:14,ellipse:15,gradient:16},aa={show:!0,name:"",rotate:-90,dx:0,dy:0,spacing:0,style:{}},ua={show:!0,type:"",name:"",dx:0,dy:0,distance:0,maxLength:.01,innerRadius:0,outerRadius:5,rotate:0,size:5,style:{},positionX:"",positionY:"",data:null,bgcHeight:10,thickness:3,bgcDis:2,bgcStyle:{fill:"#eee"}},ca={type:"heatmap",show:!0,name:"",rotate:0,dx:0,dy:0,min:0,max:0,size:10,style:{},data:[{name:"err",style:{"font-size":"12px"}},{name:"qw",style:{"font-size":"12px"}}]},la={type:"thermograph",show:!0,name:"",rotate:0,dx:0,dy:0,size:10,thickness:5,bgcHeight:10,bgcDis:2,style:{},bgcStyle:{fill:"#eee"},barStyle:{fill:"deepskyblue"},rulerStyle:{"stroke-width":1,stroke:"#999"},rulerDx:0,rulerDy:0,label:[]},sa={type:"ellipse",show:!0,name:"",rotate:0,dx:0,dy:0,cx:5,cy:3,rx:10,ry:6,style:{}},fa={type:"circle",show:!0,name:"",rotate:0,dx:0,dy:0,size:1,style:{}},ha={type:"polygon",show:!0,name:"",rotate:0,dx:0,dy:0,size:5,side:5,style:{}},pa={type:"heart",show:!0,name:"",rotate:0,dx:0,dy:0,size:1,style:{}},da={type:"rectangle",show:!0,name:"",rotate:0,dx:0,dy:0,width:10,height:10,style:{}},ga={type:"rect",show:!0,name:"",rotate:0,dx:0,dy:0,height:10,width:5,style:{},label:[]},ya={type:"text",show:!0,name:"Q",rotate:0,dx:0,dy:0,position:"start",style:{}},va={type:"pie",show:!0,rotate:0,dx:0,dy:0,innerRadius:0,outerRadius:5,style:{},data:[{name:"qw",value:12,style:{fill:"","font-size":"12px"}},{name:"err",value:45,style:{fill:"#aaa","font-size":"12px"}},{name:"tty",value:19,style:{fill:"#333","font-size":"12px"}}]},ma={type:"bar",show:!0,name:"",rotate:0,dx:0,dy:0,min:0,max:0,size:10,style:{},data:[{name:"",value:12,style:{}},{name:"",value:18,style:{}},{name:"",value:22,style:{}}]},wa={type:"image",show:!0,name:"",href:"",rotate:0,dx:0,dy:0,width:15,height:15,style:{}},_a={dx:0,dy:0,distance:0,name:"0.474",type:"star",style:{fill:""},symbol:{style:{fill:""}}},xa=Object.freeze({content:"",width:0,height:0,sort:"",size:[],position:[30,30],separation:15,language:"en",scale:1,rotationAngle:0,isPhylogram:!0,isWheelZoom:!0,minimap:{show:!1,scaleInit:.1,scaleRange:[.5,1.5]},label:[],linearGradient:[],radialGradient:[],scaleLinear:{show:!0,ticks:10,type:"line",domain:[0,0],range:[0,0],timeFormat:"%Y",dx:0,dy:0,position:"top",category:["sign"],style:{stroke:"#000","stroke-width":.5},yLine:{show:!0,style:{opacity:.1,"stroke-dasharray":3}},xTick:{show:!0,length:4,dx:0,dy:0,style:{}},label:{show:!0,dx:0,dy:0,suffix:"",style:{fill:"#000","text-anchor":"middle","font-size":8,stroke:"transparent"}},data:[]},style:{},stretch:{show:!1,data:[]},leafs:{show:!0,dx:0,dy:0,distance:1,style:{"font-size":10,"font-family":"Georgia"},data:{xxxxx:{dx:0,dy:0,style:{"font-size":10}}}},nodes:{name:{show:!1,mark:"node",dx:0,dy:0,style:{fill:"#000"}},value:{show:!1,mark:"all",dx:0,dy:0,position:"start",style:{}},symbol:{show:!1,xxxxx:{},type:"circle",mark:"all",dx:0,dy:0,size:5,distance:0,maxLength:.01,innerRadius:0,outerRadius:5,style:{fill:"#ddd",stroke:"#666",cursor:"pointer"},data:[]}},links:{type:"elbow",style:{fill:"none",stroke:"#333"}},extension:{show:!0,style:{"stroke-dasharray":3,"stroke-width":1,opacity:.5}},collapse:{show:!0,dx:0,dy:0,rotate:0,size:[30,15],style:{opacity:1,fill:"lime",stroke:"purple","stroke-width":1,cursor:"pointer"}},highlight:{leafs:["Halostagnicola_kamekurae_90.325%","Halostagnicola_kamekurae_90.325%"],style:{fill:"red"}},division:{show:!1,data:[]},mask:{show:!1,dx:0,dy:0,isAnnulus:!1,padding:[0,0],style:{opacity:.2}},legend:{show:!1,dx:0,dy:0,distance:0,data:[]},tooltip:{show:!1,data:{xxxxx:{label:"",value:""}}},sign:{show:!1,dx:0,dy:0,distance:0,ringMargin:0,style:{"font-size":10},data:[]}}),Jt=Bu(379),Xe=Bu.n(Jt),ir=Bu(795),Kt=Bu.n(ir),tn=Bu(569),Gn=Bu.n(tn),fe=Bu(565),se=Bu.n(fe),Jt=Bu(216),ir=Bu.n(Jt),tn=Bu(589),fe=Bu.n(tn),Jt=Bu(145),tn={};tn.styleTagTransform=fe(),tn.setAttributes=se(),tn.insert=Gn().bind(null,"head"),tn.domAPI=Kt(),tn.insertStyleElement=ir();Xe()(Jt.Z,tn),Jt.Z&&Jt.Z.locals&&Jt.Z.locals;function ba(t,n){var e="";if(t.children&&0!==t.children.length){e+="(";for(var r=0;r<t.children.length;r++)0<r&&(e+=","),e+=ba(t.children[r],n);e+=")"}if(void 0!==t.name&&(e+='"'+t.name+'"'),void 0!==t.hybridID&&(e+="#"+t.hybridID),n){var i=Object.keys(t.annotation);if(0<i.length){e+="[&";for(var o=0;o<i.length;o++){var a=i[o];0<o&&(e+=","),e+='"'+a+'"=',t.annotation[a]instanceof Array?e+="{"+String(t.annotation[a])+"}":e+='"'+t.annotation[a]+'"'}e+="]"}}return void 0!==t.length?e+=":"+t.length:e+=":0.0",e}var ka="http://www.phyloxml.org";function Aa(t){var n,e=document.implementation.createDocument(ka,"phyloxml");return void 0!==t.root&&((n=e.createElementNS(ka,"phylogeny")).setAttribute("rooted","true"),n.appendChild(function t(n,e){var r,i=e.createElementNS(ka,"clade");for(key in void 0!==n.name&&""!==n.name&&((r=e.createElementNS(ka,"name")).textContent=n.name,i.appendChild(r)),n.annotation){var o=e.createElementNS(ka,"property");o.setAttribute("applies_to","node"),o.setAttribute("datatype","xsd:string"),o.setAttribute("ref",key),o.textContent=n.annotation[key],i.appendChild(o)}if(void 0!==n.length&&i.setAttribute("branch_length",n.length),n.children)for(var a=0;a<n.children.length;a++)i.appendChild(t(n.children[a],e));return i}(t.root,e)),e.documentElement.appendChild(n)),(new XMLSerializer).serializeToString(e)}var Ma="http://www.nexml.org/2009",Sa="http://www.w3.org/2001/XMLSchema-instance";function Ca(t){var n=document.implementation.createDocument(Ma,"nexml");if(n.documentElement.setAttribute("version","0.9"),n.documentElement.setAttribute("xmlns:nex",Ma),n.documentElement.setAttribute("xmlns:xsi",Sa),void 0!==t.root){var e=n.createElementNS(Ma,"otus");e.setAttribute("id","taxa"),e.setAttribute("label","RootTaxaBlock");for(var r=0;r<t.leafList.length;r++){var i=n.createElementNS(Ma,"otu");i.setAttribute("id","t"+t.leafList[r].id),e.appendChild(i)}n.documentElement.appendChild(e);var o=n.createElementNS(Ma,"trees");o.setAttribute("id","trees"),o.setAttribute("otus","taxa"),n.documentElement.appendChild(o);var a=n.createElementNS(Ma,"tree");a.setAttribute("id","tree1"),a.setAttribute("xsi:type","nex:FloatTree"),function t(n,e,r){var i=e.createElementNS(Ma,"node");if(n.parent||i.setAttribute("root","true"),i.setAttribute("otu","t"+n.id),i.setAttribute("id","n"+n.id),n.name&&i.setAttribute("label",n.name),0<Object.keys(n.annotation).length){i.setAttribute("about","#n"+n.id);var o,a=0;for(o in n.annotation){var u=e.createElementNS(Ma,"meta");u.setAttribute("datatype","string"),u.setAttribute("xsi:type","nex:LiteralMeta"),u.setAttribute("id","n"+n.id+"_m"+a),u.setAttribute("property",o),u.setAttribute("content",n.annotation[o]),a+=1,i.appendChild(u)}}if(r.appendChild(i),n.children)for(var c=0;c<n.children.length;c++){var l=n.children[c],s=e.createElementNS(Ma,"edge");s.setAttribute("id","e"+l.id+"_"+n.id),s.setAttribute("source","n"+n.id),s.setAttribute("target","n"+l.id),l.length&&s.setAttribute("length",l.length),r.appendChild(s),t(l,e,r)}}(t.root,n,a),o.appendChild(a)}return(new XMLSerializer).serializeToString(n)}function Ta(n,t){var e,r=Object.keys(n);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(n),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,e)),r}function Ea(r){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Ta(Object(i),!0).forEach(function(t){var n,e;n=r,t=i[e=t],e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Ta(Object(i)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(i,t))})}return r}function Na(t){var n,e,r=t.type;return(t=t.root)?(t=za(t),"nwk"==r?(e="",void 0!==(n={root:t}).root&&(e+=ba(n.root)+";"),e):"nexml"==r?Ca({root:t,leafList:qa([t])}):"nexus"==r?(n="#NEXUS\n\nbegin trees;\n",void 0!==(e={root:t}).root&&(n+="\ttree tree_1 = [&R] "+ba(e.root,!0)+";\n"),n+="end;"):"phyloxml"==r?Aa({root:t}):void 0):""}function Oa(t){return{width:(t=document.querySelector(t)).offsetWidth,height:t.offsetHeight}}function La(t,n){var e,r,i=n.radialGradient;(n=n.linearGradient)&&0<n.length&&(e=t.append("defs"),n.forEach(function(t){e.append("linearGradient").attr("id",t.id).attr("x1",t.x1).attr("y1",t.y1).attr("x2",t.x2).attr("y2",t.y2).selectAll("stop").data(t.stop).enter().append("stop").attr("offset",function(t){return t.offset}).attr("stop-color",function(t){return t.color})})),i&&0<i.length&&(r=t.append("defs"),i.forEach(function(t){r.append("radialGradient").attr("cx",t.cx).attr("cy",t.cy).attr("r",t.r).attr("fx",t.fx).attr("fy",t.fy).selectAll("stop").data(t.stop).enter().append("stop").attr("offset",function(t){return t.offset}).attr("stop-color",function(t){return t.color})}))}function za(t){return function n(t){t.annotation=t.data.annotation,t.hybridID=t.data.hybridID,t.name=t.data.name,t.id=t.data.id,t.length=t.data.orLength||t.data.length,t.children&&0<t.children.length&&t.children.forEach(function(t){n(t)})}(t),t}function Da(t,n){return t=n&&"bar"==n.type?Ya(t,Ea(Ea({},ma),n)):n&&"pie"==n.type?Ga(t,Ea(Ea({},va),n)):n&&"image"==n.type?Wa(t,Ea(Ea({},wa),n)):n&&"text"==n.type?Ka(t,Ea(Ea({},ya),n)):n&&"polygon"==n.type?Za(t,Ea(Ea({},ha),n)):n&&"heart"==n.type?Xa(t,Ea(Ea({},pa),n)):n&&"thermograph"==n.type?Qa(t,Ea(Ea({},la),n)):n&&"rect"==n.type?$a(t,Ea(Ea({},ga),n)):n&&"ellipse"==n.type?Ja(t,Ea(Ea({},sa),n)):n&&"gradient"==n.type?Va(t,Ea(Ea({},ga),n)):t.append("path").attr("d",function(n,e){let r=null;function i(){let t;if(r=r||(t=Zi()),n.apply(this,arguments).draw(r,+e.apply(this,arguments)),t)return r=null,t+""||null}return n="function"==typeof n?n:Qi(n||Eo),e="function"==typeof e?e:Qi(void 0===e?64:+e),i.type=function(t){return arguments.length?(n="function"==typeof t?t:Qi(t),i):n},i.size=function(t){return arguments.length?(e="function"==typeof t?t:Qi(+t),i):e},i.context=function(t){return arguments.length?(r=null==t?null:t,i):r},i}().type(function(){return Ro[oa[n.type]||0]}).size(20*(n.size||1))),n.style&&t.attr("style",Ua(n.style)),n.name&&t.append("title").text(n.name),t}function ja(t){t.filter(function(t){return t.label&&t.label.name}).append("text").attr("transform",function(t){return"translate("+(t.label.dx||0)+","+(t.label.dy||0)+")"+"rotate(".concat(t.label.rotate||0,")")}).attr("dy",".35em").attr("style",function(t){return Ua(t.label.style)}).text(function(t){return t.label.name}),t.filter(function(t){return t.symbol&&t.symbol.type}).each(function(t){Da(Hi(this),t.symbol).attr("transform",function(t){return"translate("+((t.symbol.dx||0)-10)+","+(t.symbol.dy||0)+")"+"rotate(".concat(t.symbol.rotate||0,")")})})}function Ia(t,n){return"leaf"==n?!t.target.children:"node"!=n||t.target.children}function Pa(t,n){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},i={};if(!n)return{};var o=n.toLowerCase();return t.forEach(function(t){for(var n=t.leafs,e=0;e<n.length;e++)if(n[e]){var r=n[e].toLowerCase();if(-1<o.indexOf(r)){i=t.style;break}}}),Ea(Ea({},e),i)}function Ra(t,n){var e=t.position,r=t.positionX,i=t.positionY,t=n.width,n=n.height;return"start"==(e=[r||e,i||e])[0]?e[0]=t/2:"end"==e[0]?e[0]=-t/2:e[0]=0,"start"==e[1]?e[1]=n/2:"end"==e[1]?e[1]=-n/2:e[1]=0,e}var Ua=function(t){if(!t)return null;var n,e="";for(n in t)t[n]&&(e+="".concat(n,":").concat(t[n],";"));return e||null},Ba=function(t){return"[object Object]"===Object.prototype.toString.call(t)};function Fa(){var t=Array.from(arguments);if(t.length<2)return t[0];var e=t[0];return t.shift(),t.forEach(function(t){if(Ba(t))for(var n in Ba(e)||(e={}),t)e[n]&&Ba(t[n])?e[n]=Fa(e[n],t[n]):e[n]=t[n];else t instanceof Array&&(e instanceof Array||(e=[]),t.forEach(function(t,n){Ba(t)?e[n]=Fa(e[n]):e[n]=t}))}),e}function qa(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"children",r=[];return function n(t){t.forEach(function(t){t[e]?n(t[e]):r.push(t)})}(t),r}function Ha(t,i){return function e(r){for(var t=0;t<r.length;t++)!function(t){var n=r[t];n.orLength=n.length,n.children&&e(n.children),i.forEach(function(t){t.name?n.name==t.name&&(n.length=n.length*t.multiple,n.stretch=t):t.branch?n.orLength==t.branch&&(n.length=n.length*t.multiple,n.stretch=t):t.maxLength&&+t.maxLength<n.orLength&&(n.length=n.length*t.multiple,n.stretch=t)})}(t)}(t),t}function Ga(t,n){var e=n.innerRadius,r=n.outerRadius,i=n.data,o=n.size;i&&0!=i.length||(i=[{value:.3,style:{fill:"#F56C6C"}},{value:.3,style:{fill:"#67C23A"}},{value:.3,style:{fill:"#409EFF"}}]);var p,d,g,y,v,m,n=(p=_o,d=wo,g=null,y=Qi(0),v=Qi(co),m=Qi(0),a.value=function(t){return arguments.length?(p="function"==typeof t?t:Qi(+t),a):p},a.sortValues=function(t){return arguments.length?(d=t,g=null,a):d},a.sort=function(t){return arguments.length?(g=t,d=null,a):g},a.startAngle=function(t){return arguments.length?(y="function"==typeof t?t:Qi(+t),a):y},a.endAngle=function(t){return arguments.length?(v="function"==typeof t?t:Qi(+t),a):v},a.padAngle=function(t){return arguments.length?(m="function"==typeof t?t:Qi(+t),a):m},a.value(function(t){return t.value}));function a(e){for(var t,n,r,i=(e=mo(e)).length,o=0,a=new Array(i),u=new Array(i),c=+y.apply(this,arguments),l=Math.min(co,Math.max(-co,v.apply(this,arguments)-c)),s=Math.min(Math.abs(l)/i,m.apply(this,arguments)),f=s*(l<0?-1:1),h=0;h<i;++h)0<(r=u[a[h]=h]=+p(e[h],h,e))&&(o+=r);for(null!=d?a.sort(function(t,n){return d(u[t],u[n])}):null!=g&&a.sort(function(t,n){return g(e[t],e[n])}),h=0,t=o?(l-i*f)/o:0;h<i;++h,c=n)n=a[h],r=u[n],u[n]={data:e[n],index:h,value:r,startAngle:c,endAngle:n=c+(0<r?r*t:0)+f,padAngle:s};return u}return o=vo().innerRadius(e||0).outerRadius((r||o||5)+2),(t=t.append("g")).selectAll("g").data(n(i)).enter().append("path").attr("d",o).each(function(t){t.data.style&&Hi(this).attr("style",Ua(t.data.style))}),t}function Ya(t,n){var e=n.distance,r=n.data,i=n.size;r&&0!=r.length||(r=[{value:6,style:{fill:"#F56C6C"}},{value:8,style:{fill:"#67C23A"}},{value:10,style:{fill:"#409EFF"}}]);var o=((i*=2)-e*r.length)/r.length,a=nt(r.map(function(t){return t.value}));return(t=t.append("g")).selectAll("rect").data(r).enter().append("rect").attr("x",function(t,n){return n*(o+e)-i/2}).attr("y",function(t,n){return-a/2}).attr("width",function(){return o}).attr("height",function(t){return t.value}).each(function(t){t.style&&Hi(this).attr("style",Ua(t.style))}),t}function Wa(t,n){var e=n.href,r=n.width,i=n.height;return n.style,t.append("image").attr("href",e).attr("x",function(){var t=this.getBBox();return-(r=r||t.width)/2}).attr("y",function(){var t=this.getBBox();return-(i=i||t.height)/2}).attr("height",function(){var t=this.getBBox();return i||t.height}).attr("width",function(){var t=this.getBBox();return r||t.width})}function $a(t,n){var e=n.width,r=n.height;return n.position,t.append("rect").attr("x",function(){var t=this.getBBox();return-(e=e||t.width)/2}).attr("y",function(){var t=this.getBBox();return-(r=r||t.height)/2}).attr("height",function(){var t=this.getBBox();return r||t.height}).attr("width",function(){var t=this.getBBox();return e||t.width})}function Va(u,t){var i=t.width,c=t.height,n=t.label,l=void 0===n?[]:n,s=t.dx,t=(t.dy,u.append("rect").attr("x",function(){var t=this.getBBox();return-(i=i||t.width)/2}).attr("height",function(){return c}).attr("width",function(){return i}));return 0<l.length&&function(){for(var o=c/(l.length-1),a=[],t=0;t<l.length;t++)!function(r){var i=l[r];u.append("text").text(i.name).attr("dy",".35em").attr("style",Ua(i.style)).attr("transform",function(){var t=i.dx||0,n=(i.dy||0)+o*r,e="translate(".concat(t,",").concat(n,") rotate(").concat(i.rotate||0,")");return a.push({dx:t,dy:n}),e})}(t);var n=c<i?c:i,e=n/4,r=-10+s-n/2;u.selectAll(".gra-cut").data(a).enter().append("path").attr("class","gra-cut").attr("style",Ua({"stroke-width":"1px",stroke:"#fff"})).attr("d",function(){return"M0 0 L".concat(e," 0 M").concat(3*e," 0 L").concat(4*e," 0")}).attr("transform",function(t){return"translate(".concat(t.dx+r,",").concat(t.dy,")")})}(),t}function Xa(t,n){var g=n.size||5;return(n={}).d={fin:function(t){var n=-(p=((0<arguments.length&&void 0!==t?t:1)*g/Math.SQRT2).toFixed(3)),e=2*p,r=-p,i=2*p,o=p,a=3*p,u=-2*p,c=3*p,l=.551915,s=1-l,f=(0+l*(d=p)).toFixed(3),h=(s*n+l*u).toFixed(3),t=(s*e+l*d).toFixed(3),p=(s*r+l*u).toFixed(3),d=(s*e+l*c).toFixed(3),u=(s*r+0).toFixed(3),c=(s*i+l*c).toFixed(3),s=(s*o+0).toFixed(3);return[[0,a],[0,a],[-i,o],[-c,s],[-d,u],[-e,r],[-t,p],[-f,h],[0,n],[f,h],[t,p],[e,r],[d,u],[c,s],[i,o]]}(),afn:function(t){return t.reduce(function(t,n,e){return t+(e%3?" ":"C")+n},"M".concat(t[t.length-1]))}},(t=t.append("g")).append("path").attr("d",n.d.afn(n.d.fin)),t}function Za(t,n){var e=n.size,r=void 0===(n=n.side)?5:n,n=To().angle(function(t,n){return n/r*2*Math.PI}).curve(Fo).radius(function(){return e+3});return(t=t.append("g")).append("path").attr("d",n({length:r})),t}function Qa(t,n){var e=n.bgcDis,r=void 0===e?2:e,i=n.size,o=n.thickness,a=n.bgcHeight,u=n.style,c=n.bgcStyle,l=n.barStyle,s=n.rulerDx,f=n.rulerDy,h=(n.dx,n.dy),p=void 0===(e=n.label)?[]:e,d=n.rulerStyle,g=[{height:a,width:o+2*r,style:c},{height:i,width:o,style:l,dx:r,dy:a-i}],y=(t=t.append("g")).append("g").attr("style",Ua(u)).attr("transform","translate(".concat(-3,",").concat(h||0,")"));return y.selectAll("rect").data(g).enter().append("rect").attr("x",function(t){return t.dx}).attr("y",function(t,n){return t.dy}).attr("width",function(t){return t.width}).attr("height",function(t){return t.height}).attr("style",function(t){return Ua(t.style)}),0<p.length&&function(){var t=y.append("g").attr("transform","translate(".concat(g[0].width+3+s,",").concat(f,")"));t.append("line").attr("style",Ua(d)).attr("y1",0).attr("y2",a).attr("x1",0).attr("x2",0);for(var i=a/(p.length-1),n=0;n<p.length;n++)!function(e){var r=p[e];t.append("line").attr("style",Ua(d)).attr("x1",0).attr("y1",i*e).attr("x2",2).attr("y2",i*e),t.append("text").text(r.name).attr("dy",".35em").attr("style",Ua(r.style)).attr("transform",function(){var t=r.dx||0,n=(r.dy||0)+i*e;return"translate(".concat(t+2+3,",").concat(n,") rotate(").concat(r.rotate||0,")")})}(n)}(),t}function Ka(t,n){return n=n.name,t.append("text").text(n).attr("dy",".35em").attr("x",function(){return-this.getBBox().width/2})}function Ja(t,n){var e=n.cx,r=n.cy,i=void 0===(i=n.rx)?10:i,n=void 0===(n=n.ry)?6:n;return t.append("ellipse").attr("cx",e||i/2).attr("cy",r||n/2).attr("rx",i).attr("ry",n)}function tu(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nu(t,n){var e=t.el,r=t.value;Gi(e+" .phy-edit").remove(),(t=document.createElement("div")).className="phy-edit",t.innerHTML='<div class="phy-edit-inner">\n                <div class="header"><label>编辑</label><span class="close">X</span></div>\n                <textarea class="edit-textarea"   placeholder="Example：(A:0.2,B:0.5)0.87;" rows="3" cols="20"></textarea>\n                <div class="footer">\n                  <span class="cancel">取消</span> <span class="confirm">确定</span>\n                </div>\n             </div>';var i=document.querySelector(e);i.appendChild(t),r&&(i.querySelector(".edit-textarea").value=r),i.querySelector(".close").onclick=function(){Gi(e+" .phy-edit").remove()},i.querySelector(".cancel").onclick=function(){Gi(e+" .phy-edit").remove()},i.querySelector(".confirm").onclick=function(){n(i.querySelector(".edit-textarea").value),Gi(e+" .phy-edit").remove()}}function eu(t){var n=document.querySelector(t+" .outer .svg-warp")||document.querySelector(t+" .svg-warp"),e=(document.querySelector(t+" .canvas")||document.querySelector(t+" .svg-warp")).getBBox(),t=Hi("body").append("svg").attr("class","down-svg").attr("width",e.width+120).attr("height",e.height+60).html(n.outerHTML);return(n=t.select(".down-svg .radial"))?n.attr("transform","translate(".concat(e.width/2+30,",").concat(e.height/2+30,")")):t.select(".down-svg .svg-warp").attr("transform","translate(5,10)"),t=document.querySelector(".down-svg"),Gi(".down-svg").remove(),t}function ru(t,n){var e,r,i,o;n&&(n.data||n.title)&&((e=document.createElement("div")).setAttribute("class","phy-tip-warp"),n.position&&"right"==n.position?(i=document.documentElement.clientWidth,e.style.right=i-t.x+"px"):e.style.left=t.x+"px",e.style.top=t.y+"px",(r=document.createElement("div")).setAttribute("class","phy-tip-inner"),i="<h3>".concat(n.title,"</h3>"),o="<ul>",n.data&&n.data.forEach(function(t){o+="<li>".concat(t.label,"：").concat(t.value,"</li>")}),o+="</ul>",t="",n.title&&(t=i),n.data&&(t+=o),r.innerHTML=t,e.appendChild(r),document.querySelector(n.el).appendChild(e))}function iu(t){return t instanceof HTMLElement||t instanceof SVGElement}function ou(t){if(!iu(t))throw new Error("an HTMLElement or SVGElement is required; got "+t)}function au(e){return new Promise(function(t,n){iu(e)?t(e):n(new Error("an HTMLElement or SVGElement is required; got "+e))})}function uu(t,n,e){return null==(e=t.viewBox&&t.viewBox.baseVal&&t.viewBox.baseVal[e]||null!==n.getAttribute(e)&&!n.getAttribute(e).match(/%$/)&&parseInt(n.getAttribute(e))||t.getBoundingClientRect()[e]||parseInt(n.style[e])||parseInt(window.getComputedStyle(t).getPropertyValue(e)))||isNaN(parseFloat(e))?0:e}function cu(t){for(var n=window.atob(t.split(",")[1]),e=t.split(",")[0].split(":")[1].split(";")[0],t=new ArrayBuffer(n.length),r=new Uint8Array(t),i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return new Blob([t],{type:e})}function lu(t){return Promise.all(Array.from(t.querySelectorAll("image")).map(function(i){var t,o=i.getAttributeNS("http://www.w3.org/1999/xlink","href")||i.getAttribute("href");return o?((t=o)&&0===t.lastIndexOf("http",0)&&-1===t.lastIndexOf(window.location.host)&&(o+=(-1===o.indexOf("?")?"?":"&")+"t="+(new Date).valueOf()),new Promise(function(t,n){var e=document.createElement("canvas"),r=new Image;r.crossOrigin="anonymous",r.src=o,r.onerror=function(){return n(new Error("Could not load "+o))},r.onload=function(){e.width=r.width,e.height=r.height,e.getContext("2d").drawImage(r,0,0),i.setAttributeNS("http://www.w3.org/1999/xlink","href",e.toDataURL("image/png")),t(!0)}})):Promise.resolve(null)}))}function su(r,t){var n=t||{},e=n.selectorRemap,i=n.modifyStyle,o=n.modifyCss,t=n.fonts,a=n.excludeUnusedCss,u=o||function(t,n){return(e?e(t):t)+"{"+(i?i(n):n)+"}\n"},c=[],l=void 0===t,s=t||[];return(xu=xu||Array.from(document.styleSheets).map(function(n){try{return{rules:n.cssRules,href:n.href}}catch(t){return console.warn("Stylesheet could not be loaded: "+n.href,t),{}}})).forEach(function(t){var n=t.rules,e=t.href;n&&Array.from(n).forEach(function(t){var n;void 0!==t.style&&(!function(t,n){if(n)try{return t.querySelector(n)||t.parentNode&&t.parentNode.querySelector(n)}catch(t){console.warn('Invalid CSS selector "'+n+'"',t)}}(r,t.selectorText)?l&&t.cssText.match(/^@font-face/)?(n=function(t,n){var e=t.cssText.match(yu),e=e&&e[1]||"";if(e&&!e.match(/^data:/)&&"about:blank"!==e){e=e.startsWith("../")?n+"/../"+e:e.startsWith("./")?n+"/."+e:e;return{text:t.cssText,format:mu(e),url:e}}}(t,e))&&s.push(n):a||c.push(t.cssText):c.push(u(t.selectorText,t.style.cssText)))})}),Promise.all(s.map(function(r){return new Promise(function(n,t){if(_u[r.url])return n(_u[r.url]);var e=new XMLHttpRequest;e.addEventListener("load",function(){var t=wu(e.response),t=r.text.replace(yu,'url("data:'+r.format+";base64,"+t+'")')+"\n";_u[r.url]=t,n(t)}),e.addEventListener("error",function(t){console.warn("Failed to load font from: "+r.url,t),_u[r.url]=null,n(null)}),e.addEventListener("abort",function(t){console.warn("Aborted loading font from: "+r.url,t),n(null)}),e.open("GET",r.url),e.responseType="arraybuffer",e.send()})})).then(function(t){return t.filter(function(t){return t}).join("")}).then(function(t){return c.join("\n")+t})}function fu(){if(!(navigator.msSaveOrOpenBlob||"download"in document.createElement("a")))return{popup:window.open()}}var hu=function(){function n(t){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.el=t}var t,e,r;return t=n,(e=[{key:"show",value:function(){this.hide(),Hi("".concat(this.el)).append("div").attr("class","loading-warp").html('<div class="loading-svg"><div class="inner"></div></div>')}},{key:"hide",value:function(){Gi(".loading-warp").remove()}}])&&tu(t.prototype,e),r&&tu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),n}(),pu={},du="http://www.w3.org/2000/xmlns/",gu="http://www.w3.org/2000/svg",yu=/url\(["']?(.+?)["']?\)/,vu={woff2:"font/woff2",woff:"font/woff",otf:"application/x-font-opentype",ttf:"application/x-font-ttf",eot:"application/vnd.ms-fontobject",sfnt:"application/font-sfnt",svg:"image/svg+xml"},mu=function(n){var t=Object.keys(vu).filter(function(t){return 0<n.indexOf("."+t)}).map(function(t){return vu[t]});return t?t[0]:(console.error("Unknown font format for "+n+". Fonts may not be working correctly."),"application/octet-stream")},wu=function(t){for(var n="",e=new Uint8Array(t),r=0;r<e.byteLength;r++)n+=String.fromCharCode(e[r]);return window.btoa(n)},_u={},xu=null;pu.prepareSvg=function(o,a,u){ou(o);var t=a||{},n=t.left,c=void 0===n?0:n,n=t.top,l=void 0===n?0:n,s=t.width,f=t.height,n=t.scale,h=void 0===n?1:n,n=t.responsive,p=void 0!==n&&n,t=t.excludeCss,d=void 0!==t&&t;return lu(o).then(function(){var e=o.cloneNode(!0);e.style.backgroundColor=(a||{}).backgroundColor||o.style.backgroundColor;var t=function(t,n,e,r){if("svg"===t.tagName)return{width:e||uu(t,n,"width"),height:r||uu(t,n,"height")};if(t.getBBox){r=t.getBBox(),n=r.x,t=r.y;return{width:n+r.width,height:t+r.height}}}(o,e,s,f),r=t.width,i=t.height;if("svg"!==o.tagName){if(!o.getBBox)return void console.error("Attempted to render non-SVG element",o);null!=e.getAttribute("transform")&&e.setAttribute("transform",e.getAttribute("transform").replace(/translate\(.*?\)/,""));var n=document.createElementNS("http://www.w3.org/2000/svg","svg");n.appendChild(e),e=n}if(e.setAttribute("version","1.1"),e.setAttribute("viewBox",[c,l,r,i].join(" ")),e.getAttribute("xmlns")||e.setAttributeNS(du,"xmlns",gu),e.getAttribute("xmlns:xlink")||e.setAttributeNS(du,"xmlns:xlink","http://www.w3.org/1999/xlink"),p?(e.removeAttribute("width"),e.removeAttribute("height"),e.setAttribute("preserveAspectRatio","xMinYMin meet")):(e.setAttribute("width",r*h),e.setAttribute("height",i*h)),Array.from(e.querySelectorAll("foreignObject > *")).forEach(function(t){t.setAttributeNS(du,"xmlns","svg"===t.tagName?gu:"http://www.w3.org/1999/xhtml")}),!d)return su(o,a).then(function(t){var n=document.createElement("style");n.setAttribute("type","text/css"),n.innerHTML="<![CDATA[\n"+t+"\n]]>";t=document.createElement("defs");t.appendChild(n),e.insertBefore(t,e.firstChild);t=document.createElement("div");t.appendChild(e);t=t.innerHTML.replace(/NS\d+:href/gi,'xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href');if("function"!=typeof u)return{src:t,width:r,height:i};u(t,r,i)});n=document.createElement("div");n.appendChild(e);n=n.innerHTML;if("function"!=typeof u)return{src:n,width:r,height:i};u(n,r,i)})},pu.svgAsDataUri=function(t,n,r){return ou(t),pu.prepareSvg(t,n).then(function(t){var n=t.src,e=t.width,t=t.height,n="data:image/svg+xml;base64,"+window.btoa(decodeURIComponent(encodeURIComponent('<?xml version="1.0" standalone="no"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd" [<!ENTITY nbsp "&#160;">]>'+n).replace(/%([0-9A-F]{2})/g,function(t,n){n=String.fromCharCode("0x"+n);return"%"===n?"%25":n})));return"function"==typeof r&&r(n,e,t),n})},pu.svgAsPngUri=function(t,n,a){ou(t);function i(t){var n=t.src,e=t.width,r=t.height,i=document.createElement("canvas"),o=i.getContext("2d"),t=window.devicePixelRatio||1;i.width=e*t,i.height=r*t,i.style.width=i.width+"px",i.style.height=i.height+"px",o.setTransform(t,0,0,t,0,0),l?l(i,n):o.drawImage(n,0,0),n=void 0;try{n=i.toDataURL(u,c)}catch(t){if("undefined"!=typeof SecurityError&&t instanceof SecurityError||"SecurityError"===t.name)return void console.error("Rendered SVG images cannot be downloaded in this browser.");throw t}return"function"==typeof a&&a(n,i.width,i.height),Promise.resolve(n)}var e=n||{},r=e.encoderType,u=void 0===r?"image/png":r,r=e.encoderOptions,c=void 0===r?.8:r,l=e.canvg;return l?pu.prepareSvg(t,n).then(i):pu.svgAsDataUri(t,n).then(function(r){return new Promise(function(t,n){var e=new Image;e.onload=function(){return t(i({src:e,width:e.width,height:e.height}))},e.onerror=function(){n("There was an error loading the data URI as an image on the following SVG\n"+window.atob(r.slice(26))+"Open the following link to see browser's diagnosis\n"+r)},e.src=r})})},pu.download=function(t,n,e){if(navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(cu(n),t);else{var r=document.createElement("a");if("download"in r){r.download=t,r.style.display="none",document.body.appendChild(r);try{var i=cu(n),o=URL.createObjectURL(i);r.href=o,r.onclick=function(){return requestAnimationFrame(function(){return URL.revokeObjectURL(o)})}}catch(t){console.error(t),console.warn("Error while getting object URL. Falling back to string URL."),r.href=n}r.click(),document.body.removeChild(r)}else e&&e.popup&&(e.popup.document.title=t,e.popup.location.replace(n))}},pu.saveSvg=function(t,n,e){var r=fu();return au(t).then(function(t){return pu.svgAsDataUri(t,e||{})}).then(function(t){return pu.download(n,t,r)})},pu.saveSvgAsPng=function(t,n,e){var r=fu();return au(t).then(function(t){return pu.svgAsPngUri(t,e||{})}).then(function(t){return pu.download(n,t,r)})};var bu=pu.saveSvg,ku=pu.saveSvgAsPng;pu.svgAsPngUri;function Au(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Mu={node:[{id:"mark-all-leafs",label_zh:"选择叶节点",label_en:"Mark all leafs"},{id:"mark-all-leafs-cancel",label_zh:"取消选中叶节点",label_en:"Cancel mark all leafs"},{id:"mark-root-to-branch",label_zh:"标记根到分支",label_en:"Mark root to branch"},{id:"mark-root-to-branch-cancel",label_zh:"取消标记根到分支",label_en:"Cancel mark root to branch"},{id:"edit-subtree",label_zh:"编辑子树",label_en:"Edit subtree"},{id:"add-subtree",label_zh:"添加子树",label_en:"Add subtree"},{id:"reverse-subtree",label_zh:"反转子树",label_en:"Reverse subtree"},{id:"delete-subtree",label_zh:"删除节点",label_en:"Delete node"}],draw:[{id:"reset-position",label_zh:"重置位置",label_en:"Reset position",type:"draw"},{id:"reset-tree",label_zh:"重置树",label_en:"Reset Tree",type:"draw"},{id:"save-selected-leaf",label_zh:"保存所选枝叶",label_en:"Save Selected Leaf",type:"draw"},{id:"download-png",label_zh:"下载 (.png)",label_en:"Download PNG",type:"draw"},{id:"download-svg",label_zh:"下载 (.svg)",label_en:"Download SVG",type:"draw"}]},Su=function(){function e(t,n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.language=t.language||"zh",this.callBack=n,this.config=t,this.data={}}var t,n,r;return t=e,(n=[{key:"hide",value:function(){Gi(".phy-menu").remove()}},{key:"click",value:function(r){var e,n,i,o,t,a,u,c,l=this,s=this.config.el;"mark-all-leafs"==r||"mark-all-leafs-cancel"==r?(u=[this.data.target],c=!this.data.target.isSelect,function e(r){r.forEach(function(t,n){r[n].isSelect=c,r[n].isSelect?r[n].selectColor="red":r[n].selectColor=null,r[n].children&&e(r[n].children)})}(u),this.callBack({id:r})):"mark-root-to-branch"==r||"mark-root-to-branch-cancel"==r?(t=this.data.target,a=!this.data.target.isSelect,function t(n){n.isSelect=a,n.parent&&t(n.parent)}(t),this.callBack({id:r})):"edit-subtree"==r?(e=Na({type:"nwk",root:this.data.target}),nu({el:s,value:e},function(t){try{var n=Na({type:"nwk",root:l.config.root});";"==t.charAt(t.length-1)&&(t=t.slice(0,t.length-1)),";"==e.charAt(e.length-1)&&(e=e.slice(0,e.length-1)),l.callBack({id:r,content:n.replace(e,t)})}catch(t){console.error(t),alert("zh"==l.language?"编辑失败，请检查数据格式是否正确！":"Edit failed, please check whether the data format is correct！")}})):"add-subtree"==r?nu({el:s},function(t){try{var n=function n(t){(t.data=t).children&&0<t.children.length&&t.children.forEach(function(t){n(t)})},e=getTreesFromString(t).root;n(e),l.data.children?l.data.children.push(e):l.data.children=[e],l.data.target.children?l.data.target.children.push(e):l.data.target.children=[e],l.data.target.data.children?l.data.target.data.children.push(e):l.data.target.data.children=[e],l.callBack({id:r,content:Na({type:"nwk",root:l.config.root})})}catch(t){console.error(t),alert("zh"==l.language?"添加失败，请检查数据格式是否正确！":"Failed to add. Please check whether the data format is correct！")}}):"reverse-subtree"==r?this.data.target.children&&(this.data.target.children.reverse(),this.callBack({id:r})):"delete-subtree"==r?(this.data.target.delete=!0,t=Na({type:"nwk",root:(function r(t){t.forEach(function(t,n,e){t.delete?e.splice(n,1):t.children&&0<t.children.length&&r(t.children)})}([t=this.config.root]),t)}),this.callBack({id:r,content:t})):"reset-tree"==r?this.callBack({id:r}):"save-selected-leaf"==r?(o=i=n="",this.config.root.leaves().forEach(function(t){t.isSelect&&(n=n+t.data.name+"\r"),t.divisionColor&&t.isSearch&&(i=i+t.data.name+"\r"),t.divisionColor&&t.isGroup&&(o=o+t.data.name+"\r")}),n||i||o?function(t,n){var e=window.URL||window.webkitURL||window,r=new Blob([n]),n=document.createElementNS("http://www.w3.org/1999/xhtml","a");n.href=e.createObjectURL(r),n.download=t;t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(t)}("leaf_data.txt",n||i||o):alert("zh"==this.language?"请选择要导出的分支！":"Please select the branch to export!")):"download-png"==r?ku(eu(s),"phyloview.png",{backgroundColor:"#fff"}):"download-svg"==r?bu(eu(s),"phyloview.svg"):this.callBack({id:r}),this.hide()}},{key:"setPosition",value:function(t){var n=this,e=t.e,r=t.node,i=void 0===r?{}:r,r=t.type,o=t.minimap;this.data=i||{},this.type=r;var a=i.target||i||{},u=i.source||i||{},r=Mu[r].filter(function(t){return!!("reset-position"!=t.id||o&&o.show)&&(("mark-all-leafs"!=t.id||!a.isSelect)&&(!("mark-all-leafs-cancel"==t.id&&!a.isSelect)&&(("mark-root-to-branch"!=t.id||!u.isSelect)&&!("mark-root-to-branch-cancel"==t.id&&!u.isSelect))))});!function(t){var n=t.menuArr,e=t.el,r=t.left,i=t.top,o=t.language,t=document.createElement("ul"),a="";n.forEach(function(t){a+='<li class="item '.concat(t.id,'">').concat(t["label_"+(o||"zh")],"</li>")}),t.style.top=i+"px",t.style.left=r+"px",t.innerHTML=a;r=document.createElement("div");r.className="phy-menu",r.appendChild(t),document.querySelector(e).appendChild(r);e=document.createElement("div");e.className="menu-mask",r.appendChild(e),e.onclick=function(){Gi(".phy-menu").remove()},e.oncontextmenu=function(t){t.preventDefault(),Gi(".phy-menu").remove()}}({menuArr:r,el:this.config.el,top:e.y,left:e.x,language:this.config.language}),r.forEach(function(t){Hi(n.config.el+" ."+t.id).on("click",function(){n.click(t.id)})})}}])&&Au(t.prototype,n),r&&Au(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Cu=Bu(486);function Tu(t){return function(t){if(Array.isArray(t))return Eu(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return Eu(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(e="Object"===e&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Eu(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Eu(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function Nu(n,t){var e,r=Object.keys(n);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(n),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,e)),r}function Ou(r){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Nu(Object(i),!0).forEach(function(t){var n,e;n=r,t=i[e=t],e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Nu(Object(i)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(i,t))})}return r}function Lu(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var zu=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),n.el=t,this.baseConfig=(0,Cu.cloneDeep)(xa),this.copyConfig=(0,Cu.cloneDeep)(n),this.config=Fa({},(0,Cu.cloneDeep)(xa),n),this.loading=new hu(t),t&&this.init(n)}var t,n,r;return t=e,(n=[{key:"setHighlightLeaf",value:function(t){this.update({highlight:t})}},{key:"exportFile",value:function(t){var n,e,r=t.type,i={};for(e in n=(n=t.root)||this.root)"baseConfig"!=e&&"contentCopy"!=e&&"el"!=e&&"root"!=e&&(i[e]=n[e]);return Na({type:r,root:i})}},{key:"init",value:function(t){var n=Fa({},(0,Cu.cloneDeep)(xa),t||this.config),e=n.content,t=n.stretch;e?(this.loading.show(),e=getTreesFromString(e).root,t&&t.show&&t.data&&0<t.data.length&&Ha([e],t.data),this.root=Kn(e,function(t){return t.children}),this.update(n)):console.error("Data content cannot be empty！")}},{key:"update",value:function(){var n=this,l=this,e=Fa({},this.config,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{});console.log(e);var r=e.width,i=e.height,c=e.label,o=e.tooltip,a=e.nodes,u=e.leafs,t=e.size,s=e.links,f=e.separation,h=e.sign,p=e.legend,d=e.extension,g=e.isPhylogram,y=e.style,v=e.division,m=e.position,w=e.scale,_=e.mask,x=e.isWheelZoom,b=e.el,k=e.collapse,A=e.scaleLinear,M=e.minimap,S=e.sort,C=e.highlight,T=e.linearGradient,E=e.radialGradient;S&&this.root.sort(function(t,n){return"nameDes"===S?tt(t.data.name,n.data.name):"nameAsc"===S?J(t.data.name,n.data.name):"lengthDes"===S?tt(t.data.length,n.data.length):"lengthAsc"===S?J(t.data.length,n.data.length):"defaultDes"===S?tt(t.height,n.height):"defaultAsc"===S?J(t.height,n.height):void 0});var N=Oa(e.el);(!r||r<N.width)&&(r=N.width),(!i||i<N.height)&&(i=N.height),Hi(b).selectAll("*").remove(),this.loading.show();var O=Hi(b).attr("class","phyloview tree-warp").append("svg").attr("class","xr-svg").on("contextmenu",function(t){t.preventDefault(),l.contextmenu.setPosition({e:t,type:"draw",minimap:e.minimap}),t.stopPropagation()});La(O,{linearGradient:T,radialGradient:E});var L=O.append("g").attr("class","svg-warp").attr("style",Ua(y)),T=L.append("g"),E=0,y=0;y=t&&t[0]?t[0]:r/2,E=t&&t[1]?t[1]:(l.leafs=qa(l.root.children,"children"),l.leafs.length*f),Zn().size([E,y]).separation(function(){return 1})(l.root),this.width_g=y;var z=0,D=0;!function n(t,e,r){t.length=(e+=t.data.length)*r,z<t.y&&(z=t.y),D<t.x&&(D=t.x),t.children&&t.children.forEach(function(t){n(t,e,r)})}(this.root,this.root.data.length=0,y/function t(n){return n.data.length+(n.children?nt(n.children,t):0)}(this.root));var j,t=null,f=null,E=null;A&&A.show&&(y=L.append("g").attr("transform","translate(".concat(A.dx,",").concat(A.dy,")")).attr("style",Ua(A.style)).attr("class","scale-g"),A.yLine.show&&(t=y.append("g").attr("class","scale-line")),A.label.show&&(f=y.append("g").attr("class","scale-label")),A.xTick.show&&(E=y.append("g").attr("class","scale-tick"))),d&&d.show&&(this.linkExtension=L.append("g").attr("class","link-extensions").attr("style",Ua(d.style)).selectAll("path").data(this.root.links().filter(function(t){return!t.target.children})).enter().append("path").attr("style",function(t){if(t.target.linkExtensionNode=this,v.show){t=Pa(v.data,t.target.data.name);return Ua(Ou(Ou({},t),{},{fill:"",stroke:t.stroke||t.fill}))}})),console.log(s),this.link=L.append("g").attr("class","links").attr("style",Ua(s.style)).selectAll("path").data(this.root.links()).enter().append("path").attr("style",function(t){if(v.show){t=Pa(v.data,t.target.data.name);return Ua(Ou(Ou({},t),{},{fill:"",stroke:t.stroke||t.fill}))}}).attr("stroke",function(t){if(t.target.data.stretch)return t.target.data.stretch.color}).attr("class",function(t){if(t.target.isSelect)return"select"}).attr("stroke-dasharray",function(t){if(t.target.linkNode=this,t.target.data.stretch)return"2,2"}),k&&k.show&&(j=L.append("g").attr("class","node-collapse").attr("style",Ua(k.style)),this.root.links().forEach(function(t){var n,e,r,i,o,a,u,c;t.target._children&&(n=j,e=Ou(Ou({},k),{},{y:t.target.x,x:t.target.y,foldLevel:t.target.foldLevel}),r=e.x,i=e.y,o=e.rotate,a=e.size,u=e.dx,c=e.dy,e=e.foldLevel,(o=n.append("g").attr("transform","translate(".concat(r,",").concat(i,") rotate(").concat(o,")"))).append("polygon").attr("points","".concat(u,",").concat(c," ").concat(a[0]+u,",").concat((a[1]+c)/2," ").concat(a[0]+u,",-").concat((a[1]+c)/2)),o.append("text").attr("x",a[0]+u+6).attr("y",(a[1]+c)/3).text("".concat(e," layer")),{shape:o,width:a,height:a}).shape.on("click",function(){k.show&&l.collapsibleSwitch(t)})})),a.name.show&&(this.text=L.append("g").attr("class","node-text").attr("style",Ua(a.name.style)).selectAll("text").data(this.root.links().filter(function(t){return Ia(t,a.name.mark)})).join("text").text(function(t){return t.target.data.name})),a.value.show&&(this.value=L.append("g").attr("class","node-text").attr("style",Ua(a.value.style)).selectAll("text").data(this.root.links().filter(function(t){return Ia(t,a.value.mark)})).join("text").text(function(t){if(a.value.formatter){var n=a.value.formatter(t.source.data,t);return n||t.target.data.orLength||t.target.data.length}return t.target.data.orLength||t.target.data.length})),a.symbol.show&&L.append("g").attr("class","nodes").attr("style",Ua(a.style)).selectAll("g.node").data(l.root.links().filter(function(t){return Ia(t,a.symbol.mark)})).enter().each(function(t){var n=null,r=Ou(Ou({},ua),a.symbol),n=(r=r[t.target.data.name]?Ou(Ou({},ua),r[t.target.data.name]):r).data&&0!=r.data.length?r.data:[{name:t.source.data.length,value:t.source.data.length,style:{fill:"#F56C6C"}},{name:(r.maxLength||1)-t.source.data.length,value:(r.maxLength||1)-t.source.data.length,style:{fill:"#67C23A"}}],n=Da(Hi(this),Ou(Ou({},r),{},{data:n}));n.attr("class","node").attr("transform",function(t){var n=this.getBBox(),e=Ra(r,n),n=r.rotate||0;return"bar"==r.type&&(n+=180),"translate(".concat(g?e[0]+t.target.length+r.dx:e[0]+t.target.y+r.dx,",").concat(e[1]+t.target.x+r.dy,")rotate(").concat(n,")")}),n.on("click",function(t,n){l.onClick&&l.onClick({type:"node",event:t,data:n}),k.show&&l.collapsibleSwitch(n)}),n.on("contextmenu",function(t,n){t.preventDefault(),l.contextmenu.setPosition({e:t,node:n,type:"node"}),t.stopPropagation()})});var I,P,R,U,B,F,q,H,G,Y,W,$,V,X,Z=0,Q=0;u.show&&(G=function(e){return function(t,n){for(o&&o.show&&o.data&&(e?ru(t,{el:b,position:"right",title:n.data.name,data:o.data[n.data.name]}):Gi(".tree-warp .phy-tip-warp").remove()),Hi(this).classed("label--active",e),Hi(n.linkExtensionNode).classed("link-extension--active",e).each(function(){this.parentNode.appendChild(this)});Hi(n.linkNode).classed("link--active",e).each(function(){this.parentNode.appendChild(this)}),n=n.parent;);}},this.labels=L.append("g").attr("transform","translate(".concat(u.dx+20,",").concat(u.dy,")")).attr("class","leafs").attr("style",Ua(u.style)).selectAll("text").data(this.root.leaves()).enter().append("text").attr("dy",".31em").attr("x",function(t){return t.y}).attr("y",function(t){return t.x}).attr("style",function(t){var n={};return u.data&&u.data[t.data.name]&&(n=u.data[t.data.name].style),v.show&&(t.isGroup=!1,n=Pa(v.data,t.data.name,n),t.divisionColor=n.fill,t.isGroup=!0),C&&C.leafs&&0<C.leafs.length&&(t.isSearch=!1,n=Pa([C],t.data.name,n),t.divisionColor=n.fill,t.isSearch=!0,t.data.name==C.leafs[0]&&(Q=t.x)),Ua(n)}).text(function(t){return t.data.name}).attr("class",function(t){var n=this.getBBox();if(n.width>Z&&(Z=n.width),t.isSelect)return"select"}).on("mouseover",G(!0)).on("mouseout",G(!1)).on("click",function(t,n){l.onClick&&l.onClick({type:"leaf",event:t,data:n})}).on("contextmenu",function(t,n){t.preventDefault(),l.contextmenu.setPosition({e:t,node:Ou(Ou({},n),{},{target:n}),type:"node"}),t.stopPropagation()}),u.onClick&&this.labels.on("click",u.onClick)),_.show&&u.show&&(I=[],P=[],(H=this.root.leaves()).forEach(function(t,n){P[0]&&t.divisionColor!=P[0].divisionColor?(I.push(Tu(P)),P=[t]):P.push(t)}),I.push(Tu(P)),R=[],U=D/H.length,B=Z+20,I.forEach(function(t){var n=t[0],e=t[t.length-1];R.push({color:t[0].divisionColor,points:"".concat(n.y-_.padding[0],", ").concat(n.x-U/2,", ").concat(n.y+B+_.padding[1],", ").concat(n.x-U/2,", ").concat(e.y+B+_.padding[1],", ").concat(e.x+U/2,", ").concat(e.y-_.padding[0],", ").concat(e.x+U/2)})}),T.attr("transform","translate(".concat(10+u.dx+_.dx,",").concat(_.dy+u.dy,")")).attr("class","mask-leaf").attr("style",Ua(_.style)).selectAll("polygon").data(R).join("polygon").attr("points",function(t){return t.points}).attr("fill",function(t){return t.color})),A&&A.show&&(F=_r(A.timeFormat),d=A.type,s=null,G=[],"line"==d?G=(s=qe().domain([A.domain[0]||0,A.domain[1]||1]).range([0,z])).ticks(A.ticks||10):"time"==d&&(G=(s=Fi().domain([new Date(A.domain[0]||0),new Date(A.domain[1]||1)]).range([0,z])).ticks(A.ticks||10)),T=(H={data:G,yscale:s}).data,X=H.yscale,q=A.xTick.length||0,d=A.xTick.dx||0,G=(A.xTick.dy||0)+10,s=A.label.dx||0,H=A.label.dy||0,E&&("bottom"==A.position?(E.attr("transform","translate(".concat(d,",").concat(D+G,")")),f.attr("transform","translate(".concat(s+d,",").concat(D+H+G,")"))):(E.attr("transform","translate(".concat(d,",").concat(-G,")")),f.attr("transform","translate(".concat(s+d,",").concat(-(H+G),")"))),E.attr("style",Ua(A.xTick.style)).selectAll("line").data(T).enter().append("line").attr("y1",0).attr("y2",function(){return"bottom"==A.position?q:-q}).attr("x1",X).attr("x2",X),E.append("line").attr("y1",0).attr("y2",0).attr("x1",0).attr("x2",z)),t&&t.attr("style",Ua(A.yLine.style)).selectAll("line").data(T).enter().append("line").attr("y1",0).attr("y2",D).attr("x1",X).attr("x2",X),f&&f.attr("style",Ua(A.label.style)).selectAll("text").data(T).enter().append("text").attr("dy",".31em").attr("x",X).attr("y",function(){var t=-8-q;return"bottom"==A.position?-t:t}).text(function(t){return"line"==A.type?Math.round(100*t)/100+A.label.suffix:"time"==A.type?F(t):void 0})),z+=Z,h&&h.show&&(Y=0,z=z+h.dx+30+u.dx+_.dx,W=L.append("g").attr("transform","translate(".concat(z,",").concat(h.dy,")")).attr("style",Ua(h.style)).attr("class","sign-g"),h.data.forEach(function(t,n){var i,o,a,u,n=(i=t,o=n,u=0,W.append("g").selectAll("g").data(l.root.leaves().filter(function(t){t=i.data[t.data.name];return t&&t.type})).enter().each(function(t){var e=Ou(Ou({},ua),i.data[t.data.name]),t=Da(Hi(this),e),r=e.rotate||0;"bar"==e.type&&(r+=180),t.attr("transform",function(t){var n=this.getBBox(),n=Ra(e,n);return u=n[0]+o*(h.distance+(i.distance||0)+15+(e.distance||0))+(e.dx||0)+(i.dx||0),a=n[1]+(e.dy||0)+t.x+(i.dy||0),"translate(".concat(u,",").concat(a,")rotate(").concat(r,")")})}),u||15);Y<n&&(Y=n),t.label.show&&function(t,n){t=Ou(Ou({},c),t.label);W.append("text").attr("style",Ua(t.style)).attr("dy",".31em").attr("transform","translate(".concat(n,",").concat(t.dy,") rotate(").concat(t.rotate,")")).text(t.name)}(t,Y)})),p.show&&p.data&&((X=document.querySelector(".sign-g"))&&(z+=X.getBBox().width),$=[],V=0,(X=L.append("g").attr("class","legend-label").attr("transform","translate("+(p.dx||0)+","+(p.dy||0)+")").selectAll("g").data(p.data).enter().append("g")).append("text").attr("dy",".35em").attr("style",function(t){return Ua(t.label.style)}).text(function(t){return t.label.name}).attr("transform",function(t){return"translate("+((t.label.dx||0)-20)+","+(t.label.dy||0)+")"}),X.each(function(e){0<e.data.length&&ja(Hi(this).selectAll("g").data(e.data).enter().append("g").attr("transform",function(t,n){n=(t.dy||0)+(n+1)*((e.distance||0)+20);return"translate("+(t.dx||0)+","+n+")"})),$.push(this.getBBox().height)}),X.attr("transform",function(t,n){var e=0;if("right"==t.position&&(e=z+45),0<n)for(var r=V=0;r<n;r++)V+=$[n-1];var i=(t.dy||0)+V+((t.distance||0)+(p.distance||0)+30)*n;return"translate("+(e+(t.dx||0)+30)+","+i+")"})),0<c.length&&L.append("g").attr("class","label-g").selectAll("g").data(c).enter().append("g").attr("style",function(t){return Ua(t.style)}).attr("transform",function(t){return"translate("+(t.dx||0)+","+(t.dy||0)+")"}).append("text").text(function(t){return t.name}),this.zoomIdentity&&!Q||(K=Q?Q-120:0,this.zoomIdentity=Xo.translate(0,-K).scale(w||1));var K=null;x&&(K=ia().on("zoom",function(t){var n=m[0]+t.transform.x,e=m[1]+t.transform.y,r=t.transform.k;l.zoomIdentity=t.transform,L.attr("transform","translate(".concat(n,",").concat(e,") scale(").concat(r,")"))}),O.call(K).on("dblclick.zoom",null)),w=g,x=Hn().duration(750),w?l.nodeVariable(x):l.nodeConstant(x),r-=4,i-=4,O.attr("width",r),L.each(function(){var t=this.getBBox();i<t.height&&(i=t.height),r<t.width&&(r=t.width),O.attr("height",i)}),this.config=Ou(Ou({},e),{},{width:r,height:i,root:this.root}),this.contextmenu=new Su(this.config,function(t){n.contextmenuClick(t)}),M.show?this.minimap():(this.zoomIdentity&&K&&(K.transform(L,this.zoomIdentity),O.property("__zoom",this.zoomIdentity)),this.loading.hide())}},{key:"contextmenuClick",value:function(t){var n=t.id,t=t.content;"mark-all-leafs"==n||"mark-all-leafs-cancel"==n||"mark-root-to-branch"==n||"mark-root-to-branch-cancel"==n?this.update():"edit-subtree"==n||"add-subtree"==n?this.init({content:t}):"reverse-subtree"==n?this.update():"delete-subtree"==n?this.init({content:t}):"reset-tree"==n?this.init((0,Cu.cloneDeep)(this.copyConfig)):"reset-position"==n&&this.canvas.reset()}},{key:"minimap",value:function(){var s=this,t=this.config,f=t.el,h=t.width,p=t.height,d=t.position,t=this.config.minimap,g=t.scaleInit,y=t.scaleRange,v={};v.canvas=function(){var c=null;function l(t){var r=h,i=p,n=t.append("svg").attr("class","svg canvas").attr("width",r).attr("height",i).attr("shape-rendering","auto").on("contextmenu",function(t){t.preventDefault(),s.contextmenu.setPosition({e:t,type:"draw",minimap:s.config.minimap}),t.stopPropagation()}),t=n.append("g").attr("class","wrapper outer");t.append("rect").attr("class","background").attr("width",h+0).attr("height",p+0);var o=t.append("g").attr("class","wrapper inner");o.append("rect").attr("class","background").attr("width",h).attr("height",p);var e=o.append("g").attr("class","panCanvas").attr("width",h).attr("height",p);e.append("rect").attr("class","background").attr("width",h+d[0]).attr("height",p+d[1]);function a(){var t=o.property("__zoom").k,n=h,e=p;u.translateExtent([[-n/t,-e/t],[n/t+r,e/t+i]])}var u=ia().scaleExtent(y);u.on("zoom",function(t){s.zoomIdentity=t.transform,e.attr("transform",t.transform),(t.sourceEvent instanceof MouseEvent||t.sourceEvent instanceof WheelEvent)&&c.update(t.transform),a()}),o.call(u),c=v.minimap().host(l).target(e).minimapScale(g).x(0).y(0),n.call(c),l.addItem=function(t){t.attr("transform","translate(".concat(d[0],",").concat(d[1],")")),e.node().appendChild(t.node()),c.render()},l.reset=function(t){var n=document.querySelector(f).offsetWidth,e=document.querySelector(f).offsetHeight,r=Xo;t&&(r=Xo.translate(-(t[0]-n/2),-(t[1]-e/2))),c.update(r),l.update(r)},l.updateZoom=function(t){c.update(t),l.update(t)},l.update=function(t){u.transform(e,t),n.property("__zoom",t),o.property("__zoom",t),a()},a()}return l.width=function(t){return arguments.length?(h=parseInt(t,10),this):h},l.height=function(t){return arguments.length?(p=parseInt(t,10),this):p},l},v.minimap=function(){var u=null,r=null,c=null,i=0,l=0,n=0,e=0;function s(t){r=t;function n(){var t=a.property("__zoom").k,n=parseInt(c.attr("width")),e=parseInt(c.attr("height")),r=u.width(),i=u.height();o.translateExtent([[-r/t,-i/t],[r/t+n,i/t+e]])}var o=ia().scaleExtent(y);o.on("zoom",function(t){e.attr("transform",t.transform),(t.sourceEvent instanceof MouseEvent||t.sourceEvent instanceof WheelEvent)&&(t=t.transform,t=Xo.scale(1/t.k).translate(-t.x,-t.y),u.update(t)),n()});var a=t.append("g").attr("class","minimap");a.call(o),s.node=a.node();var e=a.append("g").attr("class","frame");e.append("rect").attr("class","background").attr("width",i).attr("height",l),s.update=function(t){t=Xo.scale(1/t.k).translate(-t.x,-t.y);o.transform(e,t),a.property("__zoom",t),n()},s.render=function(){var t=c.node().cloneNode(!0);t.removeAttribute("id"),r.selectAll(".minimap .panCanvas").remove(),s.node.appendChild(t),Hi(t).attr("transform","translate(0,0)"),e.select(".background").attr("width",i).attr("height",function(){return document.querySelector(f).offsetHeight}),e.node().parentNode.appendChild(e.node()),a.attr("transform",function(t){var n=this.getBBox(),e=g*n.height,n=document.querySelector(f).offsetHeight;return"translate("+(document.querySelector(f).offsetWidth-g*i-30)+",20)scale("+g+","+(n<e?(n-30)/l:g)+")"})},n()}return s.width=function(t){return arguments.length?(i=parseInt(t,10),this):i},s.height=function(t){return arguments.length?(l=parseInt(t,10),this):l},s.x=function(t){return arguments.length?(n=parseInt(t,10),this):n},s.y=function(t){return arguments.length?(e=parseInt(t,10),this):e},s.host=function(t){return arguments.length?(u=t,this):u},s.minimapScale=function(t){return arguments.length?(g=t,this):g},s.target=function(t){return arguments.length?(c=t,i=parseInt(c.attr("width"),10),l=parseInt(c.attr("height"),10),this):c},s};var n=v.canvas().width(h).height(p);Hi(f).call(n),(this.canvas=n).addItem(Hi(f+" .svg-warp")),Hi(".minimap .panCanvas").on("click",function(t){t=qi(t);n.reset(t)});t=Gi(f+" .xr-svg>*");0<t._groups[0].length&&(t=t.node().cloneNode(!0),Hi(f+" svg.canvas").node().appendChild(t)),Gi(f+" .xr-svg").remove(),s.zoomIdentity&&n.updateZoom(s.zoomIdentity),this.loading.hide()}},{key:"nodeVariable",value:function(t){var n=this,e=this.config.nodes;this.linkExtension&&this.linkExtension.attr("d",function(t){return n.linkStep(t.target.x,t.target.length,t.target.x,n.width_g)}),this.link.attr("d",function(t){return n.linkStep(t.source.x,t.source.length,t.target.x,t.target.length)}),e.name.show&&this.text.attr("x",function(t){return t.target.length+e.name.dx}).attr("y",function(t){return t.target.x+e.name.dy}),e.value.show&&this.value.attr("x",function(t){var n=e.value.dx+t.target.length;return"start"==e.value.position&&(n-=t.target.length-t.source.length),n}).attr("y",function(t){return t.target.x+e.value.dy-5})}},{key:"nodeConstant",value:function(t){var n=this,e=this.config.nodes;this.linkExtension&&this.linkExtension.attr("d",function(t){return n.linkStep(t.target.x,t.target.y,t.target.x,n.width_g)}),this.link.attr("d",function(t){return n.linkStep(t.source.x,t.source.y,t.target.x,t.target.y)}),e.name.show&&this.text.attr("x",function(t){return t.target.y+e.name.dx}).attr("y",function(t){return t.target.x+e.name.dy}),e.value.show&&this.value.attr("x",function(t){var n=e.value.dx+t.target.y;return"start"==e.value.position&&(n-=t.target.length-t.source.length),n}).attr("y",function(t){return t.target.x+e.value.dy-5})}},{key:"linkStep",value:function(t,n,e,r){var i=this.config.links;return"smooth"==i.type?"M".concat(r,",").concat(e,"\n                C").concat(n,",").concat(e,"\n                ").concat(n,",").concat(t,"\n                ").concat(n,",").concat(t):"line"==i.type?"M".concat(r,",").concat(e," L").concat(n,",").concat(t):"M"+n+","+t+(e===t?"":"L"+n+","+e)+"L"+r+","+e}},{key:"collapsibleSwitch",value:function(t){t.target._children?(t.target.children=t.target._children,t.target._children=null,t.target.foldLevel=null):(t.target._children=t.target.children,t.target.children=null,t.target.foldLevel=this.statisticsLevel(t.target._children,t.target.depth)),this.update()}},{key:"statisticsLevel",value:function(t,n){if(t){var e=[];return function n(t){t.forEach(function(t){t.children||t._children?n(t.children||t._children):e.push(t.depth)})}(t),Math.max.apply(Math,e)-n}}}])&&Lu(t.prototype,n),r&&Lu(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),tn=Bu(123),Jt={};Jt.styleTagTransform=fe(),Jt.setAttributes=se(),Jt.insert=Gn().bind(null,"head"),Jt.domAPI=Kt(),Jt.insertStyleElement=ir();Xe()(tn.Z,Jt),tn.Z&&tn.Z.locals&&tn.Z.locals;function Du(t){return function(t){if(Array.isArray(t))return ju(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){if(t){if("string"==typeof t)return ju(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(e="Object"===e&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?ju(t,n):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ju(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function Iu(n,t){var e,r=Object.keys(n);return Object.getOwnPropertySymbols&&(e=Object.getOwnPropertySymbols(n),t&&(e=e.filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})),r.push.apply(r,e)),r}function Pu(r){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Iu(Object(i),!0).forEach(function(t){var n,e;n=r,t=i[e=t],e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):Iu(Object(i)).forEach(function(t){Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(i,t))})}return r}function Ru(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Uu=function(){function e(t,n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),n.el=t,this.baseConfig=(0,Cu.cloneDeep)(xa),this.copyConfig=(0,Cu.cloneDeep)(n),this.config=Fa({},(0,Cu.cloneDeep)(xa),n),this.loading=new hu(t),t&&this.init(n)}var t,n,r;return t=e,(n=[{key:"setHighlightLeaf",value:function(t){this.update({highlight:t})}},{key:"exportFile",value:function(t){var n,e,r=t.type,i={};for(e in n=(n=t.root)||this.root)"baseConfig"!=e&&"contentCopy"!=e&&"el"!=e&&"root"!=e&&(i[e]=n[e]);return Na({type:r,root:i})}},{key:"init",value:function(t){var n=Fa({},(0,Cu.cloneDeep)(xa),t||this.config),e=n.content,t=n.stretch;e?(this.loading.show(),e=getTreesFromString(e).root,t&&t.show&&t.data&&0<t.data.length&&Ha(e.children,t.data),this.root=Kn(e,function(t){return t.children}),this.update(n)):console.error("Data content cannot be empty！")}},{key:"update",value:function(){var n=this,a=this,t=Fa({},this.config,0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}),r=t.el,i=t.isPhylogram,e=t.width,o=t.height,s=t.size,u=t.isWheelZoom,c=t.sign,l=t.sort,f=t.nodes,h=t.legend,p=t.extension,d=t.leafs,g=t.links,y=t.division,v=t.tooltip,m=t.mask,w=t.style,_=t.highlight,x=t.scale,b=t.rotationAngle,k=t.scaleLinear,A=t.label,M=t.linearGradient,S=t.radialGradient;Hi(r).selectAll("*").remove(),this.loading.show(),l&&this.root.sort(function(t,n){return"nameDes"===l?tt(t.data.name,n.data.name):"nameAsc"===l?J(t.data.name,n.data.name):"lengthDes"===l?tt(t.data.length,n.data.length):"lengthAsc"===l?J(t.data.length,n.data.length):"defaultDes"===l?tt(t.height,n.height):"defaultAsc"===l?J(t.height,n.height):void 0});var C=Oa(r),e=e||C.width,o=o||C.height,T=((s=!s||0==s.length?e<o?[360,e]:[360,o]:s)[1]||100)/4,E=T,N=Zn().size([s[0]||360,T]).separation(function(){return 1}),C=Hi(r).attr("class","phyloview radial-warp").attr("style","font-size:12px").append("svg").attr("class","xr-svg").attr("width",e).attr("height",o).on("contextmenu",function(t){t.preventDefault(),a.contextmenu.setPosition({e:t,type:"draw"}),t.stopPropagation()});La(C,{linearGradient:M,radialGradient:S}),this.zoomIdentity||(this.zoomIdentity=Xo.translate(e/2,o/2).scale(x||1));var O=C.append("g").attr("class","svg-warp radial").attr("style",Ua(w)).attr("transform",this.zoomIdentity),x=O.append("g"),w=null;u&&(w=ia().on("zoom",function(t){a.zoomIdentity=t.transform,O.attr("transform",a.zoomIdentity)}),C.call(w).on("dblclick.zoom",null)),N(this.root),function n(t,e,r){t.radius=(e+=t.data.length)*r;t.children&&t.children.forEach(function(t){n(t,e,r)})}(this.root,this.root.data.length=0,T/function t(n){return n.data.length+(n.children?nt(n.children,t):0)}(this.root));u=[];k&&k.show&&u.push((0,Cu.cloneDeep)(Pu({},k))),u.forEach(function(t){var n=O.append("g").attr("transform","rotate(".concat(s[0]-b,")translate(").concat(t.dx,",").concat(t.dy,")")).attr("style",Ua(t.style)).attr("class","scale-g");t.yLine.show&&(t.yLineG=n.append("g").attr("class","scale-line")),t.label.show&&(t.ruleG=n.append("g").attr("class","scale-label")),t.xTick.show&&(t.xTickG=n.append("g").attr("class","scale-tick"))}),this.leafs=qa(this.root.children,"children");N=null;p&&p.show&&(N=O.append("g").attr("class","link-extensions").attr("style",Ua(p.style)).selectAll("path").data(this.root.links().filter(function(t){return!t.target.children})).enter().append("path").attr("d",$).attr("style",function(t){if(t.target.linkExtensionNode=this,y.show){t=Pa(y.data,t.target.data.name);return Ua(Pu(Pu({},t),{},{fill:"",stroke:t.stroke||t.fill}))}}));p=O.append("g").attr("class","links").attr("style",Ua(g.style)).selectAll("path").data(this.root.links()).enter().append("path").attr("d",Y).attr("style",function(t){if(t.target.linkNode=this,y.show){t=Pa(y.data,t.target.data.name);return Ua(Pu(Pu({},t),{},{fill:"",stroke:t.stroke||t.fill}))}}).attr("stroke",function(t){if(t.target.data.stretch)return t.target.data.stretch.color}).attr("class",function(t){if(t.target.isSelect)return"select"}).attr("stroke-dasharray",function(t){if(t.target.data.stretch)return"2,2"});f.name.show&&O.append("g").attr("class","name").attr("style",Ua(f.name.style)).selectAll("text").data(this.root.links().filter(function(t){return Ia(t,f.name.mark)})).enter().append("text").text(function(t){return t.target.data.name}).attr("transform",function(t){var n=X(t.source.x,t.source.y,t.target.x,t.target.y);return i&&(n=X(t.target.x,t.target.radius,t.target.x,T)),"translate(".concat(n.x[0]+f.name.dx,",").concat(n.x[1]+f.name.dy,")")}),f.value.show&&O.append("g").attr("class","value").attr("style",Ua(f.value.style)).selectAll("text").data(this.root.links().filter(function(t){return Ia(t,f.value.mark)})).enter().append("text").text(function(t){return t.target.data.orLength||t.target.data.length}).attr("transform",function(t){var n=X(t.source.x,t.source.y,t.target.x,t.target.y);return i&&(n=X(t.target.x,t.target.radius,t.target.x,T)),"translate(".concat(n.x[0]+f.value.dx,",").concat(n.x[1]+f.value.dy,")")}),f.symbol.show&&O.append("g").attr("class","nodes").attr("style",Ua(f.symbol.style)).selectAll("g.node").data(this.root.links().filter(function(t){return Ia(t,f.symbol.mark)})).enter().each(function(t){var n=null,r=Pu(Pu({},ua),f.symbol),n=(r=r[t.target.data.name]?Pu(Pu({},ua),r[t.target.data.name]):r).data&&0!=r.data.length?r.data:[{name:t.source.data.length,value:t.source.data.length,style:{fill:"#F56C6C"}},{name:(r.maxLength||1)-t.source.data.length,value:(r.maxLength||1)-t.source.data.length,style:{fill:"#67C23A"}}],n=Da(Hi(this),Pu(Pu({},r),{},{data:n}));n.attr("class","node").attr("transform",function(t){var n=this.getBBox(),n=Ra(r,n);if(i){var e=X(t.target.x,t.target.radius,t.target.x,T);return"translate(".concat(n[0]+e.x[0]+r.dx,",").concat(n[1]+e.x[1]+r.dy,")rotate(").concat(r.rotate,")")}e=r.rotate||0;return"bar"==r.type&&(e+=90),H(t.target.x,T,e)}),n.on("contextmenu",function(t,n){t.preventDefault(),a.contextmenu.setPosition({e:t,node:n,type:"node"}),t.stopPropagation()})});var L,z,D,j,I=0;d&&d.show&&O.append("g").attr("class","labels").attr("style",Ua(d.style)).selectAll("text").data(this.root.links().filter(function(t){return!t.target.children})).enter().append("text").text(function(t){return t.target.data.name}).attr("dy",".31em").attr("style",function(t){var n={};return d.data&&d.data[t.target.data.name]&&(n=d.data[t.target.data.name].style),y.show&&(t.target.isGroup=!1,n=Pa(y.data,t.target.data.name,n),t.target.divisionColor=n.fill,t.target.isGroup=!0),_&&_.leafs&&(t.target.isSearch=!1,n=Pa([_],t.target.data.name,n),t.target.divisionColor=n.fill,t.target.isSearch=!0),Ua(n)}).attr("transform",function(t){var n=this.getBBox();return n.width>I&&(I=n.width),H(t.target.x,T+15+(d.distance||0))}).attr("class",function(t){if(t.target.isSelect)return"select"}).attr("text-anchor",function(t){return t.target.x<180?"start":"end"}).on("mouseover",q(!0)).on("mouseout",q(!1)).on("click",function(t,n){a.onClick&&a.onClick({type:"leaf",event:t,data:n})}).on("contextmenu",function(t,n){t.preventDefault(),a.contextmenu.setPosition({e:t,node:n,type:"node"}),t.stopPropagation()}),m.show&&d.show&&(L=[],z=[],(g=this.root.leaves()).forEach(function(t,n){z[0]&&t.divisionColor!=z[0].divisionColor?(L.push(Du(z)),z=[t]):z.push(t)}),L.push(Du(z)),D=[],j=(s[0]||360)/g.length,L.forEach(function(t){var n=t[0],e=t[t.length-1];D.push({color:t[0].divisionColor,startRadius:(n.x-j/2-b+90)*Math.PI/180,endRadius:(e.x+j/2-b+90)*Math.PI/180})}),x.attr("transform","translate(".concat(m.dx,",").concat(m.dy,")")).attr("class","mask-leaf").attr("style",Ua(m.style)).selectAll("path").data(D).join("path").attr("fill",function(t){return t.color}).attr("d",function(t){var n=T-(m.padding[0]||0);n<0&&(n=0);var e=T+I+(m.padding[1]||0);return m.isAnnulus&&(n=0,e=T+I),E=e+=25,vo().innerRadius(n+5).outerRadius(e).startAngle(t.startRadius).endAngle(t.endRadius)()}));var P,R,U,B=0,F=0;function q(e){return function(t,n){for(n=n.target,v&&v.show&&v.data&&(e?ru(t,{el:r,position:"right",title:n.data.name,data:v.data[n.data.name]}):Gi(".radial-warp .phy-tip-warp").remove()),Hi(this).classed("label--active",e),Hi(n.linkExtensionNode).classed("link-extension--active",e).each(function(){this.parentNode.appendChild(this)});Hi(n.linkNode).classed("link--active",e).each(function(){this.parentNode.appendChild(this)}),n=n.parent;);}}function H(t,n,e){e=2<arguments.length&&void 0!==e?e:0;return"rotate("+(t-b)+")translate("+n+",0)"+"rotate(".concat(t<180?-e:e+180,")")}function G(t){return V(t.source.x,t.source.radius,t.target.x,t.target.radius)}function Y(t){return V(t.source.x,t.source.y,t.target.x,t.target.y)}function W(t){return V(t.target.x,t.target.radius,t.target.x,T)}function $(t){return V(t.target.x,t.target.y,t.target.x,T)}function V(t,n,e,r){var i=Math.cos(t=(t-b)/180*Math.PI),o=Math.sin(t),a=Math.cos(e=(e-b)/180*Math.PI),u=Math.sin(e);return"M"+n*i+","+n*o+(e===t?"":"A"+n+","+n+" 0 0 "+(t<e?1:0)+" "+n*a+","+n*u)+"L"+r*a+","+r*u}function X(t,n,e,r){return{x:[n*Math.cos(t=(t-b)/180*Math.PI),n*Math.sin(t)],y:[r*Math.cos(e=(e-b)/180*Math.PI),r*Math.sin(e)]}}c&&c.show&&(P=O.append("g").attr("class","sign-g"),c.data.forEach(function(t,n,e){var i,o;i=t,o=n,P.append("g").selectAll("path").data(a.root.leaves().filter(function(t){t=i.data[t.data.name];return t&&t.type})).enter().each(function(t){var r=Pu(Pu({},ua),i.data[t.data.name]);"bar"==r.type&&r.data&&r.data.forEach(function(t){F<t.value&&(F=t.value)}),Da(Hi(this),r).attr("transform",function(t){var n=this.getBBox(),e=Ra(r,n),n=r.rotate||0,t=t.x+e[0],e=e[1]+(i.distance||0)+(r.distance||0)+c.ringMargin+15+T+I+o*((c.distance||0)+(d.distance||0)+15);return"bar"==r.type&&(n+=90,B=e-5),H(t,e,n)})})})),k&&k.show&&u.forEach(function(t){var n,e,r,i,o,a,u,c,l;console.log(t),-1<t.category.indexOf("tree")?(t.domain=[t.domain[0]||0,t.domain[1]||1],t.range=[t.range[0]||0,t.range[1]||T]):-1<t.category.indexOf("sign")&&(t.domain=[t.domain[0]||0,t.domain[1]||F],t.range=[Math.floor(t.range[0]||B),Math.floor(t.range[1]||B+F-10)]),e=_r((n=t).timeFormat),t=(c=(o=n.type,u=null,a=[],"line"==o?a=(u=qe().domain(n.domain).range(n.range)).ticks(n.ticks||10):"time"==o&&(a=(u=Fi().domain([n.domain[0]||new Date(n.domain[0]),n.domain[1]||new Date(n.domain[1])]).range(n.range)).ticks(n.ticks||10)),{data:a,yscale:u})).data,r=c.yscale,i=n.xTick.length||0,o=n.xTick.dx||0,a=n.xTick.dy||0,u=n.label.dx||0,c=n.label.dy||0,l=-(s[0]-90)*Math.PI/180,n.yLineG&&(n.yLineG.attr("style",Ua(n.yLine.style)).selectAll("line").data(t).enter().append("path").attr("d",function(t){return vo().innerRadius(r(t)).outerRadius(r(t)).startAngle(90*Math.PI/180).endAngle(l)()}),n.yLineG.append("line").attr("x1",n.range[0]).attr("y1",0).attr("x2",n.range[1]).attr("y2",0),n.yLineG.append("line").attr("x1",n.range[0]).attr("y1",0).attr("x2",n.range[1]).attr("y2",0).attr("transform","rotate(".concat(-s[0],")translate(0,0)"))),n.xTickG&&("bottom"==n.position?(n.xTickG.attr("transform","translate(".concat(o,",").concat(a,")")),n.ruleG.attr("transform","translate(".concat(u+o,",").concat(c+a,")"))):(n.xTickG.attr("transform","translate(".concat(o,",").concat(-a,")")),n.ruleG.attr("transform","translate(".concat(u+o,",").concat(-(c+a),")"))),n.xTickG.attr("style",Ua(n.xTick.style)).selectAll("line").data(t).enter().append("line").attr("x1",r).attr("y1",0).attr("x2",r).attr("y2",function(){return"bottom"==n.position?i:-i}),n.xTickG.append("line").attr("x1",n.range[0]).attr("y1",0).attr("x2",n.range[1]).attr("y2",0)),n.ruleG&&n.ruleG.attr("style",Ua(n.label.style)).selectAll("text").data(t).enter().append("text").attr("dy",".31em").attr("x",r).attr("y",function(){var t=-8-i;return"bottom"==n.position?-t:t}).text(function(t){return"line"==n.type?Math.round(100*t)/100+n.label.suffix:"time"==n.type?e(t):void 0})}),h.show&&h.data&&((u=document.querySelector(".sign-g"))&&(E=u.getBBox().width/2),R=[],U=0,(u=O.append("g").attr("class","legend-label").attr("transform","translate("+((h.dx||0)+20)+","+(h.dy||0)+")").selectAll("g").data(h.data).enter().append("g")).append("text").attr("dy",".35em").attr("style",function(t){return Ua(t.label.style)}).text(function(t){return t.label.name}).attr("transform",function(t){return"translate("+((t.label.dx||0)-20)+","+(t.label.dy||0)+")"}),u.each(function(e){0<e.data.length&&ja(Hi(this).selectAll("g").data(e.data).enter().append("g").attr("transform",function(t,n){n=(t.dy||0)+(n+1)*((e.distance||0)+20);return"translate("+(t.dx||0)+","+n+")"})),R.push(this.getBBox().height)}),u.attr("transform",function(t,n){var e=0,e="right"==t.position?E+45:-E-45;if(0<n)for(var r=U=0;r<n;r++)U+=R[n-1];var i=(t.dy||0)+U+n*((t.distance||0)+(h.distance||0)+30);return"translate("+(e+(t.dx||0)+30)+","+(-E+i)+")"}),u=document.querySelector(".svg-warp .legend-label").getBBox(),Hi(".svg-warp .legend-label").attr("transform","translate(0,"+(E-u.height/2)+")")),0<A.length&&O.append("g").attr("class","label-g").selectAll("g").data(A).enter().append("g").attr("style",function(t){return Ua(t.style)}).attr("transform",function(t){return"rotate(".concat(t.angle||0,")translate(").concat(t.dx||0,",").concat(t.dy||0,")")}).append("text").text(function(t){return t.name}),A=i,N&&N.attr("d",A?W:$),p.attr("d",A?G:Y),this.config=Pu(Pu({},t),{},{root:this.root}),this.contextmenu=new Su(this.config,function(t){n.contextmenuClick(t)}),this.zoomIdentity&&(w.transform(O,this.zoomIdentity),C.property("__zoom",this.zoomIdentity)),this.loading.hide()}},{key:"contextmenuClick",value:function(t){var n=t.id,t=t.content;"mark-all-leafs"==n||"mark-all-leafs-cancel"==n||"mark-root-to-branch"==n||"mark-root-to-branch-cancel"==n?this.update():"edit-subtree"==n||"add-subtree"==n?this.init({content:t}):"reverse-subtree"==n?this.update():"delete-subtree"!=n&&"reset-tree"!=n||this.init({content:t})}}])&&Ru(t.prototype,n),r&&Ru(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}(),Jt=Bu(664),tn={};tn.styleTagTransform=fe(),tn.setAttributes=se(),tn.insert=Gn().bind(null,"head"),tn.domAPI=Kt(),tn.insertStyleElement=ir();Xe()(Jt.Z,tn),Jt.Z&&Jt.Z.locals&&Jt.Z.locals;t={baseConfig:t,InitTreeStructure:zu,InitRadialStructure:Uu,InitTreeLayoutStructure:function(t,n){return new("radial"==n.layout?Uu:zu)(t,n)}};window.phyloview=t})()})();